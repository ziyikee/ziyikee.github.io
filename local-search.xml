<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>OSå®éªŒäºŒ</title>
    <link href="/2021/11/30/OS%E5%AE%9E%E9%AA%8C%E4%BA%8C/"/>
    <url>/2021/11/30/OS%E5%AE%9E%E9%AA%8C%E4%BA%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="OSå®éªŒäºŒï¼šè¿›ç¨‹ç®¡ç†ä¸æ­»é”"><a href="#OSå®éªŒäºŒï¼šè¿›ç¨‹ç®¡ç†ä¸æ­»é”" class="headerlink" title="OSå®éªŒäºŒï¼šè¿›ç¨‹ç®¡ç†ä¸æ­»é”"></a>OSå®éªŒäºŒï¼šè¿›ç¨‹ç®¡ç†ä¸æ­»é”</h1><h2 id="1-åˆ›å»ºçˆ¶å­è¿›ç¨‹"><a href="#1-åˆ›å»ºçˆ¶å­è¿›ç¨‹" class="headerlink" title="1.åˆ›å»ºçˆ¶å­è¿›ç¨‹"></a>1.åˆ›å»ºçˆ¶å­è¿›ç¨‹</h2><p><img src="/2021/11/30/OS%E5%AE%9E%E9%AA%8C%E4%BA%8C/MyBlog\source_posts\OSå®éªŒäºŒ\test1è¦æ±‚.png" srcset="/img/loading.gif" lazyload alt="test1è¦æ±‚"></p><p>åˆ›å»ºæµ‹è¯•ç¨‹åºï¼Œè®©çˆ¶è¿›ç¨‹æå‰ç»“æŸï¼š</p><p><img src="/2021/11/30/OS%E5%AE%9E%E9%AA%8C%E4%BA%8C/MyBlog\source_posts\OSå®éªŒäºŒ\åˆ›å»ºå­è¿›ç¨‹æµ‹è¯•ä»£ç .png" srcset="/img/loading.gif" lazyload alt="åˆ›å»ºå­è¿›ç¨‹æµ‹è¯•ä»£ç "></p><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="/2021/11/30/OS%E5%AE%9E%E9%AA%8C%E4%BA%8C/MyBlog\source_posts\OSå®éªŒäºŒ\test1.png" srcset="/img/loading.gif" lazyload alt="test1"></p><h2 id="2-å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼"><a href="#2-å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼" class="headerlink" title="2. å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼"></a>2. å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼</h2><h3 id="2-1-ä½¿ç”¨æ¡ä»¶å˜é‡å®ç°"><a href="#2-1-ä½¿ç”¨æ¡ä»¶å˜é‡å®ç°" class="headerlink" title="2.1 ä½¿ç”¨æ¡ä»¶å˜é‡å®ç°"></a>2.1 ä½¿ç”¨æ¡ä»¶å˜é‡å®ç°</h3><p>äººéº»äº†ï¼Œæ”¹äº†ä¸€ä¸‹åˆçš„ä»£ç å…¶å®å¹¶æ²¡æœ‰é—®é¢˜ï¼Œåªæ˜¯å› ä¸ºä¸»çº¿ç¨‹æ²¡æœ‰ç­‰ä¸¤ä¸ªå­çº¿ç¨‹æ‰§è¡Œå®Œå°±é€€å‡ºäº†ï¼Œæ‰€ä»¥å‘½ä»¤è¡Œçœ‹ä¸åˆ°å­çº¿ç¨‹æ‰“å°çš„æ•°æ®ï¼ŒåŠ ä¸Šjoinå‡½æ•°å°±å¯ä»¥äº†ï¼ï¼ï¼ğŸ˜£ğŸ˜£ğŸ˜£ğŸ˜£</p><p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span><br><span class="hljs-keyword">pthread_mutex_t</span>  mutex;<br><span class="hljs-keyword">pthread_cond_t</span> fill,empty;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAX 100</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> FULL 10</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ZERO 0</span><br><span class="hljs-keyword">int</span> count=<span class="hljs-number">0</span> ;<br><span class="hljs-function"><span class="hljs-keyword">void</span> *<span class="hljs-title">producer</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* args)</span></span>&#123;<br>   <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;<br>   <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;MAX;i++)&#123;<br>       <span class="hljs-built_in">pthread_mutex_lock</span>(&amp;mutex);<br>       <span class="hljs-keyword">while</span>(count==FULL)&#123;<br>         <span class="hljs-built_in">pthread_cond_wait</span>(&amp;empty,&amp;mutex);<br>      &#125;<br>      count++;<br>      <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ç”Ÿäº§è€…%dï¼Œç”Ÿäº§ï¼š%d\n&quot;</span>,<span class="hljs-built_in">pthread_self</span>(),count);<br>      <span class="hljs-built_in">pthread_cond_signal</span>(&amp;fill);<br>      <span class="hljs-built_in">pthread_mutex_unlock</span>(&amp;mutex);<br>   &#125;<br>   <span class="hljs-built_in">pthread_exit</span>(<span class="hljs-number">0</span>);<br>&#125;         <br>         <br><span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">consumer</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* args)</span></span>&#123;<br>  <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>;i&lt;MAX;i++)&#123;<br>      <span class="hljs-built_in">pthread_mutex_lock</span>(&amp;mutex);<br>      <span class="hljs-keyword">while</span>(count==ZERO)&#123;<br>          <span class="hljs-built_in">pthread_cond_wait</span>(&amp;fill,&amp;mutex);<br>      &#125;<br>      <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ¶ˆè´¹è€…%dï¼Œæ¶ˆè´¹ï¼š%d\n&quot;</span>,<span class="hljs-built_in">pthread_self</span>(),count); <br>      count--; <br>     <span class="hljs-built_in">pthread_cond_signal</span>(&amp;empty);<br>     <span class="hljs-built_in">pthread_mutex_unlock</span>(&amp;mutex);<br>  &#125; <br>  <span class="hljs-built_in">pthread_exit</span>(<span class="hljs-number">0</span>); <br>&#125;   <br>    <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>     <span class="hljs-keyword">pthread_t</span> p1,p2,s1,s2;   <span class="hljs-comment">//ä¸¤ä¸ªæ¶ˆè´¹è€…ï¼Œä¸¤ä¸ªç”Ÿäº§è€…</span><br>     <span class="hljs-built_in">pthread_mutex_init</span>(&amp;mutex,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_cond_init</span>(&amp;empty,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_cond_init</span>(&amp;fill,<span class="hljs-number">0</span>);<br>     count = <span class="hljs-number">0</span>;<br>     <span class="hljs-built_in">pthread_create</span>(&amp;p1,<span class="hljs-literal">NULL</span>,producer,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_create</span>(&amp;s1,<span class="hljs-literal">NULL</span>,consumer,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_create</span>(&amp;p2,<span class="hljs-literal">NULL</span>,producer,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_create</span>(&amp;s2,<span class="hljs-literal">NULL</span>,consumer,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_join</span>(p1,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_join</span>(p2,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_join</span>(s1,<span class="hljs-number">0</span>);<br>     <span class="hljs-built_in">pthread_join</span>(s2,<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">pthread_mutex_destroy</span>(&amp;mutex);<br>    <span class="hljs-built_in">pthread_cond_destroy</span>(&amp;empty);<br>    <span class="hljs-built_in">pthread_cond_destroy</span>(&amp;fill);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="/2021/11/30/OS%E5%AE%9E%E9%AA%8C%E4%BA%8C/MyBlog\source_posts\OSå®éªŒäºŒ\æ¡ä»¶å˜é‡è§£å†³ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜.png" srcset="/img/loading.gif" lazyload alt="æ¡ä»¶å˜é‡è§£å†³ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜"></p><h3 id="2-2-ä½¿ç”¨ä¿¡å·é‡å®ç°"><a href="#2-2-ä½¿ç”¨ä¿¡å·é‡å®ç°" class="headerlink" title="2.2 ä½¿ç”¨ä¿¡å·é‡å®ç°"></a>2.2 ä½¿ç”¨ä¿¡å·é‡å®ç°</h3><p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;semaphore.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAX_PRO 2</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAX 10</span><br><span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">sem_t</span> empty,fill,mutex;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> *<span class="hljs-title">producer</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* args)</span></span>&#123;<br>  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>;i&lt;=<span class="hljs-number">100</span>;i++)&#123;<br>     <span class="hljs-built_in">sem_wait</span>(&amp;empty);<br>     <span class="hljs-built_in">sem_wait</span>(&amp;mutex);<br>     count++;<br>     <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ç”Ÿäº§è€…%dï¼Œç”Ÿäº§ï¼š%d\n&quot;</span>,<span class="hljs-built_in">pthread_self</span>(),count);<br>     <span class="hljs-built_in">sem_post</span>(&amp;mutex);<br>     <span class="hljs-built_in">sem_post</span>(&amp;fill);<br>  &#125;<br>  <span class="hljs-built_in">pthread_exit</span>(<span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> *<span class="hljs-title">consumer</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* args)</span></span>&#123;<br>  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>;i&lt;=<span class="hljs-number">100</span>;i++)&#123;<br>     <span class="hljs-built_in">sem_wait</span>(&amp;fill);<br>     <span class="hljs-built_in">sem_wait</span>(&amp;mutex);<br>     <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ¶ˆè´¹è€…%dï¼Œæ¶ˆè´¹ï¼š%d\n&quot;</span>,<span class="hljs-built_in">pthread_self</span>(),count);<br>     count--;<br>     <span class="hljs-built_in">sem_post</span>(&amp;mutex);<br>     <span class="hljs-built_in">sem_post</span>(&amp;empty);<br> &#125;<br> <span class="hljs-built_in">pthread_exit</span>(<span class="hljs-number">0</span>);<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>  <span class="hljs-keyword">pthread_t</span> p1,p2,s1,s2;<br>  <span class="hljs-built_in">sem_init</span>(&amp;mutex,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);<span class="hljs-comment">//ä¿è¯æ“ä½œcountæ—¶ï¼Œäº’æ–¥</span><br>  <span class="hljs-built_in">sem_init</span>(&amp;fill,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<span class="hljs-comment">//fillåˆå§‹ä¸º0ï¼Œè¡¨ç¤ºè¿˜æ²¡æœ‰äº§å“</span><br>  <span class="hljs-built_in">sem_init</span>(&amp;empty,<span class="hljs-number">0</span>,MAX_PRO);<span class="hljs-comment">//åˆå§‹ä¸ºæœ€å¤§çš„ç”Ÿäº§è€…æ•°é‡</span><br>  <span class="hljs-built_in">pthread_create</span>(&amp;p1,<span class="hljs-number">0</span>,producer,<span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">pthread_create</span>(&amp;p2,<span class="hljs-number">0</span>,producer,<span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">pthread_create</span>(&amp;s1,<span class="hljs-number">0</span>,consumer,<span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">pthread_create</span>(&amp;s2,<span class="hljs-number">0</span>,consumer,<span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">pthread_join</span>(p1,<span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">pthread_join</span>(p2,<span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">pthread_join</span>(s1,<span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">pthread_join</span>(s2,<span class="hljs-number">0</span>);<br><br> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="/2021/11/30/OS%E5%AE%9E%E9%AA%8C%E4%BA%8C/MyBlog\source_posts\OSå®éªŒäºŒ\ä¿¡å·é‡æµ‹è¯•.png" srcset="/img/loading.gif" lazyload alt="ä¿¡å·é‡æµ‹è¯•"></p>]]></content>
    
    
    <categories>
      
      <category>HUST</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>OSå®éªŒä¸€</title>
    <link href="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/"/>
    <url>/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/</url>
    
    <content type="html"><![CDATA[<h1 id="HUSTæ“ä½œç³»ç»Ÿå®éªŒä¸€"><a href="#HUSTæ“ä½œç³»ç»Ÿå®éªŒä¸€" class="headerlink" title="HUSTæ“ä½œç³»ç»Ÿå®éªŒä¸€"></a>HUSTæ“ä½œç³»ç»Ÿå®éªŒä¸€</h1><h2 id="1-å®‰è£…é“¶æ²³éº’éºŸiso"><a href="#1-å®‰è£…é“¶æ²³éº’éºŸiso" class="headerlink" title="1.å®‰è£…é“¶æ²³éº’éºŸiso"></a>1.å®‰è£…é“¶æ²³éº’éºŸiso</h2><p>â€‹    ä¸‹è½½isoï¼Œ<a href="https://mirrors.aliyun.com/ubuntukylin-cdimage/">é˜¿é‡Œé•œåƒç½‘å€</a></p><p>â€‹    VMwareä½¿ç”¨ä¸‹è½½çš„isoæ–°å»ºè™šæ‹Ÿæœº</p><h2 id="2-å®éªŒå†…å®¹"><a href="#2-å®éªŒå†…å®¹" class="headerlink" title="2.å®éªŒå†…å®¹"></a>2.å®éªŒå†…å®¹</h2><h3 id="2-1-ç”¨NASMç¼–å†™MBRå¼•å¯¼ç¨‹åºï¼Œå†™å…¥è½¯ç›˜ï¼Œåœ¨BOCHSè™šæ‹Ÿæœºä¸­æµ‹è¯•"><a href="#2-1-ç”¨NASMç¼–å†™MBRå¼•å¯¼ç¨‹åºï¼Œå†™å…¥è½¯ç›˜ï¼Œåœ¨BOCHSè™šæ‹Ÿæœºä¸­æµ‹è¯•" class="headerlink" title="2.1 ç”¨NASMç¼–å†™MBRå¼•å¯¼ç¨‹åºï¼Œå†™å…¥è½¯ç›˜ï¼Œåœ¨BOCHSè™šæ‹Ÿæœºä¸­æµ‹è¯•"></a>2.1 ç”¨NASMç¼–å†™MBRå¼•å¯¼ç¨‹åºï¼Œå†™å…¥è½¯ç›˜ï¼Œåœ¨BOCHSè™šæ‹Ÿæœºä¸­æµ‹è¯•</h3><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/1.png" srcset="/img/loading.gif" lazyload alt="1"></p><ol><li><p>å®‰è£…NASM</p><ul><li><p>å®˜ç½‘ä¸‹è½½<a href="https://www.nasm.us/">NASM</a></p></li><li><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼ˆ<strong>å®éªŒ2.1çš„æ‰€æœ‰æ“ä½œéƒ½åœ¨/usr/localä¸‹æ“ä½œ</strong>ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment">#å…ˆè¿›å…¥åˆ°å‹ç¼©åŒ…æ‰€åœ¨çš„ç›®å½•</span><br>tar xvf nasm-2.15.05.tar.gz  <span class="hljs-comment">#è§£å‹å‹ç¼©åŒ…</span><br><br><span class="hljs-built_in">cd</span> nasm-2.15.05<br><br>./configure<br><br>make<br><br>sudo make install<br><br><span class="hljs-comment">#æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><br>root@zykk-VMware-Virtual-Platform:/usr/<span class="hljs-built_in">local</span>/bin<span class="hljs-comment"># whereis nasm</span><br>nasm: /usr/<span class="hljs-built_in">local</span>/bin/nasm<br><br></code></pre></div></td></tr></table></figure></li></ul></li><li><p>åˆ›å»ºå¼•å¯¼æ‰‡åŒº</p><p>åœ¨/usr/local/ç›®å½•ä¸‹ä½¿ç”¨<code>vim boot.asm</code>åˆ›å»ºboot.asmæ–‡ä»¶ï¼Œå­˜æ”¾å¼•å¯¼æ‰‡åŒºçš„æ±‡ç¼–ä»£ç ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight x86asm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs x86asm">org <span class="hljs-number">07c00h</span><br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>, <span class="hljs-built_in">cs</span><br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">ds</span>, <span class="hljs-built_in">ax</span><br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">es</span>, <span class="hljs-built_in">ax</span><br><span class="hljs-keyword">call</span> DispStr<br><span class="hljs-keyword">jmp</span> $<br><span class="hljs-symbol">DispStr:</span><br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>, BootMessage<br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">bp</span>, <span class="hljs-built_in">ax</span><br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">cx</span>, <span class="hljs-number">16</span><br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>, <span class="hljs-number">01301h</span><br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">bx</span>, <span class="hljs-number">000ch</span><br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">dl</span>, <span class="hljs-number">0</span><br><span class="hljs-keyword">int</span> <span class="hljs-number">10h</span><br><span class="hljs-keyword">ret</span><br><span class="hljs-symbol">BootMessage:</span> <span class="hljs-built_in">db</span> <span class="hljs-string">&quot;Hello, OS world!&quot;</span><br><span class="hljs-built_in">times</span> <span class="hljs-number">510</span> - ($-$$) <span class="hljs-built_in">db</span> <span class="hljs-number">0</span><br><span class="hljs-built_in">dw</span> <span class="hljs-number">0xaa55</span><br></code></pre></div></td></tr></table></figure><p>ä¿å­˜æ–‡ä»¶åé€€å‡ºï¼Œä½¿ç”¨å‘½ä»¤<code>nasm boot.asm -o boot.bin</code>ç”Ÿæˆboot.binæ–‡ä»¶</p></li><li><p>å®‰è£…Bochs</p><ul><li><p><a href="https://bochs.sourceforge.io/">Bochs</a>å®˜ç½‘ä¸‹è½½å‹ç¼©åŒ…ï¼Œæ”¾ç½®åœ¨æŒ‡å®šç›®å½•ä¸‹è§£å‹<code>tar xvf bochs-2.7.tar.gz</code></p></li><li><p>è§£å‹å®Œæˆåï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p><figure class="highlight gauss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gauss">cd bochs<span class="hljs-number">-2.7</span><br><br>./configure --<span class="hljs-keyword">enable</span>-debugger --<span class="hljs-keyword">enable</span>-disasm<br><br><span class="hljs-built_in">make</span><br><br>sudo <span class="hljs-built_in">make</span> install<br></code></pre></div></td></tr></table></figure></li><li><p>è¾“å…¥<code>bochs</code>æŸ¥çœ‹æ˜¯å¦ç¼–è¯‘å®‰è£…æˆåŠŸï¼ŒæˆåŠŸåæ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/2.png" srcset="/img/loading.gif" lazyload alt="2"></p></li></ul></li><li><p>ä½¿ç”¨bximageåˆ›å»ºè™šæ‹Ÿè½¯ç›˜</p><p>è¾“å…¥å‘½ä»¤<code>bximage</code>,æ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/3.png" srcset="/img/loading.gif" lazyload alt="3"></p></li></ol><p>â€‹       é€‰æ‹©ç”Ÿæˆfdè½¯ç›˜ï¼Œå…¶ä»–é€‰æ‹©ä½¿ç”¨é»˜è®¤å€¼ï¼Œç›´æ¥å›è½¦ï¼Œå®Œæˆä¹‹åï¼Œå½“å‰ç›®å½•ä¸‹ä¼šç”Ÿæˆè½¯ç›˜æ˜ åƒa.img</p><ol start="5"><li><p>å°†å¼•å¯¼æ‰‡åŒºå†™å…¥è½¯ç›˜</p><p>æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">dd <span class="hljs-attribute">if</span>=boot.bin <span class="hljs-attribute">of</span>=a.img <span class="hljs-attribute">bs</span>=512 <span class="hljs-attribute">count</span>=1 <span class="hljs-attribute">conv</span>=notrunc<br></code></pre></div></td></tr></table></figure></li><li><p>ç¼–å†™Bochsçš„é…ç½®æ–‡ä»¶</p><p><code>vim bochsrc</code>åˆ›å»ºæ–‡ä»¶ï¼Œå†™å…¥ä¸‹é¢çš„å†…å®¹å¹¶ä¿å­˜ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dts"><span class="hljs-symbol">megs:</span><span class="hljs-number">128</span><br><span class="hljs-meta">#æ¨¡æ‹Ÿå™¨çš„å†…å­˜  </span><br><br><span class="hljs-meta">#ä¸‹é¢è¿™ä¸¤ä¸ªè·¯å¾„éœ€è¦è‡ªå·±å»çœ‹ä¸€ä¸‹å¯¹åº”è·¯å¾„ä¸‹æ˜¯å¦çœŸçš„æœ‰è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œé˜²æ­¢è·¯å¾„å‡ºé”™</span><br><span class="hljs-symbol">romimage:</span>file=<span class="hljs-meta-keyword">/usr/</span>local<span class="hljs-meta-keyword">/share/</span>bochs/BIOS-bochs-latest<br><span class="hljs-meta">#è¿™ä¸ªæ˜¯BIOS-bochs-latestçš„è·¯å¾„ï¼Œå¯èƒ½ä¸ä¸€æ ·</span><br><span class="hljs-symbol"></span><br><span class="hljs-symbol">vgaromimage:</span>file=<span class="hljs-meta-keyword">/usr/</span>local<span class="hljs-meta-keyword">/share/</span>bochs/VGABIOS-lgpl-latest  <br><span class="hljs-meta">#è¿™ä¸ªæ˜¯VGABIOS-lgpl-latestçš„è·¯å¾„ï¼Œä¹Ÿå¯èƒ½ä¸ä¸€æ ·</span><br><span class="hljs-symbol"></span><br><span class="hljs-symbol">floppya:</span><span class="hljs-number">1</span>_44=a.img,status=inserted <br><span class="hljs-meta">#è¿™ä¸ªæ˜¯å¯åŠ¨è½¯ç›˜,åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œå¦‚æœä¸åœ¨å½“å‰ç›®å½•ï¼Œéœ€è¦æŒ‡æ˜è·¯å¾„  </span><br><span class="hljs-symbol"></span><br><span class="hljs-symbol">boot:</span>floppy  <br><span class="hljs-meta">#è¡¨ç¤ºä»è½¯ç›˜å¯åŠ¨</span><br><span class="hljs-symbol"></span><br><span class="hljs-symbol">log:</span>bochsout.txt  <br><span class="hljs-meta">#æ—¥å¿—è¾“å‡ºæ–‡ä»¶</span><br></code></pre></div></td></tr></table></figure><p>æ‰§è¡Œï¼š<code>bochs -f bochsrc</code>ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/4.png" srcset="/img/loading.gif" lazyload alt="4"></p></li></ol><p>â€‹       é€‰æ‹©6å¼€å§‹æ¨¡æ‹Ÿï¼Œä¼šå¼¹å‡ºé»‘è‰²çª—å£ï¼Œè¾“å…¥cåæ˜¾ç¤ºâ€œHelloï¼ŒOS  worldï¼â€ï¼Œå¦‚å›¾ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/5.png" srcset="/img/loading.gif" lazyload alt="5"></p><p>å‚è€ƒé“¾æ¥:</p><p><a href="https://www.cnblogs.com/chengmf/p/12526821.html">Linuxä¸‹Bochsï¼ŒNASMå®‰è£…å’Œä½¿ç”¨ - æ”¾é£æ¢¦æƒ³C - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://www.icode9.com/content-1-922657.html">OSå®éªŒ ï¼š ç”¨NASMç¼–å†™MBRå¼•å¯¼ç¨‹åºï¼Œåœ¨BOCHSè™šæ‹Ÿæœºä¸­æµ‹è¯• (icode9.com)</a></p><h3 id="2-2-åœ¨Ubuntuï¼ˆæˆ–é“¶æ²³éº’éºŸï¼‰ä¸‹è£å‰ªå’Œç¼–è¯‘Linuxå†…æ ¸ï¼Œå¹¶å¯ç”¨æ–°å†…æ ¸"><a href="#2-2-åœ¨Ubuntuï¼ˆæˆ–é“¶æ²³éº’éºŸï¼‰ä¸‹è£å‰ªå’Œç¼–è¯‘Linuxå†…æ ¸ï¼Œå¹¶å¯ç”¨æ–°å†…æ ¸" class="headerlink" title="2.2 åœ¨Ubuntuï¼ˆæˆ–é“¶æ²³éº’éºŸï¼‰ä¸‹è£å‰ªå’Œç¼–è¯‘Linuxå†…æ ¸ï¼Œå¹¶å¯ç”¨æ–°å†…æ ¸"></a>2.2 åœ¨Ubuntuï¼ˆæˆ–é“¶æ²³éº’éºŸï¼‰ä¸‹è£å‰ªå’Œç¼–è¯‘Linuxå†…æ ¸ï¼Œå¹¶å¯ç”¨æ–°å†…æ ¸</h3><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/6.png" srcset="/img/loading.gif" lazyload alt="6"></p><ol><li><p>è™šæ‹Ÿæœºå®¹é‡</p><p>ä¸ºäº†ä¿è¯ç¼–è¯‘å†…æ ¸çš„ç©ºé—´è¶³å¤Ÿï¼Œå°½é‡åˆ†é…è¾ƒå¤§çš„ç£ç›˜ç©ºé—´ï¼Œé¦–å…ˆåœ¨è™šæ‹Ÿæœºè®¾ç½®é‡Œå°†ç¡¬ç›˜å®¹é‡å°½å¯èƒ½è°ƒå¤§ï¼Œæˆ‘è¿™é‡Œè®¾ç½®ç¡¬ç›˜ç©ºé—´ä¸º120GBï¼Œå¦‚æœäº†è§£é“¶æ²³éº’éºŸçš„è‡ªå®šä¹‰åˆ†ç›˜çš„è¯ï¼Œåˆ™ä¸å¿…è®¾ç½®é‚£ä¹ˆå¤§ï¼Œä¿è¯æ–‡ä»¶æ ¹ç›®å½•çš„å¤§å°æœ‰50GBä»¥ä¸Šå°±å¯ä»¥ï¼Œä½†æ˜¯æˆ‘åœ¨è‡ªå®šä¹‰åˆ†åŒºæ—¶ï¼Œè™½ç„¶ç³»ç»Ÿå®‰è£…æˆåŠŸï¼Œä½†å®‰è£…ä¹‹åé‡å¯æ—¶ï¼Œç³»ç»Ÿæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„åˆ†åŒºæ–¹å¼ã€‚åœ¨ç³»ç»Ÿé»˜ç„¶çš„åˆ†åŒºæ–¹å¼ä¸­ï¼Œä»¥120GBä¸ºä¾‹ï¼Œåˆ†ç»™æ–‡ä»¶ç³»ç»Ÿæ ¹ç›®å½•çš„åªæœ‰49GBï¼Œè¿˜æœ‰30GBåˆ†ç»™äº†dataï¼Œä½†æ˜¯æˆ‘ä»¬ç¼–è¯‘å†…æ ¸æ—¶å¹¶ä¸ä¼šç”¨åˆ°dataç›®å½•ï¼Œæ‰€ä»¥è¦å°½å¯èƒ½æŠŠæ•´ä¸ªç¡¬ç›˜å¤§å°è°ƒå¤§ï¼Œä»¥ä¿è¯æ ¹ç›®å½•ä¸‹çš„ç©ºé—´è¶³å¤Ÿã€‚å¦‚æœç©ºé—´ä¸å¤Ÿï¼Œå¯èƒ½ç¼–è¯‘å¥½ä¹…ä¹‹åï¼ŒæŠ¥é”™æŒ‡æ˜ç©ºé—´ä¸å¤Ÿï¼Œä¹‹å‰çš„ç¼–è¯‘ä¹Ÿå°±ç™½è´¹äº†ã€‚</p></li><li><p>ä¸‹è½½è§£å‹Linuxæºç åŒ…</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://mirrors.edge.kernel.org/pub/linux/kernel/">Linuxæºç åŒ…é•œåƒåœ°å€</a></p><p>ä¸‹è½½ä¹‹åè§£å‹åˆ°è™šæ‹Ÿæœºä¸‹å³å¯ï¼Œè§£å‹åˆ°/usr/srcç›®å½•ä¸‹</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/8.png" srcset="/img/loading.gif" lazyload alt="8"></p></li><li><p>ç¼–è¯‘å†…æ ¸</p><p>ç»è¿‡å¤šæ¬¡è¡€ä¸æ³ªçš„å®éªŒï¼ˆåŒ…æ‹¬è‡³å°‘6æ¬¡é‡è£…è™šæ‹Ÿæœºï¼Œ4æ¬¡makeï¼‰,é‡‡ç”¨ä¸‹é¢çš„å‡ ä¸ªæ­¥éª¤æ›´ä¸ºç¨³å¦¥ï¼š</p><ul><li><p>åœ¨è¿›è¡Œä¸‹é¢çš„apt-getä¹‹å‰ï¼Œæ‰§è¡Œ<code>apt update</code>ï¼Œ<code>apt upgrade</code>è¿™ä¸¤ä¸ªå‘½ä»¤ï¼Œæ¥æ›´æ–°ç³»ç»Ÿå½“å‰çš„è½¯ä»¶åŒ…ï¼Œä¸ç„¶å¯èƒ½ä¼šå‡ºç°apt-getæ‰¾ä¸åˆ°è½¯ä»¶åŒ…çš„æƒ…å†µã€‚å¦‚æœæœ‰å¾ˆå¤šçš„è½¯ä»¶åŒ…æ²¡æœ‰æ›´æ–°çš„è¯ï¼Œç¬¬äºŒä¸ªå‘½ä»¤ä¼šæ‰§è¡Œè¾ƒé•¿çš„æ—¶é—´ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚</p></li><li><p>æ‰“å¼€ç³»ç»Ÿè®¾ç½®ï¼Œè¿›å…¥å®‰å…¨ä¸­å¿ƒï¼Œè¿›å…¥åº”ç”¨æ§åˆ¶ä¸ä¿æŠ¤ï¼Œé€‰æ‹©å…è®¸å®‰è£…ä»»ä½•æ¥æºçš„ç¨‹åºï¼Œå¦‚æœæ²¡æœ‰é€‰æ‹©å…è®¸å®‰è£…ä»»ä½•æ¥æºçš„ç¨‹åºï¼Œå³ä¾¿æ˜¯åœ¨rootç”¨æˆ·ä¸‹makeç¼–è¯‘ï¼Œæœ¬ç³»ç»Ÿè¿˜æ˜¯ä¼šä¸æ–­çš„è¯¢é—®æ˜¯å¦å…è®¸å®‰è£…ï¼Œå¦‚æœå…è®¸ä¸å³æ—¶ï¼Œå°±ä¼šå¯¼è‡´å› ä¸ºæ²¡æœ‰æƒé™è€Œmakeå¤±è´¥</p><p>éå¸¸çƒ¦äººï¼</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E5%85%B3%E9%97%AD%E5%AE%89%E8%A3%85%E4%BF%9D%E6%8A%A4.png" srcset="/img/loading.gif" lazyload alt="å…³é—­å®‰è£…ä¿æŠ¤"></p></li><li><p>å®‰è£…åŸºæœ¬çš„å·¥å…·è½¯ä»¶ï¼š</p></li></ul><figure class="highlight q"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs q">sudo apt-<span class="hljs-built_in">get</span> install libncurses5-<span class="hljs-built_in">dev</span> libssl-<span class="hljs-built_in">dev</span> <br><br>sudo apt-<span class="hljs-built_in">get</span> install build-essential openssl <br><br>sudo apt-<span class="hljs-built_in">get</span> install zlibc minizip <br><br>sudo apt-<span class="hljs-built_in">get</span> install libidn11-<span class="hljs-built_in">dev</span> libidn11<br><br>sudo apt-<span class="hljs-built_in">get</span> install flex bison <span class="hljs-comment">//ä¸‹é¢çš„makeä¼šç”¨åˆ°</span><br><br>sudo apt-<span class="hljs-built_in">get</span> install libelf-<span class="hljs-built_in">dev</span> <span class="hljs-comment">//æŸæ¬¡ç¼–è¯‘å› ä¸ºæ²¡å®‰è£…è¿™ä¸ªï¼Œå¯¼è‡´åˆç¼–è¯‘äº†ä¸€éï¼ï¼</span><br></code></pre></div></td></tr></table></figure><ul><li><p>è¿›å…¥Linxuæºç åŒ…è§£å‹åçš„ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">sudo <span class="hljs-keyword">make</span> mrproper <br><br>sudo <span class="hljs-keyword">make</span> clean <br><br>sudo <span class="hljs-keyword">make</span> menuconfig  <br>//æç¤º<span class="hljs-keyword">make</span>å‡ºé”™ï¼Œç¼ºå°‘flex bisonï¼Œç›´æ¥apt-<span class="hljs-built_in">get</span> install flex bisonå³å¯<br></code></pre></div></td></tr></table></figure><p>ä¸Šè¿°ä¸‰ä¸ªå‘½ä»¤ä¸­ï¼Œmrproperä¸ºæ¸…é™¤ç¼–è¯‘è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ‰€æœ‰ä¸­é—´æ–‡ä»¶ï¼Œcleanä¸ºæ¸…é™¤ä¸Šä¸€æ¬¡äº§ç”Ÿçš„ç¼–è¯‘ä¸­é—´æ–‡ä»¶ï¼Œåœ¨make menuconfigä¸­å‡ºç°å›¾å½¢ç•Œé¢åï¼Œè¯´æ˜makeæ²¡é—®é¢˜ï¼ŒæŒ‰é”®ç›˜çš„å³ç®­å¤´é€‰åˆ°exité€€å‡ºå³å¯ï¼Œé€€å‡ºæç¤ºä¸­é€‰æ‹©ä¿å­˜ï¼Œå®ç°å†…æ ¸çš„é»˜è®¤é…ç½®ã€‚</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/9.png" srcset="/img/loading.gif" lazyload alt="å›¾å½¢åŒ–ç•Œé¢"></p></li><li><p>è¿›è¡Œç¼–è¯‘ï¼Œæ‰§è¡Œå‘½ä»¤<code>sudo make -j8</code></p><p><code>make -j8</code>æ˜¯æŒ‡ä½¿ç”¨8ä¸ªçº¿ç¨‹å¹¶è¡Œç¼–è¯‘ï¼Œè¿™æ ·ç¼–è¯‘é€Ÿåº¦è¦æ¯”æ™®é€šçš„makeå‘½ä»¤å¿«å¾ˆå¤šï¼Œä½†ä¾ç„¶ä¼šå¾ˆè€—æ—¶ï¼Œå¦‚æœå¤„ç†å™¨æ€§èƒ½è¾ƒå¥½ï¼Œå¯èƒ½ä¸åˆ°ä¸€ä¸ªå°æ—¶å°±å¯ç¼–è¯‘å®Œæˆï¼Œå¦åˆ™å¯èƒ½éœ€è¦æ›´å¤šçš„æ—¶é—´ï¼Œæˆ‘å®éªŒçš„æœºå­æ˜¯intel i5ï¼Œç¼–è¯‘äº†ä¸¤ä¸ªè¿‡å°æ—¶ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°å„ç§å„æ ·çš„é—®é¢˜ï¼Œä½†ç»è¿‡å‰é¢å‡ ä¸ªæ­¥éª¤çš„é“ºå«ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä¹‹å‰é‡åˆ°çš„é—®é¢˜éƒ½ä¸ä¼šå‡ºç°äº†ã€‚</p><p>makeé¡ºåˆ©å®Œæˆåï¼š<img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/makej8.png" srcset="/img/loading.gif" lazyload alt="makej8"></p><p>å‡ºç°æœ€åä¸€ä¸ªè¡Œ<code>Kernelï¼šarch/x86/boot/bxImage is ready (#2)</code>,è¯´æ˜å·²ç»makeæˆåŠŸå•¦ï¼</p></li><li><p>æ‰§è¡Œå‘½ä»¤<code>make modules_install</code>,å®‰è£…å†…æ ¸æ¨¡å—</p><p>è¯¥å‘½ä»¤ä¹Ÿéœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œå¦‚æœä¸Šä¸€æ­¥çš„makeæ²¡æœ‰é—®é¢˜ï¼Œè¿™é‡Œçš„å‘½ä»¤åº”è¯¥æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼ŒæˆåŠŸç»“æŸåï¼š<img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/modules_install.png" srcset="/img/loading.gif" lazyload alt="modules_install"></p></li><li><p> æ‰§è¡Œå‘½ä»¤<code>make install</code>,è¿™ä¸ªå‘½ä»¤å¾ˆå¿«å°±å¯ä»¥ç»“æŸï¼ŒæˆåŠŸæ‰§è¡Œå</p></li></ul><p>  <img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/makeinstall.png" srcset="/img/loading.gif" lazyload alt="makeinstall"></p><p>  åˆ°è¿™é‡Œå·²ç»æˆåŠŸç¼–è¯‘äº†å†…æ ¸ï¼Œå¹¶åµŒå…¥äº†æ“ä½œç³»ç»Ÿ~~</p></li><li><p>é€‰æ‹©æ–°å†…æ ¸å¯åŠ¨</p></li></ol><p>â€‹     é‡å¯è™šæ‹Ÿæœºï¼Œåœ¨é‡å¯å¼€æœºç•Œé¢æŒ‰ä½shiftï¼Œå‡ºç°å†…æ ¸é€‰æ‹©åŠ è½½ç•Œé¢ï¼Œé€‰æ‹©é«˜çº§é€‰é¡¹å¹¶è¿›å…¥ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E5%86%85%E6%A0%B8%E9%80%89%E6%8B%A9%E5%8A%A0%E8%BD%BD%E7%95%8C%E9%9D%A2.png" srcset="/img/loading.gif" lazyload alt="å†…æ ¸é€‰æ‹©åŠ è½½ç•Œé¢"></p><p>â€‹    è¿›å…¥é«˜çº§é€‰é¡¹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‡ºç°ä¸¤ä¸ªå†…æ ¸ç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜¯åŸæ¥çš„5.10.0ï¼Œå¦ä¸€ä¸ªæ˜¯æˆ‘ä»¬æ–°å®‰è£…çš„5.10.1ï¼Œè¿™é‡Œé’ˆå¯¹æ¯ä¸€ä¸ªç‰ˆæœ¬éƒ½æœ‰ä¸¤      ä¸ªé€‰é¡¹ï¼Œç¬¬ä¸€ä¸ªé€‰é¡¹æ˜¯æœ‰é“¶æ²³éº’éºŸæ“ä½œç•Œé¢çš„ï¼Œç¬¬äºŒä¸ªé€‰é¡¹æ˜¯çº¯å‘½ä»¤è¡Œç•Œé¢</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E9%80%89%E6%8B%A9%E5%86%85%E6%A0%B8.png" srcset="/img/loading.gif" lazyload alt="é€‰æ‹©å†…æ ¸"></p><p>â€‹    é€‰æ‹©æ–°å®‰è£…çš„5.10.1ç‰ˆæœ¬ï¼ŒæˆåŠŸè¿›å…¥å‘½ä»¤è¡Œï¼Œä½¿ç”¨å‘½ä»¤<code>uname -a</code>æŸ¥çœ‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E5%86%85%E6%A0%B8%E7%95%8C%E9%9D%A2.png" srcset="/img/loading.gif" lazyload alt="å†…æ ¸ç•Œé¢"></p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E5%8E%9F%E7%89%88%E6%9C%AC.png" srcset="/img/loading.gif" lazyload alt="åŸç‰ˆæœ¬"></p><p>â€‹    åˆ°è¿™é‡Œï¼Œæ–°çš„å†…æ ¸å·²ç»æˆåŠŸè¢«å¯ç”¨äº†ï¼ï¼ï¼</p><ol start="5"><li><p>å‚è€ƒé“¾æ¥ï¼š</p><p><a href="https://www.cnblogs.com/acm-icpcer/p/8029656.html">æœ€å…¨æœ€è¯¦ç»†ï¼šubuntu16.04ä¸‹linuxå†…æ ¸ç¼–è¯‘å‡çº§æ›´æ–°ä»¥åŠè®¾å¤‡é©±åŠ¨ç¨‹åºçš„ç¼–å†™</a></p></li></ol><h3 id="2-3-ä¸ºæ–°å†…æ ¸æ·»åŠ ç³»ç»Ÿè°ƒç”¨"><a href="#2-3-ä¸ºæ–°å†…æ ¸æ·»åŠ ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="2.3 ä¸ºæ–°å†…æ ¸æ·»åŠ ç³»ç»Ÿè°ƒç”¨"></a>2.3 ä¸ºæ–°å†…æ ¸æ·»åŠ ç³»ç»Ÿè°ƒç”¨</h3><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E5%AE%9E%E9%AA%8C2.3%E8%A6%81%E6%B1%82.png" srcset="/img/loading.gif" lazyload alt="å®éªŒ2.3è¦æ±‚"></p><ol><li><p>è¿›å…¥å†…æ ¸ç›®å½•ï¼Œæ·»åŠ è‡ªå®šä¹‰ç³»ç»Ÿè°ƒç”¨</p><p>æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>rootæƒé™ä¸‹æ“ä½œ<br>cd <span class="hljs-regexp">/usr/</span>src<span class="hljs-regexp">/linux-5.10.1/</span><br>gedit arch<span class="hljs-regexp">/x86/</span>entry<span class="hljs-regexp">/syscalls/</span>syscall_64.tbl<br><span class="hljs-regexp">//</span>ç¼–è¾‘æ–‡ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨vimï¼Œä½¿ç”¨geditè‹¥æ²¡æœ‰è¿™ä¸ªå‘½ä»¤ï¼Œåˆ™apt-get install geditå®‰è£…<br></code></pre></div></td></tr></table></figure><p>åœ¨æ‰“å¼€çš„æ–‡ä»¶ä¸­æ·»åŠ æ–°å¢çš„ç³»ç»Ÿè°ƒç”¨å·ï¼Œå¹¶å‚ç…§å…¶ä»–çš„è°ƒç”¨å‘½åæ ¼å¼è¿›è¡Œå‘½åï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B0%83%E7%94%A8.png" srcset="/img/loading.gif" lazyload alt="æ·»åŠ è‡ªå®šä¹‰è°ƒç”¨"></p><p>è¿™é‡Œæ·»åŠ äº†è°ƒç”¨å·ä¸º441å’Œ442çš„ä¸¤ä¸ªè°ƒç”¨ï¼Œåˆ†åˆ«å¯¹åº”func_addå’Œfunc_maxï¼Œä¿å­˜é€€å‡ºã€‚</p></li><li><p>æ·»åŠ ç³»ç»Ÿè°ƒç”¨å‡½æ•°å£°æ˜</p><p>è¾“å…¥å‘½ä»¤ï¼š<code>sudo gedit include/linux/syscalls.h</code>ï¼Œè¿›å…¥æ–‡ä»¶æ·»åŠ å‡½æ•°å£°æ˜ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E6%B7%BB%E5%8A%A0%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E7%9A%84%E5%A3%B0%E6%98%8E.png" srcset="/img/loading.gif" lazyload alt="æ·»åŠ è°ƒç”¨å‡½æ•°çš„å£°æ˜"></p></li><li><p>æ·»åŠ è°ƒç”¨å‡½æ•°çš„å®šä¹‰</p><p>è¾“å…¥å‘½ä»¤ï¼š<code>sudo gedit kernel/sys.c</code>ï¼Œè¿›å…¥å‡½æ•°ï¼Œåœ¨æ–‡ä»¶æœ«å°¾å¢åŠ è‡ªå®šä¹‰çš„å‡½æ•°å†…å®¹ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E6%B7%BB%E5%8A%A0%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.png" srcset="/img/loading.gif" lazyload alt="æ·»åŠ è°ƒç”¨å‡½æ•°çš„å®šä¹‰"></p></li><li><p>é‡æ–°ç¼–è¯‘å†…æ ¸</p><p>æ•´ä½“è¿‡ç¨‹ä¸å®éªŒ2.2ä¸€è‡´ï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight gauss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gauss">sudo <span class="hljs-built_in">make</span> mrproper<br>sudo <span class="hljs-built_in">make</span> clean<br>sudo <span class="hljs-built_in">make</span> menuconfig<br>sudo <span class="hljs-built_in">make</span> -j8<br>sudo <span class="hljs-built_in">make</span> modules_install        <br>sudo <span class="hljs-built_in">make</span> install      <br></code></pre></div></td></tr></table></figure><p>ç¼–è¯‘å®Œå†…æ ¸åï¼Œé‡å¯è™šæ‹Ÿæœºï¼Œé€‰æ‹©æ–°ç¼–è¯‘çš„å†…æ ¸è¿›å…¥æ¡Œé¢</p></li><li><p>ç¼–è¾‘æµ‹è¯•ç¨‹åº</p><p>éšä¾¿å†™ä¸€ä¸ªæµ‹è¯•ç¨‹åºï¼Œåœ¨è¯¥ç¨‹åºä¸­è°ƒç”¨æ–°æ·»åŠ çš„ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨å‡½æ•°ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E6%B5%8B%E8%AF%95%E6%A0%B7%E4%BE%8B.png" srcset="/img/loading.gif" lazyload alt="æµ‹è¯•æ ·ä¾‹"></p><p>ç¼–è¯‘è¿è¡Œè¯¥æµ‹è¯•ç¨‹åºï¼š<img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" srcset="/img/loading.gif" lazyload alt="æµ‹è¯•ç»“æœ"></p><p>æ ¹æ®è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æˆåŠŸæ·»åŠ äº†ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚ï¼Œæ­¤å¤–å¯ä»¥ä½¿ç”¨<code>dmesg</code>å‘½ä»¤ï¼ŒæŸ¥çœ‹ä¹‹å‰ç³»ç»Ÿè°ƒç”¨çš„ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨ç³»ç»Ÿè°ƒç”¨å‡½æ•°ä¸­è‡ªå®šä¹‰è¾“å‡ºçš„å­—ç¬¦ä¸²ï¼Œè¯´æ˜æ–°å¢çš„ç³»ç»Ÿè°ƒç”¨ç¡®å®æˆåŠŸè¿è¡Œäº†ï¼š</p><p><img src="/2021/11/25/OS%E5%AE%9E%E9%AA%8C%E6%9C%80%E7%BB%88%E7%89%88/dmesg%E5%91%BD%E4%BB%A4.png" srcset="/img/loading.gif" lazyload alt="dmesgå‘½ä»¤"></p></li></ol><h3 id="2-4"><a href="#2-4" class="headerlink" title="2.4"></a>2.4</h3>]]></content>
    
    
    <categories>
      
      <category>HUST</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…­.Jedisæ“ä½œRedis</title>
    <link href="/2021/11/17/%E5%85%AD-Jedis%E6%93%8D%E4%BD%9CRedis/"/>
    <url>/2021/11/17/%E5%85%AD-Jedis%E6%93%8D%E4%BD%9CRedis/</url>
    
    <content type="html"><![CDATA[<h1 id="Jedisæ“ä½œRedis"><a href="#Jedisæ“ä½œRedis" class="headerlink" title="Jedisæ“ä½œRedis"></a>Jedisæ“ä½œRedis</h1><p>Jedisæ˜¯Rediså®˜æ–¹æ¨èçš„javaè¿æ¥å¼€å‘å·¥å…·ï¼Œä½¿ç”¨javaæ“ä½œRedisä¸­é—´ä»¶ã€‚</p><div class="note note-success">            <p>æ…¢æ…¢æ¥æ‰æ˜¯æœ€å¿«çš„.</p>          </div><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">#è¿æ¥redisæœåŠ¡<br><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisJava</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">//è¿æ¥æœ¬åœ°çš„ Redis æœåŠ¡</span><br>        Jedis jedis = <span class="hljs-keyword">new</span> Jedis(<span class="hljs-string">&quot;localhost&quot;</span>);  <span class="hljs-comment">//å¯è®¾ç½®ipä¸port</span><br>        <span class="hljs-comment">// å¦‚æœ Redis æœåŠ¡è®¾ç½®äº†å¯†ç ï¼Œéœ€è¦ä¸‹é¢è¿™è¡Œï¼Œæ²¡æœ‰å°±ä¸éœ€è¦</span><br>        <span class="hljs-comment">// jedis.auth(&quot;123456&quot;); </span><br>        System.out.println(<span class="hljs-string">&quot;è¿æ¥æˆåŠŸ&quot;</span>);<br>        <span class="hljs-comment">//æŸ¥çœ‹æœåŠ¡æ˜¯å¦è¿è¡Œ</span><br>        System.out.println(<span class="hljs-string">&quot;æœåŠ¡æ­£åœ¨è¿è¡Œ: &quot;</span>+jedis.ping());<br>    &#125;<br>&#125;<br>è¾“å‡ºï¼š<br>è¿æ¥æˆåŠŸ<br>æœåŠ¡æ­£åœ¨è¿è¡Œ: PONG<br><br>#å»ºç«‹è¿æ¥ï¼Œå¹¶è®¾ç½®stringç±»çš„keyï¼Œè¯­æ³•ä¸rediså®¢æˆ·ç«¯çš„å‘½ä»¤å®Œå…¨ä¸€è‡´<br><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;<br> <br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisStringJava</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">//è¿æ¥æœ¬åœ°çš„ Redis æœåŠ¡</span><br>        Jedis jedis = <span class="hljs-keyword">new</span> Jedis(<span class="hljs-string">&quot;localhost&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;è¿æ¥æˆåŠŸ&quot;</span>);<br>        <span class="hljs-comment">//è®¾ç½® redis å­—ç¬¦ä¸²æ•°æ®</span><br>        jedis.set(<span class="hljs-string">&quot;runoobkey&quot;</span>, <span class="hljs-string">&quot;www.runoob.com&quot;</span>);<br>        <span class="hljs-comment">// è·å–å­˜å‚¨çš„æ•°æ®å¹¶è¾“å‡º</span><br>        System.out.println(<span class="hljs-string">&quot;redis å­˜å‚¨çš„å­—ç¬¦ä¸²ä¸º: &quot;</span>+ jedis.get(<span class="hljs-string">&quot;runoobkey&quot;</span>));<br>    &#125;<br>&#125;<br>è¾“å‡ºï¼š<br>è¿æ¥æˆåŠŸ<br>redis å­˜å‚¨çš„å­—ç¬¦ä¸²ä¸º: www.runoob.com<br><br>#ä½¿ç”¨listç±»å®ä¾‹<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;<br> <br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisListJava</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">//è¿æ¥æœ¬åœ°çš„ Redis æœåŠ¡</span><br>        Jedis jedis = <span class="hljs-keyword">new</span> Jedis(<span class="hljs-string">&quot;localhost&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;è¿æ¥æˆåŠŸ&quot;</span>);<br>        <span class="hljs-comment">//å­˜å‚¨æ•°æ®åˆ°åˆ—è¡¨ä¸­</span><br>        jedis.lpush(<span class="hljs-string">&quot;site-list&quot;</span>, <span class="hljs-string">&quot;Runoob&quot;</span>);<br>        jedis.lpush(<span class="hljs-string">&quot;site-list&quot;</span>, <span class="hljs-string">&quot;Google&quot;</span>);<br>        jedis.lpush(<span class="hljs-string">&quot;site-list&quot;</span>, <span class="hljs-string">&quot;Taobao&quot;</span>);<br>        <span class="hljs-comment">// è·å–å­˜å‚¨çš„æ•°æ®å¹¶è¾“å‡º</span><br>        List&lt;String&gt; list = jedis.lrange(<span class="hljs-string">&quot;site-list&quot;</span>, <span class="hljs-number">0</span> ,<span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;list.size(); i++) &#123;<br>            System.out.println(<span class="hljs-string">&quot;åˆ—è¡¨é¡¹ä¸º: &quot;</span>+list.get(i));<br>        &#125;<br>    &#125;<br>&#125;<br>è¾“å‡ºï¼š<br>è¿æ¥æˆåŠŸ<br>åˆ—è¡¨é¡¹ä¸º: Taobao<br>åˆ—è¡¨é¡¹ä¸º: Google<br>åˆ—è¡¨é¡¹ä¸º: Runoob<br></code></pre></div></td></tr></table></figure><p><img src="/2021/11/17/%E5%85%AD-Jedis%E6%93%8D%E4%BD%9CRedis/%E6%8E%92%E5%BA%8F%E6%93%8D%E4%BD%9C.png" srcset="/img/loading.gif" lazyload alt="æ’åºæ“ä½œ"></p><p>æœ¬æœºå®éªŒè¿˜æ²¡è¿›è¡Œï¼Œä¸ä¼šé…ç¯å¢ƒï¼Œæ²¡æœ‰è£…MavenğŸ˜«</p><p>å‚è€ƒé“¾æ¥ï¼š</p><p><a href="https://www.jianshu.com/p/a1038eed6d44">Jedisä½¿ç”¨æ•™ç¨‹å®Œæ•´ç‰ˆ - ç®€ä¹¦ (jianshu.com)</a></p><p><a href="https://cloud.tencent.com/developer/article/1776110">JedisåŸºç¡€è¯¦è§£ - äº‘+ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äº”.Redisäº‹åŠ¡ä¸ä¹è§‚é”</title>
    <link href="/2021/11/16/%E4%BA%94-Redis%E4%BA%8B%E5%8A%A1/"/>
    <url>/2021/11/16/%E4%BA%94-Redis%E4%BA%8B%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<h1 id="Redisäº‹åŠ¡"><a href="#Redisäº‹åŠ¡" class="headerlink" title="Redisäº‹åŠ¡"></a>Redisäº‹åŠ¡</h1><p>Redisäº‹åŠ¡æœ¬è´¨ï¼šä¸€ç»„å‘½ä»¤é›†åˆã€‚ä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ï¼Œåœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œã€‚</p><figure class="highlight jboss-cli"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jboss-cli">|<span class="hljs-params">------</span>é˜Ÿåˆ— <span class="hljs-keyword">set</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">set</span>.<span class="hljs-string">...</span>é˜Ÿåˆ—<span class="hljs-params">-------</span>|<br></code></pre></div></td></tr></table></figure><p>Redisäº‹åŠ¡ï¼š</p><ul><li>å¼€å¯äº‹åŠ¡ï¼ˆmultiï¼‰</li><li>å‘½ä»¤å…¥é˜Ÿåˆ—ï¼ˆä¸€ç³»åˆ—å‘½ä»¤ï¼‰</li><li>æ‰§è¡Œäº‹åŠ¡ï¼ˆexecï¼‰</li></ul><p>æ‰€æœ‰çš„å‘½ä»¤åœ¨äº‹åŠ¡ä¸­ï¼Œå¹¶æ²¡æœ‰ç›´æ¥æ‰§è¡Œï¼Œè€Œæ˜¯åªä¼šåœ¨æ‰§è¡Œå‘½ä»¤å‘èµ·çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment">#æ­£å¸¸æ‰§è¡Œå‘½ä»¤</span><br>127.0.0.1:6379&gt; multi  //å¼€å¯äº‹åŠ¡<br>OK   <br>127.0.0.1:6379(TX)&gt; <span class="hljs-built_in">set</span> k1 v1<br>QUEUED  //æ·»åŠ å‘½ä»¤ï¼Œå‘½ä»¤å…¥é˜Ÿ<br>127.0.0.1:6379(TX)&gt; <span class="hljs-built_in">set</span> k2 v1<br>QUEUED<br>127.0.0.1:6379(TX)&gt; get k1<br>QUEUED<br>127.0.0.1:6379(TX)&gt; get k2<br>QUEUED<br>127.0.0.1:6379(TX)&gt; <span class="hljs-built_in">exec</span>   //äº‹åŠ¡æ‰§è¡Œï¼Œä¾æ¬¡æŒ‰é¡ºåºæ‰§è¡Œå‘½ä»¤<br>1) OK   //ä¾æ¬¡çš„æ‰§è¡Œç»“æœ<br>2) OK<br>3) <span class="hljs-string">&quot;v1&quot;</span><br>4) <span class="hljs-string">&quot;v1&quot;</span><br><span class="hljs-comment">#å–æ¶ˆä¸€ä¸ªäº‹åŠ¡  discardå‘½ä»¤  æ‰§è¡Œæ­¤å‘½ä»¤åï¼Œäº‹åŠ¡å°†è¢«æ”¾å¼ƒï¼Œé˜Ÿåˆ—å°†è¢«æ¸…ç©ºï¼Œä¸”å°†ä¼šä»äº‹åŠ¡çŠ¶æ€ä¸­é€€å‡º</span><br>127.0.0.1:6379(TX)&gt; <span class="hljs-built_in">set</span> k1 1<br>QUEUED<br>127.0.0.1:6379(TX)&gt; <span class="hljs-built_in">set</span> k2 2<br>QUEUED<br>127.0.0.1:6379(TX)&gt; <span class="hljs-built_in">set</span> k4 4<br>QUEUED<br>127.0.0.1:6379(TX)&gt; discard  //äº‹åŠ¡å–æ¶ˆä¹‹åï¼Œäº‹åŠ¡ä¸­æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¸ä¼šè¢«æ‰§è¡Œ<br>OK<br>127.0.0.1:6379&gt; get k4   <br>(nil)   //å› ä¸ºäº‹åŠ¡è¢«å–æ¶ˆï¼Œk4å¹¶æ²¡æœ‰<span class="hljs-built_in">set</span>ï¼Œå› æ­¤k4ä¸ºnul<br>127.0.0.1:6379&gt;<br></code></pre></div></td></tr></table></figure><p>Redisä¸­çš„ä¸¤ç§é”™è¯¯ï¼šï¼ˆåŒjavaåŸºæœ¬ä¸€è‡´ï¼‰</p><ul><li>ç¼–è¯‘å‹å¼‚å¸¸ï¼ˆä»£ç æœ‰é—®é¢˜ï¼Œå‘½ä»¤è¯­æ³•é”™è¯¯ï¼‰ï¼šäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šè¢«æ‰§è¡Œï¼ï¼ˆå…¥é˜Ÿå¤±è´¥ï¼‰</li><li>è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆåˆ†æ¯ä¸º0ï¼Œæ•°ç»„è¶Šç•Œç­‰ï¼‰ï¼šå¦‚æœäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„æŸä¸€æ¡å‘½ä»¤å­˜åœ¨è¿è¡Œæ—¶å¼‚å¸¸ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œäº‹åŠ¡æ—¶ï¼Œå…¶ä»–å‘½ä»¤æ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œé”™è¯¯çš„å‘½ä»¤ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li></ul><figure class="highlight accesslog"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs accesslog">#ç¼–è¯‘å‹å¼‚å¸¸<br><span class="hljs-number">127.0.0.1:6379</span>&gt; multi<br>OK<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; set v1 <span class="hljs-number">1</span><br>QUEUED<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; setset v1 <span class="hljs-number">2</span><br>(error) ERR unknown command `setset`, with args beginning with: `v1`, `<span class="hljs-number">2</span>`,<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; set v2 <span class="hljs-number">2</span><br>QUEUED<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; exec  //ç”±äºå­˜åœ¨è¯­æ³•é”™è¯¯ï¼Œé˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œ<br>(error) EXECABORT Transaction discarded because of previous errors. <br><br>#è¿è¡Œæ—¶å¼‚å¸¸<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; set v1 <span class="hljs-string">&quot;ab&quot;</span><br>QUEUED<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; incr v1  //å¯¹å­—ç¬¦ä¸²+<span class="hljs-number">1</span>å±äºè¿è¡Œæ—¶å¼‚å¸¸<br>QUEUED<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; set k2 <span class="hljs-number">22</span><br>QUEUED<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; get k2<br>QUEUED<br><span class="hljs-number">127.0.0.1:6379</span>(TX)&gt; exec<br><span class="hljs-number">1</span>) OK<br><span class="hljs-number">2</span>) (error) ERR value is not an integer or out of range  //æ‰§è¡Œæ—¶æŠ¥é”™<br><span class="hljs-number">3</span>) OK<br><span class="hljs-number">4</span>) <span class="hljs-string">&quot;22&quot;</span>  //å…¶ä»–å‘½ä»¤æ— å¼‚å¸¸ï¼Œæ­£å¸¸æ‰§è¡Œ<br><span class="hljs-number">127.0.0.1:6379</span>&gt;<br><br></code></pre></div></td></tr></table></figure><p>Redisäº‹åŠ¡å¹¶æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ</p><p>é‡ç‚¹ï¼šRedisä¸­å•æ¡å‘½ä»¤æ˜¯åŸå­æ€§çš„ï¼Œä½†äº‹åŠ¡å¹¶ä¸ä¿è¯åŸå­æ€§ï¼ˆacidæ²¡æœ‰å…¨éƒ¨å®ç°ï¼Œä¸å…³ç³»å‹æ•°æ®åº“ä¸åŒï¼‰ï¼Œä¸€æ—¦äº‹åŠ¡ä¸­ï¼ˆå‘½ä»¤é˜Ÿåˆ—ä¸­ï¼‰æœ‰ä¸€æ¡å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼ˆè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ï¼Œå¹¶ä¸å½±å“æ•´ä¸ªäº‹åŠ¡çš„æ‰§è¡Œï¼Œè€Œmysqlçš„äº‹åŠ¡å…·æœ‰åŸå­æ€§ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œå¤šæ¡å‘½ä»¤ï¼Œä¸€æ—¦æœ‰ä¸€æ¡æ‰§è¡Œå¤±è´¥ï¼Œå…¶ä»–çš„ä¹Ÿæ— æ³•æˆåŠŸæ‰§è¡Œã€‚</p><p>ä¸€æ¬¡æ€§ï¼Œé¡ºåºæ€§ï¼Œæ’ä»–æ€§åœ°æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤</p><ul><li>execå‘½ä»¤æ‰§è¡Œä¹‹å‰ï¼Œå¤šä¸ªå‘½ä»¤è¢«æ”¾å…¥é˜Ÿåˆ—ç¼“å­˜ä¸­</li><li>execå‘½ä»¤æ‰§è¡Œåï¼Œç¼“å­˜é˜Ÿåˆ—ä¸­çš„å‘½ä»¤é¡ºåºæ‰§è¡Œï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªé”™è¯¯ï¼ˆè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ï¼Œä¸å½±å“å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œ</li><li>åœ¨<strong>äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹</strong>ä¸­ï¼Œå…¶ä»–å®¢æˆ·ç«¯æäº¤çš„å‘½ä»¤è¯·æ±‚ä¸ä¼šæ’å…¥åˆ°å½“å‰çš„ç¼“å­˜å‘½ä»¤é˜Ÿåˆ—ä¸­ï¼Œè¿™é‡Œåªæ˜¯ä¿è¯åœ¨<strong>æ‰§è¡Œè¿‡ç¨‹ä¸­</strong>ï¼Œåœ¨<strong>å°†å‘½ä»¤æ·»åŠ è¿›å…¥é˜Ÿåˆ—</strong>çš„è¿‡ç¨‹ä¸­ï¼Œ<strong>æ˜¯ä¸ä¼šä¿è¯ä¸è¢«å…¶ä»–å®¢æˆ·ç«¯å‘½ä»¤æ’å…¥çš„</strong></li><li>ä¸æ”¯æŒå›æ»šï¼Œæ²¡æœ‰å®ç°å‘ç”Ÿé”™è¯¯ç›´æ¥å›æ»šçš„åŠŸèƒ½ï¼Œredisçš„äº‹åŠ¡æ›´åƒä¸€ä¸ªå‘½ä»¤æ‰“åŒ…çš„åŠŸèƒ½</li></ul><p>ä¸ºä»€ä¹ˆä¸æ”¯æŒå›æ»šï¼Ÿå®˜æ–¹å›ç­”ï¼š</p><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">åªæœ‰å½“è¢«è°ƒç”¨çš„Rediså‘½ä»¤æœ‰è¯­æ³•é”™è¯¯æ—¶ï¼Œè¿™æ¡å‘½ä»¤æ‰ä¼šæ‰§è¡Œå¤±è´¥ï¼ˆåœ¨å°†è¿™ä¸ªå‘½ä»¤æ”¾å…¥äº‹åŠ¡é˜Ÿåˆ—æœŸé—´ï¼ŒRedisèƒ½å¤Ÿå‘ç°æ­¤ç±»é—®é¢˜ï¼‰ï¼Œæˆ–è€…å¯¹æŸä¸ªé”®æ‰§è¡Œä¸ç¬¦åˆå…¶æ•°æ®ç±»å‹çš„æ“ä½œï¼šå®é™…ä¸Šï¼Œè¿™å°±æ„å‘³ç€åªæœ‰ç¨‹åºé”™è¯¯æ‰ä¼šå¯¼è‡´Rediså‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œè¿™ç§é”™è¯¯å¾ˆæœ‰å¯èƒ½åœ¨ç¨‹åºå¼€å‘æœŸé—´å‘ç°ï¼Œä¸€èˆ¬å¾ˆå°‘åœ¨ç”Ÿäº§ç¯å¢ƒå‘ç°ã€‚Rediså·²ç»åœ¨ç³»ç»Ÿå†…éƒ¨è¿›è¡ŒåŠŸèƒ½ç®€åŒ–ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿æ›´å¿«çš„è¿è¡Œé€Ÿåº¦ï¼Œå› ä¸ºRedisä¸éœ€è¦äº‹åŠ¡å›æ»šçš„èƒ½åŠ›ã€‚<br></code></pre></div></td></tr></table></figure><h1 id="Rediså®ç°ä¹è§‚é”"><a href="#Rediså®ç°ä¹è§‚é”" class="headerlink" title="Rediså®ç°ä¹è§‚é”"></a>Rediså®ç°ä¹è§‚é”</h1><ul><li>æ‚²è§‚é”ï¼šè§åçŸ¥æ„ï¼Œå¾ˆæ‚²è§‚ï¼Œæ‹…å¿ƒæ•°æ®ä¼šè¢«ä¿®æ”¹ï¼Œå¯¹è¯»å†™æ“ä½œéƒ½ä¸Šé”ï¼Œè‡ªå·±ç”¨å®Œæ•°æ®åï¼Œå°±ä¼šè¿›è¡Œè§£é”ã€‚é‚£ä¹ˆå…¶å®ƒçº¿ç¨‹è¿›è¡Œæ“ä½œæ—¶å¿…é¡»ç­‰å¾…ï¼Œæ•ˆç‡ç›¸å¯¹è¾ƒä½ã€‚ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“é‡Œè¾¹å°±ç”¨åˆ°äº†å¾ˆå¤šè¿™ç§é”æœºåˆ¶ï¼Œæ¯”å¦‚è¡Œé”ã€è¡¨é”ã€è¯»é”ã€å†™é”ç­‰ã€‚éƒ½æ˜¯åœ¨æ“ä½œä¹‹å‰å…ˆä¸Šé”è®©åˆ«äººæ— æ³•æ“ä½œè¯¥æ•°æ®ã€‚</li><li>ä¹è§‚é”ï¼šé¡¾åæ€ä¹‰ï¼Œå¾ˆä¹è§‚ï¼Œæ¯æ¬¡å–æ•°æ®çš„æ—¶å€™å¹¶ä¸æ‹…å¿ƒè‡ªå·±çš„æ•°æ®ä¼šè¢«ä¿®æ”¹ã€‚æ•°æ®åº“å®ç°ä¹è§‚é”ï¼Œé€šå¸¸ä½¿ç”¨çš„æ˜¯versionï¼ˆæ•°æ®ç‰ˆæœ¬ï¼‰ï¼Œæ¥è¡¨ç¤ºæ•°æ®çš„ã€‚æ¯æ¬¡å–æ•°æ®çš„æ—¶å€™ï¼Œè¿åŒæ•°æ®ç‰ˆæœ¬versionä¸€èµ·å–å‡ºã€‚å½“è¯»å–å‡ºæ•°æ®ï¼Œå¯¹æ•°æ®è¿›è¡Œæ›´æ”¹æ—¶ï¼Œä¼šå°†æ•°ç‰ˆæœ¬version åŠ ä¸€ï¼Œç„¶åæäº¤åˆ°æ•°æ®åº“ï¼Œæ­¤æ—¶æ¯”è¾ƒæ•°æ®ç‰ˆæœ¬versionï¼Œå¦‚æœæäº¤çš„æ•°æ®ç‰ˆæœ¬versionå¤§äºå½“å‰æ•°æ®åº“å¯¹åº”è®°å½•çš„æ•°æ®ç‰ˆæœ¬versionï¼Œé‚£ä¹ˆæäº¤æˆåŠŸã€‚å¦åˆ™å°äºç­‰äºéƒ½ä¼šæäº¤å¤±è´¥ã€‚éœ€è¦é‡æ–°ä»æ•°æ®åº“å–æ•°æ®ã€‚</li><li>ä¹è§‚é”é€‚ç”¨åœºæ™¯ï¼š<strong>é¢‘ç¹è¯»å–æ•°æ®çš„åœºæ™¯</strong>ï¼Œå› ä¸ºè¯»å–æ•°æ®å¹¶ä¸ä¼šä¸Šé”ã€‚ä½†æ˜¯å½“æœ‰å¤§é‡æ•°æ®å†™å…¥çš„æ—¶å€™ï¼Œä¼šé¢‘ç¹çš„æäº¤ä¸æˆåŠŸï¼Œä¼šé‡æ–°è¯»å–æ•°æ®ï¼Œå†æäº¤ã€‚</li><li>æ‚²è§‚é”é€‚ç”¨åœºæ™¯ï¼š<strong>é¢‘ç¹å†™å…¥æ•°æ®çš„åœºæ™¯</strong>ï¼Œå› ä¸ºä¸ç®¡æ˜¯è¯»è¿˜æ˜¯å†™ éƒ½ä¼šä¸Šé”ï¼Œå¦‚æœå¤§é‡å†™å…¥æ•°æ®ï¼Œä¸ºäº†æ•°æ®å®‰å…¨ä¸Šé”æ˜¯æœ‰å¿…è¦çš„ï¼Œç›¸åä¹è§‚é”å°±ä¼šå¤§é‡çš„è¯»å–æäº¤æ“ä½œã€‚ä½†æ˜¯å½“æœ‰å¤§é‡æ•°æ®è¯»å‡ºçš„æ—¶å€™ï¼Œæ•ˆç‡ä½ä¸‹ã€‚</li></ul><p>Rediså®ç°ä¹è§‚é”ï¼š</p><p><img src="/2021/11/16/%E4%BA%94-Redis%E4%BA%8B%E5%8A%A1/1.png" srcset="/img/loading.gif" lazyload alt="1"></p><p>â€‹        Redisé€šè¿‡ä½¿ç”¨watchå‘½ä»¤æ¥å®ç°ä¹è§‚é”ï¼Œwatchå‘½ä»¤ç”¨äºç›‘è§†ä¸€ä¸ªæˆ–å¤šä¸ªkeyï¼Œå¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œä¹‹å‰ï¼Œè¿™ä¸ªï¼ˆæˆ–è¿™äº›ï¼‰keyè¢«å…¶ä»–å‘½ä»¤æ‰€æ”¹åŠ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹åŠ¡å°†è¢«æ‰“æ–­ã€‚</p><p>â€‹        å¤§å¤šæ•°æ˜¯åŸºäºæ•°æ®ç‰ˆæœ¬ï¼ˆversionï¼‰çš„è®°å½•æœºåˆ¶å®ç°çš„ã€‚å³ä¸ºæ•°æ®å¢åŠ ä¸€ä¸ªç‰ˆæœ¬æ ‡è¯†ï¼Œåœ¨åŸºäºæ•°æ®åº“è¡¨çš„ç‰ˆæœ¬è§£å†³æ–¹æ¡ˆä¸­ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡ä¸ºæ•°æ®åº“è¡¨å¢åŠ ä¸€ä¸ªâ€versionâ€å­—æ®µæ¥å®ç°è¯»å–å‡ºæ•°æ®æ—¶ï¼Œå°†æ­¤ç‰ˆæœ¬å·ä¸€åŒè¯»å‡ºï¼Œä¹‹åæ›´æ–°æ—¶ï¼Œå¯¹æ­¤ç‰ˆæœ¬å·åŠ 1ã€‚æ­¤æ—¶ï¼Œå°†æäº¤æ•°æ®çš„ç‰ˆæœ¬å·ä¸æ•°æ®åº“è¡¨å¯¹åº”è®°å½•çš„å½“å‰ç‰ˆæœ¬å·è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœæäº¤çš„æ•°æ®ç‰ˆæœ¬å·å¤§äºæ•°æ®åº“å½“å‰ç‰ˆæœ¬å·ï¼Œåˆ™äºˆä»¥æ›´æ–°ï¼Œå¦åˆ™è®¤ä¸ºæ˜¯è¿‡æœŸæ•°æ®ã€‚</p><p>â€‹        <strong>â€œ Redisä½¿ç”¨WATCHå‘½ä»¤å®ç°äº‹åŠ¡çš„â€œæ£€æŸ¥å†è®¾ç½®â€ï¼ˆCASï¼‰è¡Œä¸ºã€‚ä½œä¸ºWATCHå‘½ä»¤çš„å‚æ•°çš„é”®ä¼šå—åˆ°Redisçš„ç›‘æ§ï¼ŒRedisèƒ½å¤Ÿæ£€æµ‹åˆ°å®ƒä»¬çš„å˜åŒ–ã€‚åœ¨æ‰§è¡ŒEXECå‘½ä»¤ä¹‹å‰ï¼Œå¦‚æœRedisæ£€æµ‹åˆ°è‡³å°‘æœ‰ä¸€ä¸ªé”®è¢«ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆæ•´ä¸ªäº‹åŠ¡ä¾¿ä¼šä¸­æ­¢è¿è¡Œï¼Œç„¶åEXECå‘½ä»¤ä¼šè¿”å›ä¸€ä¸ªNullå€¼ï¼Œæé†’ç”¨æˆ·äº‹åŠ¡è¿è¡Œå¤±è´¥ã€‚â€</strong></p><p>â€‹        å¦‚æœåœ¨æ·»åŠ watchä¹‹åï¼Œäº‹åŠ¡æ­£å¸¸execå®Œæˆï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼ˆç›‘è§†ï¼‰ï¼Œå…¶ä»–çš„æƒ…å†µï¼Œéœ€è¦æ‰‹åŠ¨æ‰§è¡Œunwatchå‘½ä»¤é‡Šæ”¾ç›‘è§†ã€‚</p><p>â€‹        watchçš„keyæ˜¯å¯¹æ•´ä¸ªè¿æ¥æœ‰æ•ˆçš„ï¼Œäº‹åŠ¡ä¹Ÿä¸€æ ·ï¼ˆä½†äº‹åŠ¡è¢«æ‰§è¡Œåå°±ä¸å­˜åœ¨äº†ï¼‰ï¼Œå¦‚æœè¿æ¥æ–­å¼€ï¼Œç›‘è§†å’Œäº‹åŠ¡éƒ½ä¼šè¢«è‡ªåŠ¨æ¸…é™¤ï¼Œdiscardå’Œunwatchå‘½ä»¤ä¹Ÿä¼šæ¸…é™¤è¿æ¥ä¸­çš„æ‰€æœ‰ç›‘è§†ã€‚</p><p>â€‹        æ“ä½œå®ä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment">#æ­£å¸¸æƒ…å†µä¸‹ï¼Œè®¾ç½®ç›‘è§†</span><br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> money 100<br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> out 0<br>OK<br><span class="hljs-comment">#ç›‘è§†moneyå¯¹è±¡</span><br>127.0.0.1:6379&gt; watch money <br>OK<br><span class="hljs-comment">#äº‹åŠ¡æ­£å¸¸ç»“æŸï¼Œæ•°æ®æœŸé—´æ²¡æœ‰æ”¹åŠ¨ï¼Œè¿™æ—¶æ­£å¸¸æ‰§è¡ŒæˆåŠŸ</span><br>127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; decrby money 20<br>QUEUED<br>127.0.0.1:6379&gt; incrby out 20<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span><br>1) (<span class="hljs-built_in">integer</span>) 80<br>2) (<span class="hljs-built_in">integer</span>) 20<br><br><span class="hljs-comment">#å¤šä¸ªå®¢æˆ·ç«¯çš„åœºæ™¯ä¸‹</span><br>127.0.0.1:6379&gt; watch money<br>OK<br>127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; decrby money 10<br>QUEUED<br>127.0.0.1:6379&gt; incrby out 10<br>QUEUED<br><span class="hljs-comment">#æ‰§è¡Œä¹‹å‰ï¼Œå¼€å¯å¦ä¸€ä¸ªçº¿ç¨‹å»ä¿®æ”¹moneyçš„å€¼ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå¯¼è‡´äº‹åŠ¡æ‰§è¡Œå¤±è´¥ã€‚</span><br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span><br>(nil)<br><br><span class="hljs-comment">#å‡ºç°ä¸Šè¿°é”™è¯¯åï¼Œéœ€è¦æ‰‹åŠ¨è§£é”ï¼Œå¹¶é‡æ–°è·å–é”</span><br><span class="hljs-comment">#å¦‚æœå‘ç°äº‹åŠ¡æ‰§è¡Œå¤±è´¥å°±å…ˆè§£é”</span><br>127.0.0.1:6379&gt; unwatch <br>OK<br><span class="hljs-comment">#è·å–æœ€æ–°çš„å€¼å†æ¬¡ç›‘æ§ï¼Œç±»ä¼¼select version</span><br>127.0.0.1:6379&gt; watch money <br>OK<br>127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; decrby money 10<br>QUEUED<br>127.0.0.1:6379&gt; incrby out 1000<br>QUEUED<br><span class="hljs-comment">#æ‰§è¡Œä¹‹å‰ä¼šå…ˆæ¯”è¾ƒversion ï¼Œä¸€æ ·å°±ä¼šæ‰§è¡ŒæˆåŠŸï¼Œåæ­£å¤±è´¥</span><br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span><br>1) (<span class="hljs-built_in">integer</span>) 80<br>2) (<span class="hljs-built_in">integer</span>) 1000<br>127.0.0.1:6379&gt;<br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ·é¢˜è®°å½•</title>
    <link href="/2021/11/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    <url>/2021/11/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>ä¸ºäº†é¿å…å°†æ¥è¿ç¬”è¯•éƒ½è¿‡ä¸äº†ï¼Œzykå†³å®šæ¯å¤©åˆ·é¢˜ï¼</p>          </div><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>â€‹    ä¸çŸ¥ä¸è§‰ï¼Œå·²ç»å¥½ä¹…æ²¡æœ‰åˆ·é¢˜äº†ï¼Œç®—æ³•åˆå¤ªé‡è¦äº†ï¼Œå¥½ç„¦è™‘ã€‚</p><p>â€‹    å­¦æ ¡çš„OJåªèƒ½ç”¨c++ï¼Œä½†æ˜¯æˆ‘å‡†å¤‡çš„åˆæ˜¯javaï¼Œé•¿æœŸä¸å†™javaï¼Œè¿åŸºæœ¬çš„APIéƒ½å¿«å¿˜è®°äº†ï¼Œæ‰€ä»¥å†™è¿™ä¸ªå¸–å­ï¼Œæ¯å¤©åˆ·å‡ é“é¢˜å§ï¼Œæ•°é‡ä¸é™ï¼Œçœ‹æ—¶é—´æ˜¯å¦å……è¶³ã€‚</p><p>â€‹    å½“å‰ç›®æ ‡ï¼šå…ˆæŠŠå‰‘æŒ‡OFFERåˆ·ä¸€éã€‚</p><h2 id="2021-11-30"><a href="#2021-11-30" class="headerlink" title="2021-11-30"></a>2021-11-30</h2><ul><li><h3 id="OJ-ä¸‘æ•°"><a href="#OJ-ä¸‘æ•°" class="headerlink" title="OJ.ä¸‘æ•°"></a>OJ.ä¸‘æ•°</h3><p><img src="/2021/11/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/%E4%B8%91%E6%95%B0.png" srcset="/img/loading.gif" lazyload alt="ä¸‘æ•°"></p><p>é¦–å…ˆï¼Œæ ¹æ®è¾“å…¥ï¼Œå¾—åˆ°å‰nä¸ªç´ æ•°ï¼Œè·å¾—ç´ æ•°çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ—¶é—´å¤æ‚åº¦å„ä¸ç›¸åŒï¼Œæœ€å¿«çš„åº”å½“æ˜¯ç­›æ³•æ±‚ç´ æ•°ï¼Œä½†æˆ‘ä¸ä¼šğŸ˜…ğŸ˜…ï¼Œæ‰€ä»¥å°±é‡‡ç”¨ç¬¨ä¸€ç‚¹çš„æ–¹æ³•ï¼Œä»2å’Œ3å¼€å§‹ä¾æ¬¡å¾€åæšä¸¾ï¼Œå¦‚æœè¿™ä¸ªæ•°ä¸èƒ½è¢«å‰é¢çš„ç´ æ•°æ•´é™¤ï¼Œé‚£ä¹ˆä»–å°±æ˜¯ä¸‹ä¸€ä¸ªç´ æ•°ï¼Œå¯¹äºä¸€ä¸ªæ­£æ•´æ•°nï¼Œåˆ¤æ–­èƒ½ä¸èƒ½è¢«ä»2åˆ°æ ¹å·nèŒƒå›´å†…çš„ç´ æ•°æ•´é™¤å³å¯ã€‚</p><p>å¾—åˆ°æ‰€æœ‰çš„ç´ æ•°ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ±‚å‰nä¸ªä¸‘æ•°ï¼ŒåŸºæœ¬çš„æ€è·¯å¦‚ä¸‹ï¼š</p><p>å‡è®¾å‰mä¸ªç´ æ•°ä¿å­˜åœ¨æ•°ç»„primesä¸­ï¼Œå¯¹äºä¸€ä¸ªä¸‘æ•°a,ä»–ä¸€å®šæ˜¯ç”±å°äºä»–çš„ä¸‘æ•°ä¹˜ä¸Šç´ æ•°é›†åˆprimesä¸­çš„ä¸€ä¸ªå…ƒç´ å¾—åˆ°ï¼Œå‡è®¾ç°åœ¨ç´ æ•°é›†åˆé‡Œåªæœ‰2,3,5,ç”¨dpæ•°ç»„ä¿å­˜ä»å°åˆ°å¤§çš„ä¸‘æ•°ï¼Œdp[0]ä¸º1.</p><p>å¯¹äºæœ€å°çš„ä¸‘æ•°ï¼Œæ˜¯ä»1 * 2, 1 * 3,1 * 5ä¸­å–æœ€å°çš„ä¸€ä¸ªï¼Œè¿™é‡Œæ˜¯2ï¼Œåˆ™2å°±æ˜¯dp[1]çš„å€¼</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">dp</span>[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125;<br></code></pre></div></td></tr></table></figure><p>é‚£ä¹ˆæ¥ä¸‹æ¥çš„ä¸‘æ•°ï¼Œåº”è¯¥æ˜¯ä»2 * 2,1 * 3,1 * 5ä¸­å–æœ€å°ï¼Œæ˜¯3ï¼Œåˆ™dp[2] = 3</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">dp</span>[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;<br></code></pre></div></td></tr></table></figure><p>åŒç†ï¼Œä¸‹ä¸€ä¸ªä¸‘æ•°æ˜¯ä»2 * 2,2 * 3,1 * 5ä¸­å–æœ€å°æ˜¯4ï¼Œåˆ™dp[3] = 4</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">dp</span>[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;<br></code></pre></div></td></tr></table></figure><p>ç»§ç»­ä¸‹ä¸€ä¸ªå°±æ˜¯ä»3 * 2,2 * 3,1 * 5ä¸­å–æœ€å°æ˜¯5ï¼Œåˆ™dp[4] = 5</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">dp</span>[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;<br></code></pre></div></td></tr></table></figure></li></ul><p>â€‹        Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· </p><p>â€‹       äºæ˜¯ï¼Œå¯¹äºæ¯ä¸€æ¬¡å–æœ€å°æ—¶ï¼Œæœ€å°å€¼çš„æ¥æºå°±æ¥è‡ªäºç´ æ•°é›†åˆä¸­çš„æ¯ä¸€ä¸ªç´ æ•°ï¼Œä¹˜ä¸Šä»–æ‰€å¯¹åº”çš„ä¸€ä¸ªdpä¸­çš„ä¸‘æ•°ï¼Œåˆå§‹æƒ…å†µï¼Œæ¯ä¸€ä¸ªç´ æ•°éƒ½ä¹˜dp[0]ï¼Œdp[0]ä¸º1ï¼Œåœ¨ç›¸ä¹˜ä¹‹åçš„ç»“æœä¸­ï¼ŒæŸä¸€ ä¸ªç´ æ•°ä¸dpä¸­å¯¹åº”å€¼ç›¸ä¹˜çš„ç»“æœæœ€å°ï¼Œåˆ™å°†è¿™ä¸ªæœ€å°çš„ç»“æœåŠ å…¥dpæ•°ç»„ï¼ŒåŒæ—¶è¿™ä¸ªç´ æ•°ä¸‹ä¸€æ¬¡ç›¸ä¹˜æ—¶å¯¹åº”çš„dpä¸­çš„å€¼åº”è¯¥æ˜¯æœ¬æ¬¡ç›¸ä¹˜çš„å¯¹åº”å€¼çš„åä¸€ä¸ªã€‚</p><p>â€‹       å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ•°ç»„pæ¥ä¿å­˜ç¬¬iä¸ªç´ æ•°å¯¹åº”çš„dpä¸­å…ƒç´ çš„ç´¢å¼•ï¼Œåˆå§‹æƒ…å†µï¼Œæ‰€æœ‰ç´ æ•°å¯¹åº”dpä¸­çš„ç´¢å¼•ä¸º0ï¼Œå³pæ•°ç»„ä¸­æ‰€æœ‰çš„å€¼å‡ä¸º0ï¼Œå¦‚æœè¯¥ç´ æ•°ä¸dp[0]ç›¸ä¹˜çš„ç»“æœæ˜¯æœ¬æ¬¡æœ€å°çš„ï¼Œåˆ™å°†ç»“æœåŠ å…¥dpï¼ŒåŒæ—¶å°†è¯¥ç´ æ•°å¯¹åº”çš„ç´¢å¼•+1ï¼Œæ¯”å¦‚ä¸€å¼€å§‹åŠ å…¥ä¸‘æ•°2æ—¶ï¼Œp[1]++ï¼ˆ2æ˜¯ç¬¬ä¸€ä¸ªç´ æ•°ï¼‰ï¼Œåˆ™p[1] = 1ï¼Œæ‰€ä»¥ä¸‹ä¸€æ¬¡ç›¸ä¹˜å–æœ€å°æ—¶ï¼Œ2è¦ä¹˜ä»¥dp[p[1]] ï¼Œå³dp[1]ã€‚</p><p>â€‹        å› æ­¤æ±‚å‰nä¸ªä¸‘æ•°çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-number">1</span>.è®¡ç®—dp<span class="hljs-selector-attr">[p[i]</span>]*primes<span class="hljs-selector-attr">[i]</span>,primes<span class="hljs-selector-attr">[i]</span>è¡¨ç¤ºç¬¬<span class="hljs-selector-tag">i</span>ä¸ªç´ æ•°çš„å€¼ï¼Œ<span class="hljs-selector-tag">p</span><span class="hljs-selector-attr">[i]</span>è¡¨ç¤ºç¬¬<span class="hljs-selector-tag">i</span>ä¸ªç´ æ•°çš„ç›¸ä¹˜å¯¹è±¡åœ¨dpä¸­çš„ç´¢å¼•ï¼Œåˆ™dp<span class="hljs-selector-attr">[p[i]</span>]ï¼Œå°±æ˜¯æœ¬æ¬¡ç¬¬<span class="hljs-selector-tag">i</span>ä¸ªç´ æ•°çš„ç›¸ä¹˜å¯¹è±¡ã€‚<br><span class="hljs-number">2</span>.æ±‚å‡ºæœ€å°çš„dp<span class="hljs-selector-attr">[p[i]</span>]*primes<span class="hljs-selector-attr">[i]</span><br>  å¦‚æœä»–çš„å€¼æ¯”dpç´ ç»„æœ«å°¾çš„æœ€å¤§ä¸‘æ•°å¤§ï¼Œé‚£ä¹ˆä»–å°±æ˜¯æ–°çš„æœ€å¤§çš„ä¸‘æ•°ï¼ŒåŠ å…¥åˆ°dpçš„æœ€åï¼ŒåŒæ—¶<span class="hljs-selector-tag">p</span><span class="hljs-selector-attr">[i]</span>++,ç¬¬<span class="hljs-selector-tag">i</span>ä¸ªç´ æ•°ä¸‹ä¸€æ¬¡çš„ç›¸ä¹˜å¯¹è±¡ï¼Œæ˜¯æ¯”æœ¬æ¬¡ç›¸ä¹˜å¯¹è±¡å¤§çš„ä¸‹ä¸€ä¸ªä¸‘æ•°<br>  å¦‚æœä»–çš„å€¼ä¸dpæ•°ç»„æœ«å°¾çš„æœ€å¤§ä¸‘æ•°ç›¸ç­‰ï¼Œè¯´æ˜è¿™ä¸ªå€¼å·²ç»å­˜åœ¨äº†ï¼Œå°±ä¸ç”¨åŠ å…¥åˆ°dpæ•°ç»„ä¸­ï¼Œä½†æ˜¯ä¹Ÿè¦æŠŠè¿™ä¸ªç´ æ•°å¯¹åº”çš„ç´¢å¼•å€¼åŠ ä¸€ï¼Œå³<span class="hljs-selector-tag">p</span><span class="hljs-selector-attr">[i]</span>++<br><span class="hljs-number">3</span>.å¾ªç¯è¿›è¡Œå‰ä¸¤æ­¥ï¼Œä¸æ–­æ±‚å‡ºæ–°çš„ä¸‘æ•°ï¼Œç›´åˆ°æ±‚å‡ºnä¸ªä¸‘æ•°<br></code></pre></div></td></tr></table></figure><p>â€‹       è€ƒè™‘åˆ°æ—¶é—´é™åˆ¶ï¼Œåœ¨æ¯ä¸€è½®æ±‚å‡ºæœ€å°çš„dp[p[i]]*primes[i]æ—¶ï¼Œä½¿ç”¨æœ€å°å †æ±‚æœ€å°å€¼ï¼Œæœ€å°å †ä¸­çš„èŠ‚ç‚¹åŒ…å«ä¸¤ä¸ªå€¼ï¼Œä¸€ä¸ªæ˜¯indexï¼Œè¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹å¯¹åº”çš„æ˜¯å“ªä¸€ä¸ªç´ æ•°ï¼Œå¦ä¸€ä¸ªæ˜¯valueï¼Œè¡¨ç¤ºè¯¥èŠ‚ç‚¹çš„å€¼çš„å¤§å°ã€‚</p><p>â€‹       å…ˆå°†æ‰€æœ‰çš„primes[i]åŠ å…¥å †ï¼Œæ¥ä¸‹æ¥å¼€å§‹å¾ªç¯ï¼š</p><p>â€‹       æ¯æ¬¡å¾ªç¯,å–å‡ºå †ä¸­valueæœ€å°çš„å€¼ï¼Œåˆ¤æ–­æ˜¯å¦æ¯”ä¸Šä¸€ä¸ªä¸‘æ•°å¤§ï¼Œå¦‚æœå¤§ï¼Œåˆ™å°†æœ¬æ¬¡çš„valueåŠ å…¥dpï¼ŒåŒæ—¶ç¬¬indexä¸ªç´ æ•°çš„ç´¢å¼•å€¼åŠ ä¸€ï¼Œå³p[index]++,ç„¶åæŠŠç¬¬indexä¸ªç´ æ•°æ–°çš„dp[p[index]]*primes[index]çš„å€¼åŠ å…¥åˆ°å †ä¸­ï¼Œæ¥ç€ä¸‹ä¸€è½®å¾ªç¯ã€‚</p><p>â€‹       å¦‚æœæœ¬æ¬¡å–å‡ºçš„å †ä¸­çš„æœ€å°å€¼ï¼Œä¸ä¸Šä¸€ä¸ªä¸‘æ•°ç›¸åŒï¼Œåˆ™ä¸å¿…å°†å…¶åŠ å…¥dpæ•°ç»„ä¸­ï¼ŒåªæŠŠä»–å¯¹åº”çš„ç´ æ•°çš„ç´¢å¼•åŠ 1ï¼Œå³p[index]++ï¼Œç„¶åæŠŠæ–°çš„dp[p[index]]*primes[index]çš„å€¼åŠ å…¥åˆ°å †ä¸­ï¼Œæ¥ç€ä¸‹ä¸€è½®å¾ªç¯ã€‚</p><p>â€‹        åœ¨æœ€å°å †çš„æ•°æ®ï¼Œå°±æ˜¯å‰mä¸ªç´ æ•°ä¸ä»–æ‰€å¯¹åº”çš„dpä¸­çš„æŸä¸ªä¸‘æ•°çš„ä¹˜ç§¯ï¼Œæ¯æ¬¡å–å‡ºä¸€ä¸ªdp[p[i]] * primes[i]ï¼Œå°±è¦æŠŠæ–°çš„dp[p[i]] * primes[i]åŠ è¿›å»ã€‚</p><p>â€‹       æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;math.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> p[<span class="hljs-number">100010</span>];<span class="hljs-comment">//æ¯ä¸ªç´ æ•°ç´¢å¼•</span><br><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> dp[<span class="hljs-number">1000010</span>];<span class="hljs-comment">//ä¿å­˜å‰nä¸ª</span><br><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> primes[<span class="hljs-number">100010</span>];<span class="hljs-comment">//å‰mä¸ªç´ æ•°</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Heap</span> &#123;</span><br>    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> index;<br>    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> value;<br>&#125;heap[<span class="hljs-number">1000010</span>],*a;<br><span class="hljs-comment">////////////æœ€å°å †çš„ç›¸å…³æ“ä½œå‡½æ•°</span><br><span class="hljs-keyword">int</span> hs = <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sink</span><span class="hljs-params">(<span class="hljs-keyword">int</span> p)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> q = p &lt;&lt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> a = heap[p].value, b = heap[p].index;<br>    <span class="hljs-keyword">while</span> (q &lt;= hs) &#123;<br>        <span class="hljs-keyword">if</span> (q &lt; hs &amp;&amp; heap[q + <span class="hljs-number">1</span>].value &lt; heap[q].value) q++;<br>        <span class="hljs-keyword">if</span> (heap[q].value &gt;= a) <span class="hljs-keyword">break</span>;<br>        heap[p].index = heap[q].index;<br>        heap[p].value = heap[q].value;<br>        p = q;<br>        q = p &lt;&lt; <span class="hljs-number">1</span>;<br>    &#125;<br>    heap[p].value = a;<br>    heap[p].index = b;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swim</span><span class="hljs-params">(<span class="hljs-keyword">int</span> p)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> q = p &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> a = heap[p].value, b = heap[p].index;<br>    <span class="hljs-keyword">while</span> (q &amp;&amp; a &lt; heap[q].value) &#123;<br>        heap[p].index = heap[q].index;<br>        heap[p].value = heap[q].value;<br>        p = q;<br>        q = p &gt;&gt; <span class="hljs-number">1</span>;<br>    &#125;<br>    heap[p].value = a;<br>    heap[p].index = b;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(Heap* a)</span> </span>&#123;<br>    hs++;<br>    heap[hs].index= a-&gt;index;<br>    heap[hs].value = a-&gt;value;<br>    <span class="hljs-built_in">swim</span>(hs);<br>&#125;<br><span class="hljs-function">Heap <span class="hljs-title">getmin</span><span class="hljs-params">()</span> </span>&#123;<br>    Heap r = heap[<span class="hljs-number">1</span>];<br>    heap[<span class="hljs-number">1</span>] = heap[hs--];<br>    <span class="hljs-built_in">sink</span>(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> r;<br>&#125;<br><span class="hljs-comment">///////////////////////////////////////</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> m, n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;m, &amp;n);<br>    primes[<span class="hljs-number">1</span>] = <span class="hljs-number">2</span>;<br>    primes[<span class="hljs-number">2</span>] = <span class="hljs-number">3</span>;<br>    <span class="hljs-keyword">int</span> tot = <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">5</span>; tot &lt; m; i++) &#123;<br>        <span class="hljs-keyword">bool</span> is = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= tot &amp;&amp; primes[j] &lt;= <span class="hljs-built_in">sqrt</span>(i); j++) &#123;<br>            <span class="hljs-keyword">if</span> (i % primes[j] == <span class="hljs-number">0</span>) &#123;<br>                is = <span class="hljs-literal">false</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (!is) <span class="hljs-keyword">continue</span>;<br>        primes[++tot] = i;<br>    &#125;<span class="hljs-comment">////æ±‚å‡ºå‰mä¸ªç´ æ•°</span><br>    dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    a = (Heap*)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(Heap));<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) &#123;  <br>        a-&gt;index = i;<br>        a-&gt;value = primes[i];<br>        <span class="hljs-built_in">insert</span>(a); <span class="hljs-comment">//æŠŠdp[p[i]]*primes[i]çš„å€¼åŠ å…¥å †ï¼Œç¬¬ä¸€æ¬¡p[i]å‡ä¸º0ï¼Œdp[0]ä¸º1</span><br>    &#125;<br>    tot = <span class="hljs-number">0</span>;<br>    Heap min;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; tot &lt; n; i++) &#123;<br>        min = <span class="hljs-built_in">getmin</span>();<br>        <span class="hljs-keyword">if</span> (min.value &gt; dp[tot]) &#123;<br>            dp[++tot] = min.value; <span class="hljs-comment">//æ–°çš„ä¸‘æ•°åŠ å…¥dp </span><br>            p[min.index]++; <span class="hljs-comment">//å¯¹åº”ç´¢å¼•åç§»</span><br>            min.value = dp[p[min.index]] * primes[min.index];<br>            <span class="hljs-built_in">insert</span>(&amp;min); <span class="hljs-comment">//å°†æ–°çš„ä¹˜ç§¯åŠ å…¥å †</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%llu&quot;</span>, dp[tot]);<br>            <span class="hljs-keyword">if</span> (tot == n)  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>            <span class="hljs-keyword">else</span>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<span class="hljs-comment">//ä¸å¿…åŠ å…¥dpï¼Œä½†è¦æŠŠå¯¹åº”ç´¢å¼•åç§»ï¼Œå°†æ–°çš„å€¼åŠ å…¥å †</span><br>            p[min.index]++;<br>            min.value = dp[p[min.index]] * primes[min.index];<br>            <span class="hljs-built_in">insert</span>(&amp;min);<br>        &#125;<br>    &#125;<br><br> &#125;<br></code></pre></div></td></tr></table></figure><h2 id="2021-11-28"><a href="#2021-11-28" class="headerlink" title="2021-11-28"></a>2021-11-28</h2><p>æˆ‘ä¹Ÿæƒ³åˆ·é¢˜å•Šï¼Œå¯ä¸ºä»€ä¹ˆè¿˜æœ‰é‚£ä¹ˆå¤šäº‹å•ŠğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­</p><ul><li><h4 id="OJ-å¥¶ç‰›çš„é£Ÿç‰©"><a href="#OJ-å¥¶ç‰›çš„é£Ÿç‰©" class="headerlink" title="OJ.å¥¶ç‰›çš„é£Ÿç‰©"></a>OJ.å¥¶ç‰›çš„é£Ÿç‰©</h4><p><img src="/2021/11/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/%E5%A5%B6%E7%89%9B%E7%9A%84%E9%A3%9F%E7%89%A9.png" srcset="/img/loading.gif" lazyload alt="å¥¶ç‰›çš„é£Ÿç‰©"></p><p>ä¸€é“çŠ¶æ€å‹ç¼©DPçš„ç»å…¸é¢˜å‹ï¼Œèµ·åˆçš„æ€è·¯å°±æ˜¯DPï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆDPğŸ˜­ğŸ˜­</p><p>ä¸ªäººç†è§£ï¼ŒçŠ¶æ€å‹ç¼©DPå°±æ˜¯å°†ä¸€ä¸ªçŠ¶æ€è¡¨ç°æˆä¸€ä¸ªæ•°ä½0æˆ–1ï¼Œå¯¹åº”æŸä¸€å—åœ°çš„ç”¨è¿˜æ˜¯ä¸ç”¨ï¼Œè€Œä¸€ä¸ªæ•°å€¼åŒ…å«å¤šä¸ªä½ï¼Œå°±å¯ä»¥è¡¨ç¤ºä¸€ç»„çŠ¶æ€ã€‚</p><p>å› æ­¤ï¼Œåœ¨è¿™é“é¢˜ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªintå€¼æ¥è¡¨ç¤ºä¸€è¡Œä¸Šçš„åœ°å—èƒ½æ”¾ç‰›å’Œä¸èƒ½è®©æ”¾ç‰›çš„çŠ¶æ€ï¼Œä¸€è¡Œä¸Šçš„åœ°å—é€‰ä¸ä¸é€‰çš„çŠ¶æ€ï¼Œä¾‹å¦‚ä¸€è¡Œä¸Šæœ‰4åˆ—ï¼Œæ•°å­—5(0101)ï¼Œå°±ä»£è¡¨é€‰æ‹©ç¬¬äºŒå—å’Œç¬¬å››å—ï¼Œè¿™æ ·æ¯ä¸€è¡Œçš„çŠ¶æ€éƒ½ç”±ä¸€ä¸ªæ•°å­—è¡¨ç¤ºã€‚</p><p>å¯¹äºæœ¬é¢˜ï¼Œå‡è®¾ä¸€å…±æœ‰nåˆ—ï¼Œåˆ™è¯¥åˆ—çš„çŠ¶æ€ä¸€å…±æœ‰(1&lt;&lt;n)ç§çŠ¶æ€ï¼Œåœ¨æœ¬é¢˜ä¸­ï¼Œè¦ä¿è¯é€‰æ‹©çš„ä¸¤å—åœ°ä¸ç›¸é‚»ï¼Œå› æ­¤åœ¨è¿›è¡ŒDPè¿‡ç¨‹ä¸­ï¼Œå½“å‰è¡Œçš„å¯é€‰çŠ¶æ€ï¼Œåªä¸ä¸Šä¸€è¡Œçš„çŠ¶æ€æœ‰å…³ï¼Œè¦æ»¡è¶³ä¸‹é¢å‡ ä¸ªæ¡ä»¶ï¼š</p><ul><li>å¯¹äºå½“å‰è¡Œçš„çŠ¶æ€jï¼Œé¦–å…ˆjä¸­ä¸èƒ½å‡ºç°ä¸¤ä¸ªåœ°å—ç›¸é‚»ï¼Œå³jçš„æ•°ä½ä¸­ä¸å‡ºç°ä¸¤ä¸ª1ç›¸é‚»ï¼Œå¯ä»¥é€šè¿‡<code>(j&amp;(j&lt;&lt;1))==0</code>æ¥åˆ¤æ–­ï¼Œè‹¥ä¸ºtrueï¼Œè¯´æ˜jæ»¡è¶³æ¡ä»¶ï¼Œè‹¥ä¸ºfalseï¼Œè¯´æ˜ä¸æ»¡è¶³æ¡ä»¶</li><li>å¦‚æœç”¨value[i]æ¥è¡¨ç¤ºç¬¬iè¡Œçš„åœ°å—çš„è‚¥æ²ƒå’Œè´«ç˜ çš„æƒ…å†µï¼Œ1è¡¨ç¤ºå¯ä»¥æ”¾ç‰›ï¼Œ0è¡¨ç¤ºä¸å¯ä»¥æ”¾ç‰›ï¼Œåˆ™ç¬¬iè¡Œåˆ°çš„å¯é€‰çŠ¶æ€è¿˜å¿…é¡»æ»¡è¶³<code>(value[i]|j)==value[j]</code>ï¼Œè‹¥ä¸ºtrueï¼Œè¯´æ˜jä¸­çš„1éƒ½æ˜¯æ¥è‡ªvalue[i]ä¸­çš„1ï¼Œå°±æ˜¯è¯´jæ‰€é€‰æ‹©çš„åœ°å—éƒ½æ˜¯ç¬¬iè¡Œä¸­çš„å¯ä»¥æ”¾ç‰›çš„è‚¥æ²ƒåœ°å—</li><li>ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶è¦æ±‚å½“å‰è¡Œçš„çŠ¶æ€è¦æ»¡è¶³å“ªäº›æ¡ä»¶ï¼Œå½“çŠ¶æ€jæ»¡è¶³çš„å½“å‰è¡Œçš„çŠ¶æ€åï¼Œè¦éœ€è¦ä¸å‰ä¸€è¡Œçš„çŠ¶æ€ä¸äº§ç”Ÿå†²çªï¼Œå‡è®¾kæ˜¯æ»¡è¶³å‰ä¸€è¡Œçš„ä¸€ä¸ªå¯é€‰çŠ¶æ€ï¼Œåˆ™å½“å‰è¡Œçš„çŠ¶æ€jéœ€è¦ä¿è¯<code>(j&amp;k)==0</code>ï¼Œæ‰èƒ½ä¿è¯å½“å‰è¡Œä¸å‰ä¸€è¡Œä¸­ä¸å­˜åœ¨ä¸Šä¸‹ç›¸é‚»çš„è¡Œï¼Œå¯¹äºå½“å‰è¡Œçš„çŠ¶æ€jçš„æ–¹æ¡ˆæ•°ï¼Œå°±æ˜¯æ‰€æœ‰æ»¡è¶³ä¸Šä¸€è¡Œçš„å¯é€‰çŠ¶æ€ä¸”ä¸ä¸jäº§ç”Ÿå†²çªçš„çŠ¶æ€æ–¹æ¡ˆæ•°çš„æ€»å’Œ</li></ul><p>åœ¨å…·ä½“ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨value[]æ¥ä¿å­˜æ¯ä¸€è¡Œçš„å¯ä»¥æ”¾ç‰›å’Œä¸å¯ä»¥æ”¾ç‰›çš„çŠ¶æ€ï¼Œç”¨useful[]æ¥ä¿å­˜æ‰€æœ‰è‡ªèº«ä¸å­˜åœ¨å†²çªçš„å¯é€‰çŠ¶æ€ï¼Œå³æ»¡è¶³<code>j&amp;(j&lt;&lt;1))==0</code>,ç”¨dp[i] [j]æ¥è¡¨ç¤ºç¬¬iè¡Œï¼ŒçŠ¶æ€jçš„æ–¹æ¡ˆæ•°ï¼Œæœ€åæ€»çš„æ–¹æ¡ˆæ•°å°±æ˜¯dp[n] [k]çš„æ€»å’Œï¼Œkä¸ºå…¶ä¸­çš„ä¸€ä¸ªçŠ¶æ€ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">int</span> value[<span class="hljs-number">13</span>];<span class="hljs-comment">//ä¿å­˜è¯»å…¥çš„æ¯ä¸€è¡Œçš„01çŠ¶æ€</span><br><span class="hljs-keyword">int</span> useful[<span class="hljs-number">2000</span>];<span class="hljs-comment">//ä¿å­˜æ‰€æœ‰è‡ªèº«ä¸å†²çªçš„çŠ¶æ€</span><br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">13</span>][<span class="hljs-number">2000</span>];<span class="hljs-comment">//iè¡ŒjçŠ¶æ€çš„æ–¹æ¡ˆæ•°</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>  <span class="hljs-keyword">int</span> m,n,t;<br>  <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;m,&amp;n);<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i&lt;=m;i++)&#123;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;t);<br>      value[i]=(value[i]&lt;&lt;<span class="hljs-number">1</span>)|t;<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">int</span> allstates = (<span class="hljs-number">1</span>&lt;&lt;n)<span class="hljs-number">-1</span>;<br>  <span class="hljs-keyword">int</span> usefulstates=<span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;=allstates;i++)&#123; <span class="hljs-comment">//è¿™é‡Œæ˜¯è¿›è¡Œä¸€ä¸ªé¢„å¤„ç†ï¼Œç°å°†æ‰€æœ‰è‡ªèº«ä¸å†²çªçš„çŠ¶æ€ä¿å­˜ä¸‹æ¥</span><br>  <span class="hljs-keyword">if</span>((i&amp;(i&lt;&lt;<span class="hljs-number">1</span>))==<span class="hljs-number">0</span>)&#123;<br>    useful[usefulstates++] = i;<span class="hljs-comment">//å°†æ‰€æœ‰æœ¬èº«ä¸å†²çªçš„çŠ¶æ€ä¿ç•™</span><br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;usefulstates;i++)&#123; <span class="hljs-comment">//åˆå§‹åŒ–ç¬¬ä¸€è¡Œçš„çŠ¶æ€</span><br>  <span class="hljs-keyword">if</span>((value[<span class="hljs-number">1</span>]|useful[i])==value[<span class="hljs-number">1</span>])&#123;  <span class="hljs-comment">//è¯´æ˜useful[i]çš„çŠ¶æ€å¯ä»¥åœ¨ç¬¬ä¸€è¡Œå‡ºç°</span><br>    dp[<span class="hljs-number">1</span>][useful[i]] = <span class="hljs-number">1</span>;  <span class="hljs-comment">//åˆå§‹åŒ–ç¬¬ä¸€è¡Œ</span><br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>;i&lt;=m;i++)&#123;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;j&lt;usefulstates;j++)&#123;<br>    <span class="hljs-keyword">if</span>((value[i]|useful[j])==value[i])&#123;  <span class="hljs-comment">//å¯¹äºæœ¬èº«ä¸å†²çªçš„çŠ¶æ€ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯å½“å‰è¡Œçš„å¯é€‰çŠ¶æ€ï¼Œæ»¡è¶³é™åˆ¶æ¡ä»¶2</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>;k&lt;usefulstates;k++)&#123;<br>            <span class="hljs-keyword">if</span>((useful[j]&amp;useful[k])==<span class="hljs-number">0</span>&amp;&amp;(useful[k]|value[i<span class="hljs-number">-1</span>])==value[i<span class="hljs-number">-1</span>])&#123; <span class="hljs-comment">//åˆ¤æ–­ä¸å‰ä¸€è¡Œæ˜¯å¦å­˜åœ¨å†²çª</span><br>                dp[i][useful[j]] += dp[i<span class="hljs-number">-1</span>][useful[k]];  <span class="hljs-comment">//å‰ä¸€è¡Œçš„çŠ¶æ€kï¼Œä¹Ÿè¦æ»¡è¶³å‰ä¸€è¡Œçš„å¯é€‰æ¡ä»¶</span><br>                  dp[i][useful[j]] %=<span class="hljs-number">100000000</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;usefulstates;i++)&#123;<br>  ans+=dp[m][useful[i]];<br>     ans %=<span class="hljs-number">100000000</span>;  <span class="hljs-comment">//å°†æ‰€æœ‰çŠ¶æ€çš„æ–¹æ¡ˆæ•°æ±‚å’Œ</span><br>    &#125;<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,ans);<br>&#125;<br></code></pre></div></td></tr></table></figure></li></ul><h2 id="2021-11-22"><a href="#2021-11-22" class="headerlink" title="2021-11-22"></a>2021-11-22</h2><p>åˆæ‘¸äº†ä¸€å¤©ã€‚ã€‚ã€‚</p><ul><li><h4 id="å‰‘æŒ‡offer25-åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨"><a href="#å‰‘æŒ‡offer25-åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨" class="headerlink" title="å‰‘æŒ‡offer25.åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨"></a>å‰‘æŒ‡offer25.åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨</h4><p>easyéå†</p></li><li><h4 id="å‰‘æŒ‡offer26-æ ‘çš„å­ç»“æ„"><a href="#å‰‘æŒ‡offer26-æ ‘çš„å­ç»“æ„" class="headerlink" title="å‰‘æŒ‡offer26.æ ‘çš„å­ç»“æ„"></a>å‰‘æŒ‡offer26.æ ‘çš„å­ç»“æ„</h4><p><img src="/2021/11/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/%E5%89%91%E6%8C%8726.png" srcset="/img/loading.gif" lazyload alt="å‰‘æŒ‡26"></p></li></ul><p>å…ˆæ·±åº¦ä¼˜å…ˆéå†æ‰¾åˆ°å¤´ç»“ç‚¹çš„å€¼åœ¨Aæ ‘ä¸­çš„ä½ç½®ï¼Œç„¶åé€’å½’checkä¸‹é¢çš„å­æ ‘ï¼Œæ³¨æ„ç»ˆæ­¢æ¡ä»¶å³å¯</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    TreeNode d;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isSubStructure</span><span class="hljs-params">(TreeNode A, TreeNode B)</span> </span>&#123;<br>        d= B;<br>        <span class="hljs-keyword">if</span>(A==<span class="hljs-keyword">null</span>&amp;&amp;B!=<span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">if</span>(A!=<span class="hljs-keyword">null</span>&amp;&amp;B==<span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">if</span>(A==<span class="hljs-keyword">null</span>&amp;&amp;B==<span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">return</span> find(A,B.val);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">find</span><span class="hljs-params">(TreeNode r,<span class="hljs-keyword">int</span> k)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(r==<span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">if</span>(r.val==k) &#123;<br>            <span class="hljs-keyword">boolean</span> ans = check(r,d);<br>            <span class="hljs-keyword">if</span>(ans==<span class="hljs-keyword">true</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>        &#125;<br>      <span class="hljs-keyword">return</span> find(r.left,k) || find(r.right,k);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">check</span><span class="hljs-params">(TreeNode r,TreeNode x)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(r==<span class="hljs-keyword">null</span>&amp;&amp;x==<span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">if</span>(r!=<span class="hljs-keyword">null</span>&amp;&amp;x==<span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">if</span>(r!=<span class="hljs-keyword">null</span>&amp;&amp;x!=<span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(r.val == x.val)<br>            &#123;<br>                <span class="hljs-keyword">return</span> check(r.left,x.left)&amp;&amp;check(r.right,x.right);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><ul><li><h4 id="å‰‘æŒ‡offer28-å¯¹ç§°çš„äºŒå‰æ ‘"><a href="#å‰‘æŒ‡offer28-å¯¹ç§°çš„äºŒå‰æ ‘" class="headerlink" title="å‰‘æŒ‡offer28.å¯¹ç§°çš„äºŒå‰æ ‘"></a>å‰‘æŒ‡offer28.å¯¹ç§°çš„äºŒå‰æ ‘</h4><p>easyï¼Œé€’å½’åˆ¤æ–­å³å¯</p></li></ul><h2 id="2021-11-20"><a href="#2021-11-20" class="headerlink" title="2021-11-20"></a>2021-11-20</h2><p>å­¦é™¢cspçº¿ä¸Šæµ‹éªŒï¼Œæœªå¾—åˆ°å®Œæ•´é¢˜è§£ï¼Œæš‚ä¸è®°å½•</p><h2 id="2021-11-18"><a href="#2021-11-18" class="headerlink" title="2021-11-18"></a>2021-11-18</h2><ul><li><h4 id="å‰‘æŒ‡offer14-1-å‰ªç»³å­1"><a href="#å‰‘æŒ‡offer14-1-å‰ªç»³å­1" class="headerlink" title="å‰‘æŒ‡offer14-1.å‰ªç»³å­1"></a>å‰‘æŒ‡offer14-1.å‰ªç»³å­1</h4></li><li><h4 id="å‰‘æŒ‡offer14-2-å‰ªç»³å­2"><a href="#å‰‘æŒ‡offer14-2-å‰ªç»³å­2" class="headerlink" title="å‰‘æŒ‡offer14-2.å‰ªç»³å­2"></a>å‰‘æŒ‡offer14-2.å‰ªç»³å­2</h4><p>æ•°å­¦è¯æ˜ï¼šæ¯æ¬¡åˆ‡éƒ½åˆ‡é•¿åº¦3</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">cuttingRope</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(n&lt;=<span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> n-<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(n==<span class="hljs-number">4</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;<br>        <span class="hljs-keyword">long</span> res = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">long</span> mod =(<span class="hljs-keyword">long</span>)<span class="hljs-number">1e9</span>+<span class="hljs-number">7</span>;<br>        <span class="hljs-keyword">while</span>(n&gt;<span class="hljs-number">4</span>)&#123;<br>            res = (res*<span class="hljs-number">3</span>)%mod;<br>            n = n-<span class="hljs-number">3</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">int</span>)((res*n)%mod);<br>        <br>        &#125;<br>&#125;<span class="hljs-comment">//ä¸»è¦æ˜¯å¤§æ•°æº¢å‡ºï¼Œreså’Œmodéƒ½è¦ä¸ºlongæ‰è¡Œ</span><br></code></pre></div></td></tr></table></figure><p>åŠ¨æ€è§„åˆ’ï¼ˆåç»­è¡¥å……ï¼‰</p></li><li><h4 id="å‰‘æŒ‡offer-21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"><a href="#å‰‘æŒ‡offer-21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢" class="headerlink" title="å‰‘æŒ‡offer 21.è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"></a>å‰‘æŒ‡offer 21.è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</h4><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;  <span class="hljs-comment">//åŸåœ°äº¤æ¢</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[] exchange(<span class="hljs-keyword">int</span>[] nums) &#123;<br>        <span class="hljs-keyword">int</span>  i = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> tem=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> j = nums.length-<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(i&lt;j)&#123;<br>            <span class="hljs-keyword">if</span>((nums[i]&amp;<span class="hljs-number">1</span>)==<span class="hljs-number">0</span>&amp;&amp;(nums[j]&amp;<span class="hljs-number">1</span>)==<span class="hljs-number">1</span>)&#123;<br>                tem = nums[i];<br>                nums[i] = nums[j];<br>                nums[j] = tem;<br>                i++;<br>                j--;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((nums[i]&amp;<span class="hljs-number">1</span>)==<span class="hljs-number">0</span>&amp;&amp;(nums[j]&amp;<span class="hljs-number">1</span>)==<span class="hljs-number">0</span>)&#123;<br>                j--;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((nums[i]&amp;<span class="hljs-number">1</span>)==<span class="hljs-number">1</span>&amp;&amp;(nums[j]&amp;<span class="hljs-number">1</span>)==<span class="hljs-number">1</span>)&#123;<br>                i++;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                i++;j--;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> nums;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure></li></ul><h2 id="2021-11-16"><a href="#2021-11-16" class="headerlink" title="2021-11-16"></a>2021-11-16</h2><ul><li><h4 id="å‰‘æŒ‡offer-27-äºŒå‰æ ‘çš„é•œåƒ"><a href="#å‰‘æŒ‡offer-27-äºŒå‰æ ‘çš„é•œåƒ" class="headerlink" title="å‰‘æŒ‡offer 27.äºŒå‰æ ‘çš„é•œåƒ"></a>å‰‘æŒ‡offer 27.äºŒå‰æ ‘çš„é•œåƒ</h4><p>easyï¼Œé€’å½’å¤„ç†</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * public class TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode left;</span><br><span class="hljs-comment"> *     TreeNode right;</span><br><span class="hljs-comment"> *     TreeNode(int x) &#123; val = x; &#125;</span><br><span class="hljs-comment"> * &#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> TreeNode <span class="hljs-title">mirrorTree</span><span class="hljs-params">(TreeNode root)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">return</span> reverse(root);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> TreeNode <span class="hljs-title">reverse</span><span class="hljs-params">(TreeNode root)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>        TreeNode l = root.left;<br>        TreeNode r = root.right;<br>        root.left = reverse(r);<br>        root.right = reverse(l);<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure></li><li><h4 id="å‰‘æŒ‡offer-11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"><a href="#å‰‘æŒ‡offer-11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—" class="headerlink" title="å‰‘æŒ‡offer 11.æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"></a>å‰‘æŒ‡offer 11.æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</h4><p>easy,åˆå§‹æœ€å°è®¾ä¸ºæ•°ç»„ç¬¬ä¸€ä¸ª(è€ƒè™‘æ²¡æœ‰å‘ç”Ÿæ—‹è½¬çš„æƒ…å†µ)ï¼Œæ¥ç€ä»å·¦å¾€å³éå†ï¼Œå½“å‘ç°ä¸‹ä¸€ä¸ªæ¯”å½“å‰çš„å€¼å°ï¼Œè¯´æ˜ä¸‹ä¸€ä¸ªæ˜¯æ—‹è½¬å‰çš„å¤´ä¸€ä¸ªï¼Œæ˜¯æœ€å°çš„</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">minArray</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] numbers)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> len = numbers.length;<br>        <span class="hljs-keyword">int</span> ans = numbers[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;len-<span class="hljs-number">1</span>;i++)&#123;<br>            <span class="hljs-keyword">if</span>(numbers[i]&gt;numbers[i+<span class="hljs-number">1</span>])&#123;<br>                ans = numbers[i+<span class="hljs-number">1</span>];<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure></li><li><h4 id="å‰‘æŒ‡offer-12-çŸ©é˜µä¸­çš„è·¯å¾„"><a href="#å‰‘æŒ‡offer-12-çŸ©é˜µä¸­çš„è·¯å¾„" class="headerlink" title="å‰‘æŒ‡offer 12.çŸ©é˜µä¸­çš„è·¯å¾„"></a>å‰‘æŒ‡offer 12.çŸ©é˜µä¸­çš„è·¯å¾„</h4><p><img src="/2021/11/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/%E5%89%91%E6%8C%8712.png" srcset="/img/loading.gif" lazyload alt="å‰‘æŒ‡12"></p></li></ul><p>æ•´ä½“æ€è·¯ï¼šDFS+æ ‡è®°ä½ï¼Œè‡ªå·±åšçš„æ—¶å€™æœ‰å¤§æ¦‚çš„æ€è·¯ï¼Œä½†æ˜¯è¿˜æ˜¯æ··ä¹±çš„ï¼Œåœ¨æƒ…å†µåˆ†ç±»ï¼Œè¾¹ç•Œæ¡ä»¶ä¸Šåšäº†å¾ˆå¤šæ— ç”¨åŠŸï¼Œå¼•ä»¥ä¸ºæˆ’ã€‚</p><p>DFSçš„é€’å½’æ€è·¯ï¼š</p><p>é€’å½’å˜é‡ï¼šå½“å‰å€¼åœ¨çŸ©é˜µä¸­çš„åæ ‡i,jä»¥åŠå½“å‰åˆ¤æ–­çš„ç›®æ ‡å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦åœ¨æ•°ç»„ä¸­çš„ä½ç½®</p><p>é€’å½’å‡½æ•°ï¼š</p><ol><li>é¦–å…ˆåˆ¤æ–­å½“å‰çš„åæ ‡å€¼ï¼Œæ˜¯å¦åœ¨æ­£å¸¸çš„åæ ‡èŒƒå›´å†…ï¼Œå¦‚æœä¸åœ¨ï¼Œè¿”å›falseï¼Œå¦‚æœåœ¨ï¼Œè¿›ä¸€æ­¥åˆ¤æ–­</li><li>è‹¥å½“å‰åæ ‡(i,j)å‡ºçš„å­—ç¬¦ä¸ç›®æ ‡å­—ç¬¦ç›¸åŒï¼Œä¸”å½“å‰åæ ‡æœªè¢«ä½¿ç”¨è¿‡ï¼Œflag[i] [j]ä¸ºfalseï¼Œè¿›ä¸€æ­¥å¤„ç†ã€‚è‹¥ä¸æ»¡è¶³è¦æ±‚ï¼Œè¯´æ˜æ‰¾ä¸åˆ°ç›®æ ‡å­—ç¬¦ï¼Œè¿”å›falseã€‚</li><li>å½“åˆ¤æ–­å½“å‰ä½ç½®æ‰¾åˆ°äº†ç›®æ ‡å­—ç¬¦æ—¶ï¼Œå…ˆå°†å½“å‰ä½ç½®çš„æ ‡è®°è®¾ä¸ºtrueï¼Œå³flag[i] [j]ä¸ºtrueï¼Œæ¥ç€é€’å½’åˆ¤æ–­å½“å‰ä½ç½®çš„ä¸Šä¸‹å·¦å³å››ä¸ªä½ç½®ï¼Œåªè¦æœ‰ä¸€ä¸ªæ»¡è¶³æƒ…å†µå°±è¯´æ˜æ‰¾åˆ°äº†ç›®æ ‡å­—ç¬¦ä¸²ï¼Œè¿”å›trueï¼Œå¦åˆ™ï¼Œè¯´æ˜æ­¤è·¯ä¸é€šï¼Œéœ€è¦å°†å½“å‰ä½ç½®çš„æ ‡è®°é‡æ–°æ”¹ä¸ºfalseï¼Œè¿”å›falseï¼Œåªæœ‰èƒ½èµ°é€šçš„è·¯æ‰èƒ½è¢«æ ‡è®°ä½true</li><li>å¦‚æœå½“å‰åæ ‡çš„å­—ç¬¦ä¸ç›®æ ‡å­—ç¬¦ç›¸åŒï¼Œä¸”å½“å‰åæ ‡æœªè¢«è®¿é—®ï¼Œç›®æ ‡å­—ç¬¦åœ¨æ•°ç»„ä¸­æ­£å¥½æ˜¯æœ€åä¸€ä¸ªï¼Œè¯´æ˜å·²ç»æ‰¾åˆ°äº†æ‰€æœ‰çš„å­—ç¬¦ï¼Œç›´æ¥è¿”å›true</li></ol><p>åˆå§‹ä»£ç ï¼šï¼ˆæå…¶æ··ä¹±ï¼Œæ³¨é‡Šéƒ¨åˆ†è¿‡å¤šä»£ç å†—ä½™ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">char</span>[] c;<br>    <span class="hljs-keyword">char</span>[][] tem;<br>    <span class="hljs-keyword">boolean</span>[][] flag1;<br>    <span class="hljs-keyword">int</span> length;<br>    <span class="hljs-keyword">int</span> M=<span class="hljs-number">0</span>,N=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">exist</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[][] board, String word)</span> </span>&#123;<br>        c = word.toCharArray();<br>        length = c.length;<br>        tem = board;<br>        <span class="hljs-keyword">int</span> m = board.length; <span class="hljs-comment">//hang</span><br>        <span class="hljs-keyword">int</span> n = board[<span class="hljs-number">0</span>].length; <span class="hljs-comment">//lies</span><br>        M = m;<br>        N = n; <br>        <span class="hljs-keyword">boolean</span>[][] flag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[m][n];<br>        <span class="hljs-keyword">boolean</span> ans = <span class="hljs-keyword">false</span>;<br>        flag1 = flag;<br>        <span class="hljs-keyword">if</span>(m*n&lt;length) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;m;i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j =<span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>                <span class="hljs-keyword">if</span>(tem[i][j]==c[<span class="hljs-number">0</span>])&#123;<br>                     ans = find(i,j,<span class="hljs-number">0</span>);<br>                     <span class="hljs-keyword">if</span>(ans == <span class="hljs-keyword">true</span>)  <span class="hljs-keyword">return</span> ans;<br>                    <span class="hljs-comment">//  for(int a = 0;a&lt;m;a++)&#123;//å› ä¸ºåœ¨é€’å½’å‡½æ•°é‡Œè‹¥å½“å‰è·¯å¾„æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šå–æ¶ˆæ ‡è®°ï¼Œå› æ­¤ä¸ç”¨å†å°†æ‰€æœ‰çš„æ ‡è®°æ¸…é™¤ï¼Œè¿™ä¼šåšå¾ˆå¤šæ— ç”¨åŠŸï¼Œæµªè´¹å¾ˆå¤šæ—¶é—´</span><br>                    <span class="hljs-comment">//      for(int b = 0;b&lt;n;b++)&#123;</span><br>                    <span class="hljs-comment">//          flag1[a][b] = false;</span><br>                    <span class="hljs-comment">//      &#125;</span><br>                    <span class="hljs-comment">//  &#125;</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i,<span class="hljs-keyword">int</span> j,<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>        <span class="hljs-keyword">boolean</span> ans =<span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">if</span>(i&gt;=<span class="hljs-number">0</span>&amp;&amp;i&lt;M&amp;&amp;j&gt;=<span class="hljs-number">0</span>&amp;&amp;j&lt;N)&#123;<br>            <span class="hljs-keyword">if</span>(tem[i][j]==c[x]&amp;&amp;flag1[i][j]==<span class="hljs-keyword">false</span>)&#123;<br>                flag1[i][j] = <span class="hljs-keyword">true</span>;<br>                <span class="hljs-keyword">if</span>(x==length-<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>                <span class="hljs-comment">// if(i==0&amp;&amp;j==0)&#123;</span><br>                <span class="hljs-comment">//     ans = find(i+1,j,x+1)||find(i,j+1,x+1);</span><br>                <span class="hljs-comment">//     if(ans == true) return true;</span><br>                <span class="hljs-comment">//     flag1[i][j] = false;</span><br>                <span class="hljs-comment">//    // return false;</span><br>                <span class="hljs-comment">//  &#125;</span><br>                <span class="hljs-comment">// if(i==0&amp;&amp;j!=0)&#123;  //å› ä¸ºåœ¨ä¸€å¼€å§‹ä¼šåˆ¤æ–­åæ ‡æ˜¯å¦å¤„äºæ­£å¸¸çš„èŒƒå›´ï¼Œå› æ­¤ä¸éœ€è¦åœ¨é’ˆå¯¹åæ ‡åšåˆ†ç±»å¤„ç†äº†ï¼Œç»Ÿä¸€å»æ‰¾ä¸Šä¸‹æ‰€æœ‰å³å¯</span><br>                <span class="hljs-comment">//   ans = find(i,j-1,x+1)||find(i,j+1,x+1)||find(i+1,j,x+1);</span><br>                <span class="hljs-comment">//   if(ans == true) return true;</span><br>                <span class="hljs-comment">//   flag1[i][j] = false;</span><br>                <span class="hljs-comment">//   //return false;</span><br>                <span class="hljs-comment">// &#125;</span><br>                <span class="hljs-comment">// if(i!=0&amp;&amp;j==0)&#123;</span><br>                <span class="hljs-comment">//    ans = find(i-1,j,x+1)||find(i+1,j,x+1)||find(i,j+1,x+1);</span><br>                <span class="hljs-comment">//    if(ans == true) return true;</span><br>                <span class="hljs-comment">//     flag1[i][j] = false;</span><br>                <span class="hljs-comment">//     //return false;</span><br>                <span class="hljs-comment">// &#125;</span><br>                <span class="hljs-comment">// if(i!=0&amp;&amp;j!=0)&#123;</span><br>                ans =  find(i-<span class="hljs-number">1</span>,j,x+<span class="hljs-number">1</span>)||find(i+<span class="hljs-number">1</span>,j,x+<span class="hljs-number">1</span>)||find(i,j+<span class="hljs-number">1</span>,x+<span class="hljs-number">1</span>)||find(i,j-<span class="hljs-number">1</span>,x+<span class="hljs-number">1</span>);<br>                <span class="hljs-keyword">if</span>(ans == <span class="hljs-keyword">true</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>                flag1[i][j] = <span class="hljs-keyword">false</span>;<br>                <span class="hljs-comment">//return false;</span><br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br> &#125;<br></code></pre></div></td></tr></table></figure><p>æœ€ç»ˆç‰ˆï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">char</span>[] c;<br>    <span class="hljs-keyword">char</span>[][] tem;<br>    <span class="hljs-keyword">boolean</span>[][] flag1;<br>    <span class="hljs-keyword">int</span> length;<br>    <span class="hljs-keyword">int</span> M=<span class="hljs-number">0</span>,N=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">exist</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[][] board, String word)</span> </span>&#123;<br>        c = word.toCharArray();<br>        length = c.length;<br>        tem = board;<br>        <span class="hljs-keyword">int</span> m = board.length; <span class="hljs-comment">//hang</span><br>        <span class="hljs-keyword">int</span> n = board[<span class="hljs-number">0</span>].length; <span class="hljs-comment">//lies</span><br>        M = m;<br>        N = n; <span class="hljs-comment">//ä¿å­˜ä¸€äº›å…¨å±€å˜é‡ï¼ŒåŒ…æ‹¬çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œç›®æ ‡å­—ç¬¦ä¸²æ•°ç»„ï¼Œæ ‡è®°çŸ©é˜µç­‰ç­‰</span><br>        <span class="hljs-keyword">boolean</span>[][] flag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[m][n];<br>        <span class="hljs-keyword">boolean</span> ans = <span class="hljs-keyword">false</span>;<br>        flag1 = flag;<br>        <span class="hljs-keyword">if</span>(m*n&lt;length) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;m;i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j =<span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>                <span class="hljs-keyword">if</span>(tem[i][j]==c[<span class="hljs-number">0</span>])&#123;  <span class="hljs-comment">//åˆšå¼€å§‹æ‰¾ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œåº”è¯¥å°è¯•å¯¹æ‰€æœ‰ä¸ç›®æ ‡å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦ç›¸ç­‰çš„åæ ‡</span><br>                     ans = find(i,j,<span class="hljs-number">0</span>);<br>                     <span class="hljs-keyword">if</span>(ans == <span class="hljs-keyword">true</span>)  <span class="hljs-keyword">return</span> ans;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i,<span class="hljs-keyword">int</span> j,<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>        <span class="hljs-keyword">boolean</span> ans =<span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">if</span>(i&gt;=<span class="hljs-number">0</span>&amp;&amp;i&lt;M&amp;&amp;j&gt;=<span class="hljs-number">0</span>&amp;&amp;j&lt;N)&#123;<br>            <span class="hljs-keyword">if</span>(tem[i][j]==c[x]&amp;&amp;flag1[i][j]==<span class="hljs-keyword">false</span>)&#123;<br>                flag1[i][j] = <span class="hljs-keyword">true</span>;<br>                <span class="hljs-keyword">if</span>(x==length-<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>                ans =  find(i-<span class="hljs-number">1</span>,j,x+<span class="hljs-number">1</span>)||find(i+<span class="hljs-number">1</span>,j,x+<span class="hljs-number">1</span>)||find(i,j+<span class="hljs-number">1</span>,x+<span class="hljs-number">1</span>)||find(i,j-<span class="hljs-number">1</span>,x+<span class="hljs-number">1</span>);<br>                <span class="hljs-keyword">if</span>(ans == <span class="hljs-keyword">true</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>                flag1[i][j] = <span class="hljs-keyword">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>   &#125;<br> &#125;<br></code></pre></div></td></tr></table></figure><h2 id="2021-11-15"><a href="#2021-11-15" class="headerlink" title="2021-11-15"></a>2021-11-15</h2><ul><li><h4 id="å‰‘æŒ‡offer-05-æ›¿æ¢ç©ºæ ¼-very-easy"><a href="#å‰‘æŒ‡offer-05-æ›¿æ¢ç©ºæ ¼-very-easy" class="headerlink" title="å‰‘æŒ‡offer 05.æ›¿æ¢ç©ºæ ¼    very easy"></a>å‰‘æŒ‡offer 05.æ›¿æ¢ç©ºæ ¼    very easy</h4></li></ul><p><img src="/2021/11/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/%E5%89%91%E6%8C%8705.png" srcset="/img/loading.gif" lazyload alt="å‰‘æŒ‡05"></p><p>å¯¹äºjavaçš„stringç±»å‹ï¼Œå®ƒå…·æœ‰ä¸å¯å˜å‹ï¼Œä½¿ç”¨StringBuilderç±»å‹ä¿å­˜ç»“æœï¼Œéå†sçš„æ¯ä¸ª        å­—ç¬¦ï¼Œå½“é‡åˆ°ç©ºæ ¼ä½¿ï¼Œå‘StringBuilderä¸­åŠ å…¥â€œ%20â€ï¼Œå…¶ä»–æƒ…å†µï¼ŒåŠ å…¥å½“å‰å­—ç¬¦ã€‚</p><p>ä¸»è¦æ˜¯å¥½ä¹…ä¸åšï¼Œç›¸å…³APIå¿˜è®°äº†ã€‚ã€‚ã€‚</p><p>è¿™é‡Œéœ€è¦å¤ä¹ ä¸€ä¸‹Stringï¼ŒStringBuilderï¼Œå’ŒStringbufferçš„å¼‚åŒã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">replaceSpace</span><span class="hljs-params">(String s)</span> </span>&#123;<br>            StringBuilder  ans = <span class="hljs-keyword">new</span> StringBuilder();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> c:s.toCharArray())<br>            &#123;<br>                <span class="hljs-keyword">if</span>(c==<span class="hljs-string">&#x27; &#x27;</span>)&#123;<br>                    ans.append(<span class="hljs-string">&quot;%20&quot;</span>);<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    ans.append(c);<br>                &#125;<br>            &#125; <br>            <span class="hljs-keyword">return</span> ans.toString();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><ul><li><h4 id="å‰‘æŒ‡offer-07-é‡å»ºäºŒå‰æ ‘"><a href="#å‰‘æŒ‡offer-07-é‡å»ºäºŒå‰æ ‘" class="headerlink" title="å‰‘æŒ‡offer 07.é‡å»ºäºŒå‰æ ‘"></a>å‰‘æŒ‡offer 07.é‡å»ºäºŒå‰æ ‘</h4><p><img src="/2021/11/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/%E5%89%91%E6%8C%8707.png" srcset="/img/loading.gif" lazyload alt="å‰‘æŒ‡07"></p></li></ul><p>å…³äºæœ¬é¢˜çš„å…³é”®ç‚¹ï¼š</p><ol><li>å‰åºéå†ç¬¬ä¸€ä¸ªå°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œä¸­åºéå†çš„æ ¹èŠ‚ç‚¹å·¦è¾¹å°±æ˜¯å·¦å­æ ‘ï¼Œå³è¾¹å°±æ˜¯å³å­æ ‘</li><li>å‰åºéå†çš„ç»“æ„æ˜¯[æ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘ï¼Œå³å­æ ‘]ï¼Œä¸”å·¦å­æ ‘å’Œå³å­æ ‘éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªåˆ†åˆ«æ˜¯ä»–ä»¬çš„æ ¹èŠ‚ç‚¹</li><li>ä¸­åºéå†çš„ç»“æ„æ˜¯[å·¦å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘]</li><li>æ‰€ä»¥å¯ä»¥æ ¹æ®è¿™æ ·çš„ç»“æ„å»é€’å½’å¤„ç†å·¦å­æ ‘å’Œå³å­æ ‘</li></ol><p>éš¾ç‚¹ä¸»è¦åœ¨äºé€’å½’çš„ç»“æ„ï¼Œåœ¨é€’å½’è¿‡ç¨‹ä¸­éœ€è¦ä¼ é€’çš„å˜é‡å€¼ï¼Œè¿™é‡Œä½¿ç”¨ä¸€ä¸ªHashMapæ¥å­˜å‚¨ä¸­åºéå†ä¸­æ¯ä¸ªèŠ‚ç‚¹å€¼å’Œå®ƒåœ¨ä¸­åºéå†çš„æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè¿™æ ·å¯ä»¥åœ¨O(1)çš„æ¡ä»¶ä¸‹è·å–ä¸€ä¸ªå€¼åœ¨ä¸­åºéå†ä¸­çš„ç´¢å¼•ã€‚</p><p>é€’å½’ç®—æ³•åˆ†æï¼š</p><ul><li><p>é€’å½’å‚æ•°ï¼š</p><p>root_pre_idï¼šè¡¨ç¤ºæ ¹èŠ‚ç‚¹åœ¨å‰åºéå†ä¸­çš„ç´¢å¼•ï¼Œæ ¹æ®è¿™ä¸ªidå¯ä»¥è·å¾—å½“å‰æ ‘æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå†æ ¹æ®æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå¯ä»¥åœ¨mapä¸­å¾—åˆ°åœ¨æ ¹èŠ‚ç‚¹åœ¨ä¸­åºéå†ä¸­çš„ç´¢å¼•.</p><p>in_leftï¼šå½“å‰æ ‘åœ¨ä¸­åºéå†ä¸­çš„å·¦è¾¹ç•Œ</p><p>in_rightï¼šå½“å‰æ ‘åœ¨ä¸­åºéå†ä¸­çš„å³è¾¹ç•Œ</p><p>æ ¹æ®ä¸Šè¿°ä¸‰ä¸ªå‚æ ‘ï¼Œæ¯æ¬¡é€’å½’éƒ½å¯ä»¥è®¡ç®—å‡ºå·¦èŠ‚ç‚¹æˆ–å³èŠ‚ç‚¹åœ¨å‰åºéå†ä¸­çš„ç´¢å¼•ï¼Œä»¥åŠå·¦å³å­æ ‘å„è‡ªçš„å·¦å³è¾¹ç•Œã€‚</p></li><li><p>ç»ˆæ­¢æ¡ä»¶ï¼šin_left&gt;in_rightï¼Œè¯´æ˜å·²å°†è¶Šè¿‡äº†å¶å­ç»“ç‚¹ï¼Œè¿”å›null</p></li><li><p>æ¯ä¸€æ¬¡é€’å½’ï¼š</p><ol><li><p>è®¡ç®—æ ¹æ®root_pre_idï¼Œå¾—åˆ°æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå»ºç«‹æ ¹èŠ‚ç‚¹</p></li><li><p>æ ¹æ®æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå¾—åˆ°æ ¹èŠ‚ç‚¹åœ¨ä¸­åºéå†ä¸­çš„ç´¢å¼•root_in_id</p></li><li><p>é€’å½’å·¦å³å­æ ‘ï¼š</p><p>é€’å½’å˜é‡ï¼š</p><p>å·¦å­æ ‘ï¼šå·¦å­æ ‘æ ¹èŠ‚ç‚¹åœ¨å‰åºéå†ä¸­çš„ç´¢å¼•å°±æ˜¯å½“å‰æ ¹èŠ‚ç‚¹åœ¨å‰åºä¸­çš„ç´¢å¼•+1ï¼Œå³root_pre_id + 1,å·¦å­æ ‘åœ¨ä¸­åºä¸­çš„å·¦è¾¹ç•Œå°±æ˜¯å½“å‰çš„å·¦è¾¹ç•Œï¼Œå³in_left+1ï¼Œå³è¾¹ç•Œä¸ºå½“å‰æ ¹èŠ‚ç‚¹åœ¨ä¸­åºä¸­çš„ç´¢å¼•-1ï¼Œå³root_in_id - 1</p><p>å³å­æ ‘ï¼šå³å­æ ‘çš„æ ¹èŠ‚ç‚¹åœ¨å‰åºéå†ä¸­çš„ç´¢å¼•å°±æ˜¯å½“å‰æ ¹èŠ‚ç‚¹åœ¨å‰åºä¸­çš„ç´¢å¼•åŠ ä¸Šå·¦å­æ ‘çš„èŠ‚ç‚¹æ•°é‡+1ï¼Œå³root_pre_id+(root_in_id - in_left) + 1ï¼Œå³å­æ ‘çš„å·¦è¾¹ç•Œä¸ºroot_in_id +1ï¼Œå³è¾¹ç•Œä¸ºå½“å‰çš„å³è¾¹ç•Œin_right</p></li><li><p>è¿”å›root</p></li></ol></li></ul><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * public class TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode left;</span><br><span class="hljs-comment"> *     TreeNode right;</span><br><span class="hljs-comment"> *     TreeNode(int x) &#123; val = x; &#125;</span><br><span class="hljs-comment"> * &#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span>[] pre;<br>    <span class="hljs-keyword">private</span> HashMap&lt;Integer,Integer&gt; id_index = <span class="hljs-keyword">new</span> HashMap&lt;Integer,Integer&gt;();<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> TreeNode <span class="hljs-title">buildTree</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] preorder, <span class="hljs-keyword">int</span>[] inorder)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.pre = preorder;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;inorder.length;i++)&#123;<br>            id_index.put(inorder[i],i);  <span class="hljs-comment">//ä½¿ç”¨mapä¿å­˜ä¸­åºæ•°ç»„ä¸­çš„å€¼ä¸ç´¢å¼•ï¼Œé¿å…æ¯ä¸€æ¬¡éƒ½éå†</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> build(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,inorder.length-<span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> TreeNode <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root_pre_id,<span class="hljs-keyword">int</span> in_left,<span class="hljs-keyword">int</span> in_right)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(in_left &gt; in_right)&#123;  <span class="hljs-comment">//ç»ˆæ­¢æ¡ä»¶</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>        &#125;<br>        TreeNode root = <span class="hljs-keyword">new</span> TreeNode();  <span class="hljs-comment">//åˆ›å»ºå½“å‰çš„æ ¹èŠ‚ç‚¹</span><br>        root.val = pre[root_pre_id]; <span class="hljs-comment">//è·å–æ ¹èŠ‚ç‚¹çš„å€¼</span><br>        <span class="hljs-keyword">int</span> root_in_id = id_index.get(root.val);  <span class="hljs-comment">//è·å–æ ¹èŠ‚ç‚¹åœ¨ä¸­åºä¸­çš„ç´¢å¼•</span><br>        root.left = build(root_pre_id+<span class="hljs-number">1</span>,  in_left,  root_in_id-<span class="hljs-number">1</span>); <span class="hljs-comment">//é€’å½’å·¦å³å­æ ‘(æ ¹èŠ‚ç‚¹çš„å‰åºç´¢å¼•ï¼Œä¸­åºå·¦è¾¹ç•Œï¼Œä¸­åºå³è¾¹ç•Œ)</span><br>        root.right = build(root_pre_id+(root_in_id-in_left)+<span class="hljs-number">1</span>,  root_in_id+<span class="hljs-number">1</span>,  in_right);<br>        <span class="hljs-keyword">return</span> root;       <span class="hljs-comment">//æ ¹èŠ‚ç‚¹å‰åºç´¢å¼•+å·¦å­æ ‘èŠ‚ç‚¹æ•°+1</span><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><ul><li><h4 id="å‰‘æŒ‡offer-09-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"><a href="#å‰‘æŒ‡offer-09-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="å‰‘æŒ‡offer 09 ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"></a>å‰‘æŒ‡offer 09 ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</h4><p>æ€è·¯ï¼šå…ˆç”¨ç¬¬ä¸€ä¸ªæ ˆä¿å­˜æ•°æ®ï¼Œä»é˜Ÿåˆ—å°¾éƒ¨æ·»åŠ æ•°æ®ï¼Œå°±æ˜¯æŠŠæ•°æ®pushåˆ°ç¬¬ä¸€ä¸ªæ ˆä¸­ï¼Œå½“éœ€è¦ä»é˜Ÿåˆ—å¤´éƒ¨å–å‡ºæ•°æ®æ—¶ï¼Œç°å°†ç¬¬ä¸€ä¸ªæ ˆä¸­çš„æ•°æ®å…¨éƒ¨popåˆ°ç¬¬äºŒä¸ªæ ˆä¸­ï¼Œè¿™æ ·ç¬¬äºŒä¸ªæ ˆçš„æ ˆé¡¶ï¼Œå°±æ˜¯é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´ ï¼Œpopå‡ºæ ˆé¡¶ï¼Œå†æŠŠå‰©ä¸‹çš„å…ƒç´ åœ¨pop+pushå¯¼åˆ°ç¬¬ä¸€ä¸ªç«™é‡Œé¢</p></li><li><h4 id="å‰‘æŒ‡offer-10-é’è›™è·³å°é˜¶"><a href="#å‰‘æŒ‡offer-10-é’è›™è·³å°é˜¶" class="headerlink" title="å‰‘æŒ‡offer 10 é’è›™è·³å°é˜¶"></a>å‰‘æŒ‡offer 10 é’è›™è·³å°é˜¶</h4><p>ç®€å•DP</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•ä¸åˆ·é¢˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜è®°å½•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å››.Redisæ•°æ®ç±»å‹</title>
    <link href="/2021/11/11/%E5%9B%9B-Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
    <url>/2021/11/11/%E5%9B%9B-Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="Redisæ•°æ®ç±»å‹"><a href="#Redisæ•°æ®ç±»å‹" class="headerlink" title="Redisæ•°æ®ç±»å‹"></a>Redisæ•°æ®ç±»å‹</h1><h2 id="ä¸€-Stringå­—ç¬¦ä¸²ç±»å‹"><a href="#ä¸€-Stringå­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="ä¸€.Stringå­—ç¬¦ä¸²ç±»å‹"></a>ä¸€.Stringå­—ç¬¦ä¸²ç±»å‹</h2><figure class="highlight clean"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs clean">########################################################################<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys *<br>(empty array)<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; set key1 v1  #è®¾ç½®key1çš„å€¼ä¸ºv1<br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key1 #è·å–key1çš„å€¼<br><span class="hljs-string">&quot;v1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; exists key1  #åˆ¤æ–­æ˜¯å¦å­˜åœ¨åä¸ºkey1çš„é”®<br>(integer) <span class="hljs-number">1</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; append key1 <span class="hljs-string">&quot;hello&quot;</span>  #åœ¨key1ä¸Šè¿½åŠ å­—ç¬¦ä¸²ï¼Œè‹¥keyä¸å­˜åœ¨ï¼Œç›¸å½“äºset key value<br>(integer) <span class="hljs-number">7</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys *<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;key1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; append key2 <span class="hljs-string">&quot;abcde&quot;</span> #key2ä¸å­˜åœ¨ï¼Œå› æ­¤æ–°å»ºkey2ï¼Œå¹¶è®¾ç½®value<br>(integer) <span class="hljs-number">5</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys *<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;key2&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;key1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; strlen key1  #è·å–keyçš„é•¿åº¦<br>(integer) <span class="hljs-number">7</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; append key1 <span class="hljs-string">&quot;12345&quot;</span><br>(integer) <span class="hljs-number">12</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; strlen key1<br>(integer) <span class="hljs-number">12</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key1<br><span class="hljs-string">&quot;v1hello12345&quot;</span><br>#########################################################################<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; set views <span class="hljs-number">0</span><br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;0&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; incr views #è‡ªå¢<span class="hljs-number">1</span><br>(integer) <span class="hljs-number">1</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; decr views<br>(integer) <span class="hljs-number">0</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;0&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; decr views #è‡ªå‡<span class="hljs-number">1</span><br>(integer) <span class="hljs-number">-1</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;-1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; incrby views <span class="hljs-number">10</span> #è®¾ç½®æ­¥é•¿ï¼Œç›¸å½“äºviews = views+<span class="hljs-number">10</span><br>(integer) <span class="hljs-number">9</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;9&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; decrby views <span class="hljs-number">8</span> #è®¾ç½®æ­¥é•¿ï¼Œç›¸å½“äºviews = views<span class="hljs-number">-10</span><br>(integer) <span class="hljs-number">1</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;1&quot;</span><br>################################################################<br>#è·å–ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡å®šèŒƒå›´çš„å­—ä¸²  getrange key start end  <span class="hljs-comment">//endä¸ºè´Ÿçš„å°±è·å–å…¨éƒ¨ä¸²</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; set key1 helloworld<br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key1<br><span class="hljs-string">&quot;helloworld&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; getrange key1 <span class="hljs-number">0</span> <span class="hljs-number">3</span>  #æˆªå–å­—ä¸²[<span class="hljs-number">0</span>,<span class="hljs-number">3</span>]<br><span class="hljs-string">&quot;hell&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; getrange key1 <span class="hljs-number">0</span> <span class="hljs-number">-1</span><br><span class="hljs-string">&quot;helloworld&quot;</span><br><br>#æ›¿æ¢æŒ‡å®šèŒƒå›´çš„å­—ä¸²  setrange key offset new_value ä»æŒ‡å®šçš„åç§»é‡å¼€å§‹å°†keyçš„å€¼æ›¿æ¢ä¸ºnew_value<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; set key2 abcdefg<br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key2<br><span class="hljs-string">&quot;abcdefg&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; setrange key2 <span class="hljs-number">2</span> <span class="hljs-number">123</span><br>(integer) <span class="hljs-number">7</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key2<br><span class="hljs-string">&quot;ab123fg&quot;</span><br>###############################################################<br>#setex (set <span class="hljs-keyword">with</span> expire) è®¾ç½®è¿‡æœŸæ—¶é—´<br>#setnx (set <span class="hljs-keyword">if</span> not exist) å¦‚æœä¸å­˜åœ¨å†è®¾ç½®<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; setex key3 <span class="hljs-number">30</span> <span class="hljs-string">&quot;hello&quot;</span>  <span class="hljs-comment">//è®¾ç½®keysçš„å€¼ä¸ºhelloï¼Œä¸”è¿‡æœŸæ—¶é—´ä¸º30ç§’</span><br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key3 <span class="hljs-comment">//æœªè¾¾åˆ°è¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥æŸ¥åˆ°key3</span><br><span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; ttl key3 <span class="hljs-comment">//key3çš„å‰©ä½™æ—¶é—´</span><br>(integer) <span class="hljs-number">23</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; setnx mykey <span class="hljs-number">123456</span>  <span class="hljs-comment">//å¦‚æœmykeyä¸å­˜åœ¨ï¼Œè®¾ç½®mykeyçš„å€¼</span><br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; ttl key3  <span class="hljs-comment">//key3å·²ç»è¿‡æœŸ</span><br>(integer) <span class="hljs-number">-2</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys * <span class="hljs-comment">//æŸ¥çœ‹æ‰€æœ‰keysï¼Œå› ä¸ºkey3å·²å°†è¿‡æœŸï¼Œæ‰€ä»¥ä¸å­˜åœ¨key3</span><br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;mykey&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;key2&quot;</span><br><span class="hljs-number">3</span>) <span class="hljs-string">&quot;key1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; setnx mykey <span class="hljs-string">&quot;566868&quot;</span> <span class="hljs-comment">//å¦‚æœmykeyä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè®¾ç½®å€¼ä¸º566868</span><br>(integer) <span class="hljs-number">0</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get mykey <span class="hljs-comment">//å› ä¸ºmykeyä¸€ç›´å­˜åœ¨ï¼Œæ‰€ä»¥ä¸Šé¢çš„setnxæ²¡æœ‰æˆåŠŸï¼Œè¿”å›å€¼ä¸º0ï¼Œ</span><br><span class="hljs-string">&quot;123456&quot;</span>                  <span class="hljs-comment">//mykeyè¿˜æ˜¯åŸæ¥çš„å€¼</span><br>###############################################################<br>mset key1 value1 key2 value2 ...... æ‰¹é‡è®¾ç½®é”®å€¼<br>mget key1 key2......æ‰¹é‡è·å–é”®å€¼<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; mset k1 v1 k2 v2 k3 v3<br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys *<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;k3&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;k2&quot;</span><br><span class="hljs-number">3</span>) <span class="hljs-string">&quot;k1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; mget k1 k2 k3<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;v1&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;v2&quot;</span><br><span class="hljs-number">3</span>) <span class="hljs-string">&quot;v3&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; msetnx k1 m1 k4 v4  <span class="hljs-comment">//msetæ˜¯åŸå­æ€§æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œç±»ä¼¼äº‹åŠ¡ï¼Œå› ä¸ºk1å­˜åœ¨ï¼Œsetå¤±è´¥ï¼Œæ‰€ä»¥k4çš„è®¾ç½®ä¹Ÿå¤±è´¥ï¼Œä¸‹é¢çœ‹åˆ°è¿”å›å€¼ä¸º0ï¼Œkey4ä¸ºnullï¼Œk1çš„å€¼ä¸å˜</span><br>(integer) <span class="hljs-number">0</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get k4<br>(nil)<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get k1<br><span class="hljs-string">&quot;v1&quot;</span><br><br>##è®¾ç½®ä¸€ä¸ªå¯¹è±¡<br>set user:<span class="hljs-number">1</span> &#123;name:zhangsan,age:<span class="hljs-number">18</span>&#125;  #è®¾ç½®ä¸€ä¸ªuser:<span class="hljs-number">1</span>å¯¹è±¡çš„å€¼ä¸ºjsonå­—ç¬¦ä¸²æ¥ä¿å­˜ä¸€ä¸ªå¯¹è±¡<br>#è¿™é‡Œçš„keyå¾ˆå·§å¦™ï¼Œuser:&#123;uid&#125;:&#123;å±æ€§&#125;,å¦‚æ­¤è®¾ç½®åœ¨redisä¸­å®Œå…¨ok<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; mset user:<span class="hljs-number">1</span>:name zhangsan  user:<span class="hljs-number">1</span>:age <span class="hljs-number">18</span><br>OK    <span class="hljs-comment">//ä»–æŠŠuser:1:nameå½“åšä¸€ä¸ªkeyæ¥å­˜ï¼Œuser:1:ageå½“åšä¸€ä¸ªkeyæ¥å­˜</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; mget user:<span class="hljs-number">1</span>:name user:<span class="hljs-number">1</span>:age<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;zhangsan&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;18&quot;</span><br><br><span class="hljs-comment">//getset ç»„åˆå‘½ä»¤ï¼Œå…ˆè·å–å†è®¾ç½®</span><br><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; getset db redis   <span class="hljs-comment">//å¦‚æœäº‹å…ˆæ²¡æœ‰å€¼ï¼Œåˆ™è¿”å›null</span><br>(nil)<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; getset db mongodb  <span class="hljs-comment">//å¦‚æœå½“å‰å­˜åœ¨å€¼ï¼Œåˆ™è¿”å›å½“å‰å€¼åœ¨è®¾ç½®</span><br><span class="hljs-string">&quot;redis&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get db<br><span class="hljs-string">&quot;mongodb&quot;</span><br>###################################################<br></code></pre></div></td></tr></table></figure><p>Stringç±»çš„ä½¿ç”¨åœºæ™¯ï¼š valueå¯ä»¥ä½¿å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥æ˜¯æ•°å­—</p><ul><li>åšè®¡æ•°å™¨</li><li>ç»Ÿè®¡å¤šå•ä½çš„æ•°é‡  uid:123455:follower 0</li><li>ç²‰ä¸æ•°</li><li>å¯¹è±¡ç¼“å­˜å­˜å‚¨</li></ul><h2 id="äºŒ-Listç±»å‹"><a href="#äºŒ-Listç±»å‹" class="headerlink" title="äºŒ.Listç±»å‹"></a>äºŒ.Listç±»å‹</h2><p>åœ¨redisä¸­ï¼Œlistå¯ä»¥å½“åšæ ˆï¼Œé˜Ÿåˆ—ï¼ŒåŒç«¯é˜Ÿåˆ—ï¼Œæˆ–é˜»å¡é˜Ÿåˆ—æ¥ä½¿ç”¨</p><p>æ‰€æœ‰æœ‰å…³listçš„å‘½ä»¤ï¼Œéƒ½æ˜¯å­—æ¯â€™Lâ€™å¼€å¤´çš„</p><p>åŸºæœ¬å‘½ä»¤ä½¿ç”¨ï¼š</p><figure class="highlight xquery"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xquery">keyä¸ºæ“ä½œçš„åˆ—è¡¨çš„åå­—<br>- LPUSH<span class="hljs-built_in"> key</span> <span class="hljs-keyword">value</span> [<span class="hljs-keyword">value</span>....]   ä»é˜Ÿåˆ—çš„å·¦è¾¹å…¥é˜Ÿä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ <br>ps: åœ¨é˜Ÿåˆ—ä¸­ï¼Œç¼–å·æ˜¯ä»å·¦åˆ°å³ä¸º<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>ï¼Œå¦‚æœå‰é¢LPUSHä¸€ä¸ªå…ƒç´ åï¼Œä»–çš„ç¼–å·ä¸º<span class="hljs-number">0</span>ï¼Œç»§ç»­LPUSHä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶ä»–çš„ç¼–å·å˜æˆäº†<span class="hljs-number">1</span><br>- LPUSHX<span class="hljs-built_in"> key</span> <span class="hljs-keyword">value</span>å¦‚æœé˜Ÿåˆ—å­˜åœ¨ï¼Œä»é˜Ÿåˆ—çš„å·¦è¾¹å…¥é˜Ÿä¸€ä¸ªå…ƒç´ <br>- LRANGE<span class="hljs-built_in"> key</span> <span class="hljs-keyword">start</span> <span class="hljs-keyword">end</span>ä»åˆ—è¡¨ä¸­å–å‡ºæŒ‡å®šç¼–å·èŒƒå›´å†…çš„å…ƒç´ ï¼Œ<span class="hljs-number">0</span>ï¼Œ-<span class="hljs-number">1</span>ä¸ºå–å‡ºæ‰€æœ‰<br>- LREM<span class="hljs-built_in"> key</span><span class="hljs-built_in"> count</span> <span class="hljs-keyword">value</span>ä»åˆ—è¡¨ä¸­åˆ é™¤å…ƒç´ ï¼Œæ³¨æ„å…ƒç´ çš„<span class="hljs-keyword">value</span>å¿…é¡»æ˜ç¡®æŒ‡å®š<span class="hljs-built_in">ï¼Œcount</span>ä¸ºåˆ é™¤çš„<span class="hljs-keyword">value</span>çš„ä¸ªæ•°<br>- LSET<span class="hljs-built_in"> key</span> index <span class="hljs-keyword">value</span>è®¾ç½®åˆ—è¡¨ä¸­ç¼–å·ä¸ºindexçš„å…ƒç´ çš„å€¼<br>- LTRIM<span class="hljs-built_in"> key</span> <span class="hljs-keyword">start</span> <span class="hljs-keyword">end</span>ä¿®å»ºæŒ‡å®šèŒƒå›´å†…çš„æ•°æ®ï¼Œè¯­å¥æ‰§è¡Œç»“æŸåï¼ŒåŸæ¥<span class="hljs-built_in">çš„key</span>ä¸­åªä¿å­˜èŒƒå›´å†…çš„å€¼ï¼Œå…¶ä»–çš„éƒ½è¢«åˆ é™¤<br>- RPOP<span class="hljs-built_in"> key</span>ä»é˜Ÿåˆ—çš„å³è¾¹å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ <br>- RPOPLPUSH source destination åˆ é™¤sourceåˆ—è¡¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ (popå‡ºæœ€å³è¾¹çš„)ï¼Œå¹¶è¿½åŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨(å¹¶åŠ åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—å·¦è¾¹)<br>- RPUSH<span class="hljs-built_in"> key</span> <span class="hljs-keyword">value</span> [<span class="hljs-keyword">value</span>....] ä»é˜Ÿåˆ—çš„å³è¾¹å…¥é˜Ÿä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ <br>- RPUSHX<span class="hljs-built_in"> key</span> <span class="hljs-keyword">value</span> å¦‚æœé˜Ÿåˆ—å­˜åœ¨ï¼Œä»é˜Ÿåˆ—çš„å³è¾¹å…¥é˜Ÿä¸€ä¸ªå…ƒç´ <br>- LLEN<span class="hljs-built_in"> key</span> è·å–åˆ—<span class="hljs-built_in">è¡¨key</span>çš„å…ƒç´ ä¸ªæ•°<br>- LINSERT<span class="hljs-built_in"> key</span> [BEFORE/AFTER] pivot <span class="hljs-keyword">value</span> åœ¨åˆ—<span class="hljs-built_in">è¡¨key</span>çš„å…ƒç´ pivotå‰é¢æˆ–åé¢æ’å…¥å…ƒç´ <span class="hljs-keyword">value</span><br></code></pre></div></td></tr></table></figure><p>å¦‚æœkeyä¸å­˜åœ¨ï¼Œpushæ—¶åˆ›å»ºåˆ—è¡¨</p><p>å¦‚æœç§»é™¤äº†keyçš„æ‰€æœ‰å€¼ï¼Œkeyä¸ºç©ºé“¾è¡¨ï¼Œä¹Ÿç›¸å½“äºä¸å­˜åœ¨</p><p>åœ¨llistçš„ä¸¤è¾¹æ’å…¥æˆ–æ”¹åŠ¨å…ƒç´ æ—¶ï¼Œæ•ˆç‡æœ€é«˜ï¼Œä¿®æ”¹ä¸­é—´å…ƒç´ æˆ–æ’åˆ°ä¸­é—´ï¼Œæ•ˆç‡ç›¸ä½</p><p>é€‚ç”¨åœºæ™¯ï¼šæ¶ˆæ¯æ’é˜Ÿï¼Œæ¶ˆæ¯é˜Ÿåˆ—(LPUSH,RPOP)ï¼Œæ ˆ(LPUSH,LPOP)</p><h2 id="ä¸‰-Setç±»å‹"><a href="#ä¸‰-Setç±»å‹" class="headerlink" title="ä¸‰.Setç±»å‹"></a>ä¸‰.Setç±»å‹</h2><p>ä¸javaä¸­çš„setç±»ä¼¼ï¼Œä¸å…è®¸å…ƒç´ é‡å¤</p><p>ä¸setç›¸å…³çš„å‘½ä»¤ï¼Œéƒ½ä»¥å­—æ¯â€˜Sâ€™å¼€å¤´</p><p>åŸºæœ¬å‘½ä»¤ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs maxima">- SADD <span class="hljs-built_in">key</span> <span class="hljs-built_in">member</span> [<span class="hljs-built_in">member</span>...]æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ åˆ°é›†åˆä¸­<br>- SCARD <span class="hljs-built_in">key</span>è·å–é›†åˆä¸­çš„å…ƒç´ æ•°é‡<br>- SISMEMBER <span class="hljs-built_in">key</span> <span class="hljs-built_in">member</span> åˆ¤æ–­<span class="hljs-built_in">member</span>å…ƒç´ æ˜¯å¦åœ¨é›†åˆ<span class="hljs-built_in">key</span>ä¸­<br>- SMEMBERS <span class="hljs-built_in">key</span>è·å–é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ <br>- SMOVE source destination <span class="hljs-built_in">member</span>æŠŠé›†åˆsourceä¸­çš„ä¸€ä¸ªå…ƒç´ <span class="hljs-built_in">member</span>ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ï¼Œsourceä¸­å°†ä¸å†æœ‰è¯¥<span class="hljs-built_in">member</span><br>- SREM <span class="hljs-built_in">key</span> <span class="hljs-built_in">member</span> [<span class="hljs-built_in">member</span>...]åˆ é™¤é›†åˆä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ <br>- SPOP <span class="hljs-built_in">key</span> [count]åˆ é™¤å¹¶è·å–é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œç”±äºå…ƒç´ æ—¶æ— åºçš„ï¼Œå› æ­¤<span class="hljs-built_in">pop</span>å‡ºå“ªä¸€ä¸ªä¸çŸ¥é“ï¼ŒcountæŒ‡å®šä¸ªæ•°<br>- SRANDMEMBER <span class="hljs-built_in">key</span> [count]ä»é›†åˆä¸­éšæœºå–è·å–ä¸€ä¸ªå…ƒç´ <br>- SDIFF key1 key2 æ±‚key1ä¸key2çš„å·®é›†ï¼Œå³key1ä¸­å­˜åœ¨ï¼Œä½†æ˜¯key2ä¸­ä¸å­˜åœ¨çš„<br>- SINTER <span class="hljs-built_in">key</span> [<span class="hljs-built_in">key</span>...]æ±‚é›†åˆé—´çš„äº¤é›†<br>- SINTERSTORE destination <span class="hljs-built_in">key</span> [<span class="hljs-built_in">key</span>...]æ±‚é›†åˆé—´çš„äº¤é›†,å¹¶ä¿å­˜æ–°é›†åˆdestinationä¸­<br>- SUNION <span class="hljs-built_in">key</span> [<span class="hljs-built_in">key</span>...]æ±‚é›†åˆé—´çš„å¹¶é›†<br>- SUNIONSTORE destination <span class="hljs-built_in">key</span> [<span class="hljs-built_in">key</span>...]æ±‚é›†åˆé—´çš„å¹¶é›†,å¹¶ä¿å­˜æ–°é›†åˆdestinationä¸­<br></code></pre></div></td></tr></table></figure><p>é€‚ç”¨åœºæ™¯ï¼š</p><p>å¾®åšä¸­ï¼Œå°†Aç”¨æˆ·çš„æ‰€æœ‰å…³æ³¨çš„äººæ”¾åœ¨ä¸€ä¸ªseté›†åˆä¸­ï¼Œå°†ä»–çš„ç²‰ä¸ä¹Ÿæ”¾åˆ°ä¸€ä¸ªé›†åˆä¸­</p><p>å…±åŒå…³æ³¨æ±‚äº¤é›†ï¼Œæ±‚æ¨èå¥½å‹ç­‰</p><h2 id="å››-Hash-å“ˆå¸Œ"><a href="#å››-Hash-å“ˆå¸Œ" class="headerlink" title="å››.Hash(å“ˆå¸Œ)"></a>å››.Hash(å“ˆå¸Œ)</h2><p>Mapé›†åˆï¼Œkeyä¸ºä¸€ä¸ªé›†åˆï¼Œå­˜æ”¾çš„å…ƒç´ ä¸ºkvå¯¹</p><p>å’Œstringçš„é›†åˆå·®ä¸å¯¹ï¼Œåªä¸è¿‡stringé›†åˆå­˜æ”¾å•ä¸ªvalueï¼ŒMapé›†åˆå­˜æ”¾kv</p><p>åŸºæœ¬å‘½ä»¤ï¼š</p><figure class="highlight gauss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gauss">- HSET <span class="hljs-built_in">key</span> field valueè®¾ç½®é›†åˆ<span class="hljs-built_in">key</span>ä¸­çš„kvå¯¹<br>- HSETNX <span class="hljs-built_in">key</span> field valueå¦‚æœå½“å‰çš„kvä¸å­˜åœ¨ï¼Œè®¾ç½®kv<br>- HMSET <span class="hljs-built_in">key</span> field value [field value....]æ‰¹é‡è®¾ç½®é›†åˆ<span class="hljs-built_in">key</span>ä¸­çš„kvå¯¹<br>- HGET <span class="hljs-built_in">key</span> fieldè·å–é›†åˆ<span class="hljs-built_in">key</span>ä¸­é”®ä¸ºfieldçš„value<br>- HGETALL <span class="hljs-built_in">key</span>è¯»å–<span class="hljs-built_in">key</span>ä¸­çš„æ‰€æœ‰åŸŸå’Œå€¼ï¼Œfieldå’Œvalueéƒ½æœ‰<br>- HMGET <span class="hljs-built_in">key</span> field [field...]æ‰¹é‡è·å–é›†åˆ<span class="hljs-built_in">key</span>ä¸­é”®ä¸ºfieldçš„value<br>- HLEN <span class="hljs-built_in">key</span>è·å–<span class="hljs-built_in">key</span>é›†åˆä¸­æ‰€æœ‰å­—æ®µçš„æ•°é‡<br>- HKEYS <span class="hljs-built_in">key</span> è·å–<span class="hljs-built_in">key</span>ä¸­çš„æ‰€æœ‰fieldå­—æ®µ<br>- HVALS <span class="hljs-built_in">key</span> è·å–<span class="hljs-built_in">key</span>ä¸­çš„æ‰€æœ‰valueå€¼<br>- HEXISTS <span class="hljs-built_in">key</span> field   åˆ¤æ–­fieldæ˜¯å¦å­˜åœ¨äº<span class="hljs-built_in">key</span>ä¸­<br>- HDEL <span class="hljs-built_in">key</span> field [field...]    åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªfieldï¼Œå¯¹åº”çš„valueä¹Ÿä¼šåˆ é™¤<br>- HINCRBY <span class="hljs-built_in">key</span> field incrementå°†<span class="hljs-built_in">key</span>ä¸­æŒ‡å®šåŸŸçš„å€¼(value)å¢åŠ ç»™å®šçš„æ•°å­—<br>- HINCRBYFLOAT <span class="hljs-built_in">key</span> field incrementå°†<span class="hljs-built_in">key</span>ä¸­æŒ‡å®šåŸŸçš„å€¼(value)å¢åŠ ç»™å®šçš„æµ®ç‚¹æ•°<br></code></pre></div></td></tr></table></figure><p>ç›¸å¯¹äºStringç±»å‹ï¼Œhashæ›´é€‚åˆå¯¹è±¡çš„å­˜å‚¨ï¼Œstringæ›´é€‚åˆå­—ç¬¦ä¸²çš„å­˜å‚¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨stringå­˜å‚¨å¯¹è±¡</p><h2 id="äº”-Zset-æœ‰åºé›†åˆ"><a href="#äº”-Zset-æœ‰åºé›†åˆ" class="headerlink" title="äº”.Zset(æœ‰åºé›†åˆ)"></a>äº”.Zset(æœ‰åºé›†åˆ)</h2><p>åœ¨setçš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ä¸€ä¸ªscoreå€¼     set key value    zset key  score  value</p><p>åŸºæœ¬å‘½ä»¤:</p><figure class="highlight maxima"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs maxima">- ZADD <span class="hljs-built_in">key</span> score <span class="hljs-built_in">member</span> [score <span class="hljs-built_in">member</span>....]æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜åˆ°ä¸€ä¸ªæœ‰åºçš„setï¼Œå¦‚æœå·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆæ›´æ–°åˆ†æ•°<br>- ZCARD <span class="hljs-built_in">key</span>  è·å–ä¸€ä¸ªæ’åºé›†åˆä¸­æˆå‘˜çš„æ•°é‡<br>- ZCOUNT <span class="hljs-built_in">key</span> <span class="hljs-built_in">min</span> <span class="hljs-built_in">max</span>è¿”å›åˆ†æ•°åœ¨æŒ‡å®šèŒƒå›´å†…çš„æˆå‘˜æ•°é‡<br>- ZINCRBY <span class="hljs-built_in">key</span> increment <span class="hljs-built_in">member</span>  å°†æŒ‡å®šçš„æˆå‘˜çš„scoreå¢åŠ increment<br>- ZRANGE <span class="hljs-built_in">key</span> start stop æ ¹æ®æŒ‡å®šçš„indexè¿”å›èŒƒå›´å†…çš„æˆå‘˜<br>- ZRANK <span class="hljs-built_in">key</span> <span class="hljs-built_in">member</span> è¿”å›<span class="hljs-built_in">member</span>åœ¨æ’åºé›†åˆä¸­çš„ç´¢å¼•<br>- ZREM <span class="hljs-built_in">key</span> <span class="hljs-built_in">member</span> åˆ é™¤ä¸€ä¸ªæˆå‘˜<br></code></pre></div></td></tr></table></figure><p>é€‚ç”¨åœºæ™¯ï¼š</p><p>å¯¹setæ’åºï¼Œç­çº§æˆç»©ï¼Œå·¥èµ„æ’åºï¼Œå¸¦æƒé‡çš„æˆå‘˜ï¼Œæ’è¡Œæ¦œç­‰ç­‰</p><h2 id="å…­-ä¸‰ç§ç‰¹æ®Šçš„ç±»å‹"><a href="#å…­-ä¸‰ç§ç‰¹æ®Šçš„ç±»å‹" class="headerlink" title="å…­.ä¸‰ç§ç‰¹æ®Šçš„ç±»å‹"></a>å…­.ä¸‰ç§ç‰¹æ®Šçš„ç±»å‹</h2><ul><li>Geospatial åœ°ç†ä½ç½®ç±»å‹</li><li>Hyperlog åŸºæ•°ç»Ÿè®¡ç±»å‹</li><li>Bitmap ä½å›¾åœºæ™¯</li></ul><p>å†™åäº†ï¼Œéœ€è¦ç”¨çš„æ—¶å€™è¿˜æ˜¯æŸ¥å®˜æ–¹æ–‡æ¡£å§ã€‚ã€‚ã€‚ğŸ¶</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="http://www.redis.cn/">redisä¸­æ–‡å®˜æ–¹ç½‘ç«™</a></p><p><a href="https://redis.io/commands">Command reference â€“ Redis</a></p>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HUSTæ•°æ®åº“å®éªŒ</title>
    <link href="/2021/11/11/HUST%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C/"/>
    <url>/2021/11/11/HUST%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="HUSTç½‘å®‰æ•°æ®åº“å®éªŒ"><a href="#HUSTç½‘å®‰æ•°æ®åº“å®éªŒ" class="headerlink" title="HUSTç½‘å®‰æ•°æ®åº“å®éªŒ"></a>HUSTç½‘å®‰æ•°æ®åº“å®éªŒ</h1><div class="note note-success">            <p>å•çº¯çš„sqlè¯­å¥ç»ƒä¹ ã€‚ã€‚ã€‚</p>          </div><div class="note note-danger">            <p>å¦‚æœ‰é”™è¯¯ï¼Œè¿˜è¯·æŒ‡æ­£ï¼Œä¸èƒœæ„Ÿæ¿€ï¼ğŸ¤£</p>          </div><h2 id="å®éªŒä¸€-SQLåŸºç¡€ç»ƒä¹ "><a href="#å®éªŒä¸€-SQLåŸºç¡€ç»ƒä¹ " class="headerlink" title="å®éªŒä¸€.SQLåŸºç¡€ç»ƒä¹ "></a>å®éªŒä¸€.SQLåŸºç¡€ç»ƒä¹ </h2><figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">1.create database CSEDB_å­¦å·;<br><span class="hljs-comment">//2-8ä¸ºå‰é¢å‡ ä¸ªè¡¨æ“ä½œè¯­å¥çš„è”ç³»ï¼Œä½†ä¸€é¡¿æä¹‹åå¾—åˆ°çš„è¡¨ç»“æ„å¯èƒ½ä¸æŒ‡å¯¼ä¹¦ä¸Šçš„ç»“æ„ä¸ä¸€è‡´</span><br><span class="hljs-comment">//åœ¨è¿›è¡Œinsertä¹‹å‰ï¼Œå¯ä»¥å…ˆæŠŠåº“åˆ äº†ï¼Œé‡æ–°å»ºåº“ï¼Œç›´æ¥ä½¿ç”¨4.5.(1)é‡Œçš„ä¸‰ä¸ªå»ºè¡¨è¯­å¥</span><br>2.åˆ›å»ºè¡¨student(å…·ä½“æ•°æ®ç±»å‹charçš„å¤§å°æ„Ÿè§‰å¤šå°‘å°±è¡Œï¼Œå½±å“ä¸å¤§)<br>mysql&gt; create table Student(<br><span class="hljs-code">    -&gt; Sno char(9) primary key,</span><br><span class="hljs-code">    -&gt; Sname char(20) unique,</span><br><span class="hljs-code">    -&gt; Ssex char(2),</span><br><span class="hljs-code">    -&gt; Sage  int,</span><br><span class="hljs-code">    -&gt; Sdept char(20),</span><br><span class="hljs-code">    -&gt; Scholarshhip char(2))</span><br><span class="hljs-code">    -&gt; ;</span><br>Query OK, 0 rows affected (0.12 sec)<br><br><span class="hljs-section">mysql&gt; show columns from student;</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field        | Type     | Null | Key | Default | Extra |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>| Sno          | char(9)  | NO   | PRI | NULL    |       |<br>| Sname        | char(20) | YES  | UNI | NULL    |       |<br>| Ssex         | char(2)  | YES  |     | NULL    |       |<br>| Sage         | int      | YES  |     | NULL    |       |<br>| Sdept        | char(20) | YES  |     | NULL    |       |<br><span class="hljs-section">| Scholarshhip | char(2)  | YES  |     | NULL    |       |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>6 rows in set (0.02 sec)<br><br>ps: å”¯ä¸€é”®å¯ä»¥ä¸ºç©ºï¼Œä¸»é”®ä¸èƒ½ä¸ºç©º<br><br>3.åˆ›å»ºè¡¨course<br>mysql&gt; create table Course(<br><span class="hljs-code">    -&gt; Cno char(4) primary key,</span><br><span class="hljs-code">    -&gt; Cname char(40) unique,</span><br><span class="hljs-code">    -&gt; Cpno char(4),</span><br><span class="hljs-code">    -&gt; Ccredit int)</span><br><span class="hljs-code">    -&gt; ;</span><br>Query OK, 0 rows affected (0.07 sec)<br><br><span class="hljs-section">mysql&gt; show columns from course;</span><br><span class="hljs-section">+---------+----------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field   | Type     | Null | Key | Default | Extra |</span><br><span class="hljs-section">+---------+----------+------+-----+---------+-------+</span><br>| Cno     | char(4)  | NO   | PRI | NULL    |       |<br>| Cname   | char(40) | YES  | UNI | NULL    |       |<br>| Cpno    | char(4)  | YES  |     | NULL    |       |<br><span class="hljs-section">| Ccredit | int      | YES  |     | NULL    |       |</span><br><span class="hljs-section">+---------+----------+------+-----+---------+-------+</span><br>4 rows in set (0.00 sec)<br><br>4.åˆ›å»ºè¡¨sc<br>mysql&gt; create table sc(<br><span class="hljs-code">    -&gt; sno char(5),</span><br><span class="hljs-code">    -&gt; cno char(3),</span><br><span class="hljs-code">    -&gt; grade int,</span><br><span class="hljs-code">    -&gt; primary key (sno,cno)</span><br><span class="hljs-code">    -&gt; );</span><br>Query OK, 0 rows affected (0.03 sec)<br><br><span class="hljs-section">mysql&gt; show columns from Sc;</span><br><span class="hljs-section">+-------+---------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="hljs-section">+-------+---------+------+-----+---------+-------+</span><br>| Sno   | char(9) | NO   | PRI | NULL    |       |<br>| Cno   | char(4) | NO   | PRI | NULL    |       |<br><span class="hljs-section">| Grade | int     | YES  |     | NULL    |       |</span><br><span class="hljs-section">+-------+---------+------+-----+---------+-------+</span><br>3 rows in set (0.00 sec)<br><br>5ï¼Œåˆ é™¤è¡¨<br><span class="hljs-section">mysql&gt; show tables;</span><br><span class="hljs-section">+----------------------------+</span><br><span class="hljs-section">| Tables_in_csedb_u201911749 |</span><br><span class="hljs-section">+----------------------------+</span><br>| course                     |<br>| sc                         |<br><span class="hljs-section">| student                    |</span><br><span class="hljs-section">+----------------------------+</span><br>3 rows in set (0.00 sec)<br><br>mysql&gt; drop tables sc;<br>Query OK, 0 rows affected (0.02 sec)<br><br><span class="hljs-section">mysql&gt; show tables;</span><br><span class="hljs-section">+----------------------------+</span><br><span class="hljs-section">| Tables_in_csedb_u201911749 |</span><br><span class="hljs-section">+----------------------------+</span><br>| course                     |<br><span class="hljs-section">| student                    |</span><br><span class="hljs-section">+----------------------------+</span><br>2 rows in set (0.00 sec)<br><br>6.æ›´æ”¹è¡¨ç»“æ„ï¼ˆå¢åŠ /åˆ é™¤ä¸€åˆ—ï¼Œæ›´æ”¹è¡¨å­—æ®µç±»å‹ï¼‰<br><span class="hljs-section">mysql&gt; show columns from student;</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field        | Type     | Null | Key | Default | Extra |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>| Sno          | char(9)  | NO   | PRI | NULL    |       |<br>| Sname        | char(20) | YES  | UNI | NULL    |       |<br>| Ssex         | char(2)  | YES  |     | NULL    |       |<br>| Sage         | int      | YES  |     | NULL    |       |<br>| Sdept        | char(20) | YES  |     | NULL    |       |<br><span class="hljs-section">| Scholarshhip | char(2)  | YES  |     | NULL    |       |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>6 rows in set (0.00 sec)<br><span class="hljs-comment">//æ·»åŠ åˆ— alter table è¡¨å add column(åŠ ä¸åŠ éƒ½è¡Œ) åˆ—å  åˆ—å±æ€§;</span><br>mysql&gt; alter table student add Scome datetime;<br>Query OK, 0 rows affected (0.04 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><span class="hljs-comment">//åˆ é™¤åˆ— alter table è¡¨å drop column(åŠ ä¸åŠ éƒ½è¡Œ) åˆ—å;</span><br>mysql&gt; alter table student drop column scome;<br>Query OK, 0 rows affected (0.08 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><span class="hljs-comment">//ä¿®æ”¹åˆ—å±æ€§ alter table è¡¨å modify column(åŠ ä¸åŠ éƒ½è¡Œ) åˆ—å  åˆ—å±æ€§;</span><br>mysql&gt; alter table student modify column sage smallint;<br>Query OK, 0 rows affected (0.12 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><br><span class="hljs-section">mysql&gt; show columns from student;</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field        | Type     | Null | Key | Default | Extra |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>| Sno          | char(9)  | NO   | PRI | NULL    |       |<br>| Sname        | char(20) | YES  | UNI | NULL    |       |<br>| Ssex         | char(2)  | YES  |     | NULL    |       |<br>| Sage         | smallint | YES  |     | NULL    |       |<br>| Sdept        | char(20) | YES  |     | NULL    |       |<br>| Scholarshhip | char(2)  | YES  |     | NULL    |       |<br><span class="hljs-section">| Scome        | datetime | YES  |     | NULL    |       |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>7 rows in set (0.00 sec)<br><br>7.åˆ›å»ºç´¢å¼•ï¼Œåˆ é™¤ç´¢å¼•<br>mysql&gt; create unique index stusno on student(sno);<br>Query OK, 0 rows affected, 1 warning (0.04 sec)<br>Records: 0  Duplicates: 0  Warnings: 1<br>##ç¬¬ä¸€ç§åˆ é™¤æ–¹å¼<br>mysql&gt; drop index stusno on student;<br>Query OK, 0 rows affected (0.02 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br>##ç¬¬äºŒç§åˆ é™¤æ–¹å¼<br>mysql&gt; alter table student drop index stusno;<br>Query OK, 0 rows affected (0.02 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br>##ç¬¬ä¸‰ç§åˆ é™¤æ–¹å¼ï¼Œåˆ é™¤ä¸»é”®ç´¢å¼•<br>alter table è¡¨å drop primary key;<br>##ç¬¬å››ç§åˆ é™¤æ–¹å¼ï¼Œåˆ é™¤å¤–é”®ç´¢å¼•<br>alter table è¡¨å drop foreign key å¤–é”®åï¼›//æœªæ£€éªŒ<br><br>8.æŒ‰ç…§æŒ‡å¯¼ä¹¦çš„è¦æ±‚ï¼Œå»ºç«‹ä¸‰ä¸ªè¡¨ä¹‹é—´çš„å…³ç³»ï¼Œå°±æ˜¯è®¾ç½®å¤–é”®<br>mysql&gt; alter table course add foreign key (cpno) references course(cno);<br>Query OK, 0 rows affected (0.11 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><br>mysql&gt; alter table sc add foreign key (sno) references student(sno);<br>Query OK, 0 rows affected (0.09 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><br>mysql&gt; alter table sc add foreign key (cno) references course(cno);<br>Query OK, 0 rows affected (0.13 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br>æ³¨æ„å¤–é”®çº¦æŸï¼ï¼ï¼<br>ps:è®¾ç½®å¤–é”®ä¹‹åï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹çˆ¶è¡¨çš„è¯ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªçº§è”æ“ä½œå‘½ä»¤ï¼Œå½“åœ¨æ“ä½œçˆ¶è¡¨æ—¶ï¼Œå­è¡¨ä¼šå—åˆ°ç›¸åŒçš„å½±å“ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®çº§è”æ“ä½œï¼Œæ›´æ”¹çˆ¶è¡¨ä¼šæŠ¥é”™ã€‚<br>çº§è”æ“ä½œï¼š<br><span class="hljs-code">ä¸»è¡¨æ›´æ–°</span><br><span class="hljs-code">è¯­æ³•å½¢å¼ä¸ºï¼šon update[çº§è”æ“ä½œ]</span><br><span class="hljs-code">ä¸»è¡¨åˆ é™¤</span><br><span class="hljs-code">è¯­æ³•å½¢å¼ä¸ºï¼šon delete[çº§è”æ“ä½œ]</span><br><span class="hljs-code">è¿™é‡Œçš„çº§è”æ“ä½œå¸¸è§çš„æœ‰ä¸‰ç§å½¢å¼ï¼š</span><br><span class="hljs-code">cascadeï¼šåŒæ­¥æ“ä½œï¼Œæˆ–è€…ä¸²è”æ“ä½œï¼ä¹Ÿå°±æ˜¯å½“ä¸»è¡¨è®°å½•åˆ é™¤æˆ–æ›´æ–°çš„æ—¶å€™ï¼Œä»è¡¨ä¹Ÿè¿›è¡Œç›¸åº”çš„åˆ é™¤   æ›´æ–°ï¼</span><br><span class="hljs-code">set nullï¼šè®¾ç½®ä¸ºnullï¼Œä¹Ÿå°±æ˜¯å½“ä¸»è¡¨è®°å½•åˆ é™¤æˆ–æ›´æ–°çš„æ—¶å€™ï¼Œä»è¡¨ä¸­çš„å¤–é”®å­—æ®µè®¾ç½®ä¸ºç©º</span><br><span class="hljs-code">restrictï¼šæ‹’ç»ä¸»è¡¨çš„æ›´æ–°æˆ–åˆ é™¤</span><br><span class="hljs-code"></span><br>9.æ·»åŠ æ•°æ®(insert)<br>è¯­æ³•è§„åˆ™ï¼š<br><span class="hljs-code">1. æŒ‡å®šå‘é‚£äº›åˆ—æ’å…¥å€¼ï¼š</span><br><span class="hljs-code">insert into table_name ( field1, field2,...fieldN )</span><br><span class="hljs-code">                       values</span><br><span class="hljs-code">                       ( value1, value2,...valueN );</span><br><span class="hljs-code">    2. å¦‚æœæ’å…¥çš„æ•°æ®è¦†ç›–æ‰€æœ‰çš„åˆ—ï¼Œåˆ™ä¸ç”¨æŒ‡å®šæ’å…¥åˆ—çš„èŒƒå›´</span><br><span class="hljs-code">    insert into table_name</span><br><span class="hljs-code">       values</span><br><span class="hljs-code">       ( value1, value2,...valueN );</span><br>ps: æ‰€æœ‰ç¬¦å·éƒ½å¿…é¡»æ˜¯è‹±æ–‡ç¬¦å·<br>å‘studentè¡¨ä¸­æ’å…¥æ•°æ®ï¼š<br>mysql&gt; insert into student values(<span class="hljs-emphasis">&#x27;200215121&#x27;</span>,<span class="hljs-emphasis">&#x27;æå‹‡&#x27;</span>,<span class="hljs-emphasis">&#x27;ç”·&#x27;</span>,20,<span class="hljs-emphasis">&#x27;CS&#x27;</span>,<span class="hljs-emphasis">&#x27;å¦&#x27;</span>);<br>Query OK, 1 row affected (0.01 sec)<br><br>mysql&gt; insert into student values(<span class="hljs-emphasis">&#x27;200215122&#x27;</span>,<span class="hljs-emphasis">&#x27;åˆ˜æ™¨&#x27;</span>,<span class="hljs-emphasis">&#x27;å¥³&#x27;</span>,19,<span class="hljs-emphasis">&#x27;CS&#x27;</span>,<span class="hljs-emphasis">&#x27;å¦&#x27;</span>);<br>Query OK, 1 row affected (0.00 sec)<br><br>mysql&gt; insert into student values(<span class="hljs-emphasis">&#x27;200215123&#x27;</span>,<span class="hljs-emphasis">&#x27;ç‹æ•&#x27;</span>,<span class="hljs-emphasis">&#x27;å¥³&#x27;</span>,18,<span class="hljs-emphasis">&#x27;MA&#x27;</span>,<span class="hljs-emphasis">&#x27;å¦&#x27;</span>);<br>Query OK, 1 row affected (0.00 sec)<br><br>mysql&gt; insert into student values(<span class="hljs-emphasis">&#x27;200215125&#x27;</span>,<span class="hljs-emphasis">&#x27;å¼ ç«‹&#x27;</span>,<span class="hljs-emphasis">&#x27;ç”·&#x27;</span>,19,<span class="hljs-emphasis">&#x27;IS&#x27;</span>,<span class="hljs-emphasis">&#x27;å¦&#x27;</span>);<br>Query OK, 1 row affected (0.01 sec)<br><br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   20 | CS    | å¦          |<br>| 200215122 | åˆ˜æ™¨  | å¥³   |   19 | CS    | å¦          |<br>| 200215123 | ç‹æ•  | å¥³   |   18 | MA    | å¦          |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  | ç”·   |   19 | IS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>4 rows in set (0.01 sec)<br>å‘courseè¡¨ä¸­æ’å…¥æ•°æ®ï¼š<br>insert into course values(<span class="hljs-emphasis">&#x27;1&#x27;</span>,<span class="hljs-emphasis">&#x27;æ•°æ®åº“&#x27;</span>,NULL,4);<br>insert into course values(<span class="hljs-emphasis">&#x27;2&#x27;</span>,<span class="hljs-emphasis">&#x27;æ•°å­¦&#x27;</span>,NULL,2);<br>insert into course values(<span class="hljs-emphasis">&#x27;3&#x27;</span>,<span class="hljs-emphasis">&#x27;ä¿¡æ¯ç³»ç»Ÿ&#x27;</span>,NULL,4);<br>insert into course values(<span class="hljs-emphasis">&#x27;4&#x27;</span>,<span class="hljs-emphasis">&#x27;æ“ä½œç³»ç»Ÿ&#x27;</span>,NULL,3);<br>insert into course values(<span class="hljs-emphasis">&#x27;5&#x27;</span>,<span class="hljs-emphasis">&#x27;æ•°æ®ç»“æ„&#x27;</span>,NULL,4);<br>insert into course values(<span class="hljs-emphasis">&#x27;6&#x27;</span>,<span class="hljs-emphasis">&#x27;æ•°æ®å¤„ç†&#x27;</span>,NULL,2);<br>insert into course values(<span class="hljs-emphasis">&#x27;7&#x27;</span>,<span class="hljs-emphasis">&#x27;java&#x27;</span>,NULL,4);<br>å‘scè¡¨ä¸­æ’å…¥æ•°æ®ï¼š<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215121&#x27;</span>,<span class="hljs-emphasis">&#x27;1&#x27;</span>,92);<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215121&#x27;</span>,<span class="hljs-emphasis">&#x27;2&#x27;</span>,85);<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215121&#x27;</span>,<span class="hljs-emphasis">&#x27;3&#x27;</span>,88);<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215122&#x27;</span>,<span class="hljs-emphasis">&#x27;2&#x27;</span>,90);<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215122&#x27;</span>,<span class="hljs-emphasis">&#x27;3&#x27;</span>,80);<br><br>10.æ›´æ–°æ•°æ®(update)<br>è¯­æ³•è§„åˆ™ï¼š<br><span class="hljs-code">UPDATE [LOW_PRIORITY] [IGNORE] table_name </span><br><span class="hljs-code">SET field1=new-value1, field2=new-value2</span><br><span class="hljs-code">[WHERE Clause]</span><br><span class="hljs-code">[ORDER BY ...]</span><br><span class="hljs-code">[LIMIT ROW_COUNT]</span><br>æ›´æ–°coursebè¡¨æ•°æ®ï¼š<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;5&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;1&#x27;</span>;<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;1&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;3&#x27;</span>;<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;6&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;4&#x27;</span>;<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;7&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;5&#x27;</span>;<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;6&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;7&#x27;</span>;<br><br>11.åˆ é™¤æ•°æ®(delete)<br>è¯­æ³•è§„åˆ™ï¼š<br><span class="hljs-code">delete from table_name [where clause]</span><br><span class="hljs-code">å¦‚æœæ²¡æœ‰æŒ‡å®šwhereï¼Œåˆ™åˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®</span><br><br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   20 | CS    | å¦          |<br><span class="hljs-section">| 200215122 | åˆ˜æ™¨  | å¥³   |   19 | CS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>2 rows in set (0.01 sec)<br><br>mysql&gt; delete from student;<br>Query OK, 2 rows affected (0.02 sec)<br><br>mysql&gt; select * from student;<br>Empty set (0.00 sec)<br><br>12.æ‰©å±•ç»ƒä¹ ï¼š<br>ï¼ˆ1ï¼‰æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹´é¾„ï¼›<br>mysql&gt; select sno,sname,sage<br><span class="hljs-section">    -&gt; from student;</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215121 | æå‹‡  |   20 |<br>| 200215122 | åˆ˜æ™¨  |   19 |<br>| 200215123 | ç‹æ•  |   18 |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>4 rows in set (0.00 sec)<br>ï¼ˆ2ï¼‰æŸ¥è¯¢æ‰€æœ‰è®¡ç®—æœºç³»å­¦ç”Ÿçš„è¯¦ç»†è®°å½•ï¼›<br>mysql&gt; select *<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where sdept = &#x27;CS&#x27;;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   20 | CS    | å¦          |<br><span class="hljs-section">| 200215122 | åˆ˜æ™¨  | å¥³   |   19 | CS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>2 rows in set (0.00 sec)<br>ï¼ˆ3ï¼‰æ‰¾å‡ºè€ƒè¯•æˆç»©ä¸ºä¼˜ç§€ï¼ˆ90 åˆ†åŠä»¥ä¸Šï¼‰æˆ–ä¸åŠæ ¼çš„å­¦ç”Ÿçš„å­¦å·ã€è¯¾ç¨‹å·åŠæˆç»©ï¼›<br>mysql&gt; select *<br><span class="hljs-code">    -&gt; from sc</span><br><span class="hljs-section">    -&gt; where grade &gt;= 90 or grade &lt;60;</span><br><span class="hljs-section">+-----------+-----+-------+</span><br><span class="hljs-section">| Sno       | Cno | Grade |</span><br><span class="hljs-section">+-----------+-----+-------+</span><br>| 200215121 | 1   |    92 |<br><span class="hljs-section">| 200215122 | 2   |    90 |</span><br><span class="hljs-section">+-----------+-----+-------+</span><br>2 rows in set (0.00 sec)<br>ï¼ˆ4ï¼‰æŸ¥è¯¢å¹´é¾„ä¸åœ¨ 19~20 å²ä¹‹é—´çš„å­¦ç”Ÿå§“åã€æ€§åˆ«å’Œå¹´é¾„ï¼›<br>mysql&gt; select sname,ssex,sage<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where sage not in (19,20);</span><br><span class="hljs-section">+-------+------+------+</span><br><span class="hljs-section">| sname | ssex | sage |</span><br><span class="hljs-section">+-------+------+------+</span><br><span class="hljs-section">| ç‹æ•  | å¥³   |   18 |</span><br><span class="hljs-section">+-------+------+------+</span><br>1 row in set (0.00 sec)<br>ï¼ˆ5ï¼‰æŸ¥è¯¢æ•°å­¦ç³»ï¼ˆMAï¼‰ã€ä¿¡æ¯ç³»ï¼ˆIS)çš„å­¦ç”Ÿçš„å§“åå’Œæ‰€åœ¨ç³»ï¼›<br>mysql&gt; select sname,sdept<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where sdept in (&#x27;CS&#x27;,&#x27;MA&#x27;);</span><br><span class="hljs-section">+-------+-------+</span><br><span class="hljs-section">| sname | sdept |</span><br><span class="hljs-section">+-------+-------+</span><br>| æå‹‡  | CS    |<br>| åˆ˜æ™¨  | CS    |<br><span class="hljs-section">| ç‹æ•  | MA    |</span><br><span class="hljs-section">+-------+-------+</span><br>3 rows in set (0.00 sec)<br>ï¼ˆ6ï¼‰æŸ¥è¯¢åç§°ä¸­åŒ…å«â€œæ•°æ®â€çš„æ‰€æœ‰è¯¾ç¨‹çš„è¯¾ç¨‹å·ã€è¯¾ç¨‹ååŠå…¶å­¦åˆ†ï¼›<br>mysql&gt; select cno,cname,ccredit<br><span class="hljs-code">    -&gt; from course</span><br><span class="hljs-section">    -&gt; where cname like &#x27;%æ•°æ®%&#x27;;</span><br><span class="hljs-section">+-----+----------+---------+</span><br><span class="hljs-section">| cno | cname    | ccredit |</span><br><span class="hljs-section">+-----+----------+---------+</span><br>| 1   | æ•°æ®åº“   |       4 |<br>| 5   | æ•°æ®ç»“æ„ |       4 |<br><span class="hljs-section">| 6   | æ•°æ®å¤„ç† |       2 |</span><br><span class="hljs-section">+-----+----------+---------+</span><br>3 rows in set (0.00 sec)<br>ï¼ˆ7) æ‰¾å‡ºæ‰€æœ‰æ²¡æœ‰é€‰ä¿®è¯¾æˆç»©çš„å­¦ç”Ÿå­¦å·å’Œè¯¾ç¨‹å·ï¼›<br>mysql&gt; select distinct sno,cno<br><span class="hljs-code">    -&gt; from student,course</span><br><span class="hljs-section">    -&gt; where sno not in(select distinct sno from sc) and cno not in (select distinct cno from sc);</span><br><span class="hljs-section">+-----------+-----+</span><br><span class="hljs-section">| sno       | cno |</span><br><span class="hljs-section">+-----------+-----+</span><br>| 200215123 | 6   |<br>| 200215125 | 6   |<br>| 200215123 | 4   |<br>| 200215125 | 4   |<br>| 200215123 | 7   |<br>| 200215125 | 7   |<br>| 200215123 | 5   |<br><span class="hljs-section">| 200215125 | 5   |</span><br><span class="hljs-section">+-----------+-----+</span><br>8 rows in set (0.00 sec)<br>ï¼ˆ8ï¼‰æŸ¥è¯¢å­¦ç”Ÿ 200215121 é€‰ä¿®è¯¾çš„æœ€é«˜åˆ†ã€æœ€ä½åˆ†ä»¥åŠå¹³å‡æˆç»©ï¼›<br>mysql&gt; select max(grade),min(grade),avg(grade)<br><span class="hljs-code">    -&gt; from sc</span><br><span class="hljs-section">    -&gt; where sno = &#x27;200215121&#x27;;</span><br><span class="hljs-section">+------------+------------+------------+</span><br><span class="hljs-section">| max(grade) | min(grade) | avg(grade) |</span><br><span class="hljs-section">+------------+------------+------------+</span><br><span class="hljs-section">|         92 |         85 |    88.3333 |</span><br><span class="hljs-section">+------------+------------+------------+</span><br>1 row in set (0.01 sec)<br>ï¼ˆ9ï¼‰æŸ¥è¯¢é€‰ä¿®äº† 2 å·è¯¾ç¨‹çš„å­¦ç”Ÿçš„å­¦å·åŠå…¶æˆç»©ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰æˆç»©å‡åºæ’åˆ—ï¼›<br>mysql&gt; select sno,grade<br><span class="hljs-code">    -&gt; from sc</span><br><span class="hljs-code">    -&gt; where cno = &#x27;2&#x27;</span><br><span class="hljs-section">    -&gt; order by grade;</span><br><span class="hljs-section">+-----------+-------+</span><br><span class="hljs-section">| sno       | grade |</span><br><span class="hljs-section">+-----------+-------+</span><br>| 200215121 |    85 |<br><span class="hljs-section">| 200215122 |    90 |</span><br><span class="hljs-section">+-----------+-------+</span><br>2 rows in set (0.00 sec)<br>ï¼ˆ10ï¼‰æŸ¥è¯¢æ¯ä¸ªç³»ååŠå…¶å­¦ç”Ÿçš„å¹³å‡å¹´é¾„ã€‚<br>mysql&gt; select sdept,avg(sage)<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; group by sdept;</span><br><span class="hljs-section">+-------+-----------+</span><br><span class="hljs-section">| sdept | avg(sage) |</span><br><span class="hljs-section">+-------+-----------+</span><br>| CS    |   19.5000 |<br>| MA    |   18.0000 |<br><span class="hljs-section">| IS    |   19.0000 |</span><br><span class="hljs-section">+-------+-----------+</span><br>3 rows in set (0.01 sec)<br><span class="hljs-code"> ï¼ˆæ€è€ƒï¼šå¦‚ä½•æŸ¥è¯¢å­¦ç”Ÿå¹³å‡å¹´é¾„åœ¨ 19 å²ä»¥ä¸‹ï¼ˆå« 19 å²ï¼‰çš„ç³»åˆ«åŠå…¶å­¦ç”Ÿçš„å¹³å‡å¹´é¾„ï¼Ÿï¼‰</span><br><span class="hljs-code"> mysql&gt; select sdept,avg(sage)</span><br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-code">    -&gt; group by sdept</span><br><span class="hljs-section">    -&gt; having avg(sage)&lt;=19;</span><br><span class="hljs-section">+-------+-----------+</span><br><span class="hljs-section">| sdept | avg(sage) |</span><br><span class="hljs-section">+-------+-----------+</span><br>| MA    |   18.0000 |<br><span class="hljs-section">| IS    |   19.0000 |</span><br><span class="hljs-section">+-------+-----------+</span><br>2 rows in set (0.01 sec)<br><br>psï¼šwhereç”¨äºè¿‡æ»¤æŒ‡å®šçš„è¡Œï¼Œå®ƒåé¢çš„åˆ¤æ–­æ•°æ®å¿…é¡»æ˜¯å­˜åœ¨çš„è¡Œï¼Œhavingç”¨äºå¯¹å‰é¢selectçš„ç»“æœè¿›è¡Œç­›é€‰ï¼Œä½†havingä¸ä¸€å®šéè¦é…åˆgroup byä½¿ç”¨ï¼Œå¦‚æœæˆ‘å‰é¢selectçš„ç»“æœä¸­æ²¡æœ‰ï¼Œå°±ä¸èƒ½ç”¨having<br>æ€»çš„æ¥è¯´ï¼Œwhereç›´æ¥å¯¹æ•°æ®è¡¨ä¸­çš„å­—æ®µè¿›è¡Œç›´æ¥ç­›é€‰ï¼Œè€Œhavingæ˜¯å¯¹å‰é¢ç­›é€‰çš„ç»“æœè¿›è¡Œç­›é€‰<br>å‚è€ƒé“¾æ¥:https://blog.csdn.net/yexudengzhidao/article/details/54924471<br>å‚è€ƒé“¾æ¥:https://www.jianshu.com/p/e66abfadcdca<br></code></pre></div></td></tr></table></figure><h2 id="å®éªŒäºŒ-SQLå¤æ‚æ“ä½œç»ƒä¹ "><a href="#å®éªŒäºŒ-SQLå¤æ‚æ“ä½œç»ƒä¹ " class="headerlink" title="å®éªŒäºŒ.SQLå¤æ‚æ“ä½œç»ƒä¹ "></a>å®éªŒäºŒ.SQLå¤æ‚æ“ä½œç»ƒä¹ </h2><p><img src="/2021/11/11/HUST%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C/1.png" srcset="/img/loading.gif" lazyload alt="1"></p><figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">ï¼ˆ1ï¼‰æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹åŠå…¶è¢«é€‰æƒ…å†µï¼ˆè¾“å‡ºæ‰€æœ‰è¯¾ç¨‹ä¸­æ¯é—¨è¯¾çš„è¯¾ç¨‹å·ã€è¯¾ç¨‹åç§°ã€é€‰ä¿®è¯¥è¯¾ç¨‹çš„å­¦ç”Ÿ<br>å­¦å·åŠæˆç»©--å¦‚æœæ²¡æœ‰å­¦ç”Ÿé€‰æ‹©è¯¥è¯¾ï¼Œåˆ™ç›¸åº”çš„å­¦ç”Ÿå­¦å·åŠæˆç»©ä¸ºç©ºå€¼ï¼‰ã€‚<br>mysql&gt; select course.cno,cname,sno,grade<br><span class="hljs-section">    -&gt; from course left outer join sc on (course.cno = sc.cno);</span><br><span class="hljs-section">+-----+----------+-----------+-------+</span><br><span class="hljs-section">| cno | cname    | sno       | grade |</span><br><span class="hljs-section">+-----+----------+-----------+-------+</span><br>| 1   | æ•°æ®åº“   | 200215121 |    92 |<br>| 2   | æ•°å­¦     | 200215122 |    90 |<br>| 2   | æ•°å­¦     | 200215121 |    85 |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 200215122 |    80 |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 200215121 |    88 |<br>| 4   | æ“ä½œç³»ç»Ÿ | NULL      |  NULL |<br>| 5   | æ•°æ®ç»“æ„ | NULL      |  NULL |<br>| 6   | æ•°æ®å¤„ç† | NULL      |  NULL |<br><span class="hljs-section">| 7   | java     | NULL      |  NULL |</span><br><span class="hljs-section">+-----+----------+-----------+-------+</span><br>9 rows in set (0.00 sec)<br><br>ï¼ˆ2ï¼‰æŸ¥è¯¢ä¸â€œå¼ ç«‹â€åŒå²çš„å­¦ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹´é¾„ã€‚ï¼ˆè¦æ±‚ä½¿ç”¨è‡³å°‘ 3 ç§æ–¹æ³•æ±‚è§£ï¼‰<br>ç¬¬ä¸€ç§ï¼š<br>mysql&gt; select sno,sname,sage<br><span class="hljs-code">-&gt; from student</span><br><span class="hljs-section">-&gt; where sage = (select sage from student where sname = &#x27;å¼ ç«‹&#x27;);</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215122 | åˆ˜æ™¨  |   19 |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>ç¬¬äºŒç§ï¼š<br>mysql&gt; select sno,sname,sage<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where sage in(select sage from student where sname = &#x27;å¼ ç«‹&#x27;);</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215122 | åˆ˜æ™¨  |   19 |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>2 rows in set (0.00 sec)<br>2 rows in set (0.01 sec)<br>ç¬¬ä¸‰ç§ï¼š(æ— è¯­-_-)<br>mysql&gt; select s1.sno,s1.sname,s1.sage<br><span class="hljs-code">    -&gt; from student s1,student s2</span><br><span class="hljs-section">    -&gt; where s1.sage = s2.sage and s2.sname = &#x27;å¼ ç«‹&#x27;;</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215122 | åˆ˜æ™¨  |   19 |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>2 rows in set (0.00 sec)<br><br>ï¼ˆ3ï¼‰æŸ¥è¯¢é€‰ä¿®äº† 3 å·è¯¾ç¨‹è€Œä¸”æˆç»©ä¸ºè‰¯å¥½ï¼ˆ80~89 åˆ†ï¼‰çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·å’Œå§“åã€‚<br>mysql&gt; select student.sno,student.sname<br><span class="hljs-code">    -&gt; from student,sc</span><br><span class="hljs-section">    -&gt; where student.sno = sc.sno and sc.cno = &#x27;3&#x27; and sc.grade &gt;=80 and sc.grade &lt;=89;</span><br><span class="hljs-section">+-----------+-------+</span><br><span class="hljs-section">| sno       | sname |</span><br><span class="hljs-section">+-----------+-------+</span><br>| 200215121 | æå‹‡  |<br><span class="hljs-section">| 200215122 | åˆ˜æ™¨  |</span><br><span class="hljs-section">+-----------+-------+</span><br>2 rows in set (0.00 sec)<br><br>ï¼ˆ4ï¼‰æŸ¥è¯¢å­¦ç”Ÿ 200215122 é€‰ä¿®çš„è¯¾ç¨‹å·ã€è¯¾ç¨‹å<br>mysql&gt; select course.cno,course.cname<br><span class="hljs-code">    -&gt; from course,sc</span><br><span class="hljs-section">    -&gt; where course.cno = sc.cno and sc.sno = &#x27;200215122&#x27;;</span><br><span class="hljs-section">+-----+----------+</span><br><span class="hljs-section">| cno | cname    |</span><br><span class="hljs-section">+-----+----------+</span><br>| 2   | æ•°å­¦     |<br><span class="hljs-section">| 3   | ä¿¡æ¯ç³»ç»Ÿ |</span><br><span class="hljs-section">+-----+----------+</span><br>2 rows in set (0.00 sec)<br><span class="hljs-code"> ï¼ˆæ€è€ƒï¼šå¦‚ä½•æŸ¥è¯¢å­¦ç”Ÿ 200215122 é€‰ä¿®çš„è¯¾ç¨‹å·ã€è¯¾ç¨‹ååŠæˆç»©ï¼Ÿï¼‰</span><br><span class="hljs-code"> mysql&gt; select course.cno,course.cname,sc.grade</span><br><span class="hljs-code">    -&gt; from course,sc</span><br><span class="hljs-section">    -&gt; where course.cno = sc.cno and sc.sno = &#x27;200215122&#x27;;</span><br><span class="hljs-section">+-----+----------+-------+</span><br><span class="hljs-section">| cno | cname    | grade |</span><br><span class="hljs-section">+-----+----------+-------+</span><br>| 2   | æ•°å­¦     |    90 |<br><span class="hljs-section">| 3   | ä¿¡æ¯ç³»ç»Ÿ |    80 |</span><br><span class="hljs-section">+-----+----------+-------+</span><br>2 rows in set (0.00 sec)<br><br>ï¼ˆ5ï¼‰æ‰¾å‡ºæ¯ä¸ªå­¦ç”Ÿä½äºä»–æ‰€é€‰ä¿®è¯¾ç¨‹å¹³å‡æˆç»© 5 åˆ†ä»¥ä¸Šçš„è¯¾ç¨‹å·ã€‚ï¼ˆè¾“å‡ºå­¦å·å’Œè¯¾ç¨‹å·ï¼‰<br>mysql&gt; select sno,cno<br><span class="hljs-code">    -&gt; from sc s1</span><br><span class="hljs-code">    -&gt; where s1.grade+5&lt; (select avg(grade) from sc s2 where s1.sno = s2.sno);</span><br>Empty set (0.00 sec)<br><br>mysql&gt; select sno,cno<br><span class="hljs-code">    -&gt; from sc s1</span><br><span class="hljs-section">    -&gt; where s1.grade+5&lt;= (select avg(grade) from sc s2 where s1.sno = s2.sno);</span><br><span class="hljs-section">+-----------+-----+</span><br><span class="hljs-section">| sno       | cno |</span><br><span class="hljs-section">+-----------+-----+</span><br><span class="hljs-section">| 200215122 | 3   |</span><br><span class="hljs-section">+-----------+-----+</span><br>1 row in set (0.00 sec)<br><br>ï¼ˆ6ï¼‰æŸ¥è¯¢æ¯”æ‰€æœ‰ç”·ç”Ÿå¹´é¾„éƒ½å°çš„å¥³ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹´é¾„ã€‚<br><span class="hljs-comment">//å½“å‰è¡¨</span><br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   21 | CS    | å¦          |<br>| 200215122 | åˆ˜æ™¨  | å¥³   |   20 | CS    | å¦          |<br>| 200215123 | ç‹æ•  | å¥³   |   19 | MA    | å¦          |<br>| 200215125 | å¼ ç«‹  | ç”·   |   20 | IS    | å¦          |<br>| 200215126 | å¼ ä¸‰  | å¥³   |   19 | IS    | å¦          |<br><span class="hljs-section">| 200215128 | æå››  | ç”·   |   21 | IS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>6 rows in set (0.00 sec)<br><br>mysql&gt; select sno,sname,sage<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where ssex = &#x27;å¥³&#x27; and sage &lt;(select min(sage) from student where ssex = &#x27;ç”·&#x27;);</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215123 | ç‹æ•  |   19 |<br><span class="hljs-section">| 200215126 | å¼ ä¸‰  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>2 rows in set (0.01 sec)<br>ï¼ˆ7ï¼‰æŸ¥è¯¢æ‰€æœ‰é€‰ä¿®äº† 2 å·è¯¾ç¨‹çš„å­¦ç”Ÿå§“ååŠæ‰€åœ¨ç³»ã€‚<br>mysql&gt; select sname,sdept<br><span class="hljs-code">    -&gt; from student,sc</span><br><span class="hljs-section">    -&gt; where sc.cno = &#x27;2&#x27; and student.sno = sc.sno;</span><br><span class="hljs-section">+-------+-------+</span><br><span class="hljs-section">| sname | sdept |</span><br><span class="hljs-section">+-------+-------+</span><br>| æå‹‡  | CS    |<br><span class="hljs-section">| åˆ˜æ™¨  | CS    |</span><br><span class="hljs-section">+-------+-------+</span><br>2 rows in set (0.00 sec)<br><br>ï¼ˆ8ï¼‰ä½¿ç”¨ update è¯­å¥æŠŠæˆç»©ä¸ºè‰¯çš„å­¦ç”Ÿçš„å¹´é¾„å¢åŠ  2 å²ï¼Œå¹¶æŸ¥è¯¢å‡ºæ¥ã€‚<br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   20 | CS    | å¦          |<br>| 200215122 | åˆ˜æ™¨  | å¥³   |   19 | CS    | å¦          |<br>| 200215123 | ç‹æ•  | å¥³   |   18 | MA    | å¦          |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  | ç”·   |   19 | IS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>4 rows in set (0.00 sec)<br><br><span class="hljs-section">mysql&gt; select * from sc;</span><br><span class="hljs-section">+-----------+-----+-------+</span><br><span class="hljs-section">| Sno       | Cno | Grade |</span><br><span class="hljs-section">+-----------+-----+-------+</span><br>| 200215121 | 1   |    92 |<br>| 200215121 | 2   |    85 |<br>| 200215121 | 3   |    88 |<br>| 200215122 | 2   |    90 |<br><span class="hljs-section">| 200215122 | 3   |    80 |</span><br><span class="hljs-section">+-----------+-----+-------+</span><br>5 rows in set (0.00 sec)<br><br>mysql&gt; update student<br><span class="hljs-code">    -&gt; set student.sage = student.sage+2</span><br><span class="hljs-code">    -&gt; where student.sno in(</span><br><span class="hljs-code">    -&gt; select sc.sno</span><br><span class="hljs-code">    -&gt; from sc</span><br><span class="hljs-code">    -&gt; where sc.grade &gt;=80 and sc.grade&lt;=89);</span><br>Query OK, 2 rows affected (0.01 sec)<br>Rows matched: 2  Changed: 2  Warnings: 0<br><br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   22 | CS    | å¦          |<br>| 200215122 | åˆ˜æ™¨  | å¥³   |   21 | CS    | å¦          |<br>| 200215123 | ç‹æ•  | å¥³   |   18 | MA    | å¦          |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  | ç”·   |   19 | IS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>4 rows in set (0.00 sec)<br><br>ï¼ˆ9ï¼‰ä½¿ç”¨ insert è¯­å¥å¢åŠ ä¸¤é—¨è¯¾ç¨‹ï¼šC è¯­è¨€å’Œäººå·¥æ™ºèƒ½ï¼Œå¹¶æŸ¥è¯¢å‡ºæ¥<br><span class="hljs-section">mysql&gt; select * from course;</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br><span class="hljs-section">| Cno | Cname    | Cpno | Ccredit |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>| 1   | æ•°æ®åº“   | 5    |       4 |<br>| 2   | æ•°å­¦     | NULL |       2 |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 1    |       4 |<br>| 4   | æ“ä½œç³»ç»Ÿ | 6    |       3 |<br>| 5   | æ•°æ®ç»“æ„ | 7    |       4 |<br>| 6   | æ•°æ®å¤„ç† | NULL |       2 |<br><span class="hljs-section">| 7   | java     | 6    |       4 |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>7 rows in set (0.00 sec)<br><br>mysql&gt; insert into course(cno,cname)<br><span class="hljs-code">    -&gt; values (&#x27;22&#x27;,&#x27;Cè¯­è¨€&#x27;);</span><br>Query OK, 1 row affected (0.00 sec)<br><br>mysql&gt; insert into course(cno,cname)<br><span class="hljs-code">    -&gt; values (&#x27;88&#x27;,&#x27;äººå·¥æ™ºèƒ½&#x27;);</span><br>Query OK, 1 row affected (0.00 sec)<br><br><span class="hljs-section">mysql&gt; select * from course;</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br><span class="hljs-section">| Cno | Cname    | Cpno | Ccredit |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>| 1   | æ•°æ®åº“   | 5    |       4 |<br>| 2   | æ•°å­¦     | NULL |       2 |<br>| 22  | Cè¯­è¨€    | NULL |    NULL |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 1    |       4 |<br>| 4   | æ“ä½œç³»ç»Ÿ | 6    |       3 |<br>| 5   | æ•°æ®ç»“æ„ | 7    |       4 |<br>| 6   | æ•°æ®å¤„ç† | NULL |       2 |<br>| 7   | java     | 6    |       4 |<br><span class="hljs-section">| 88  | äººå·¥æ™ºèƒ½ | NULL |    NULL |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>9 rows in set (0.00 sec)<br><br>ï¼ˆ10ï¼‰ä½¿ç”¨ delete è¯­å¥æŠŠäººå·¥æ™ºèƒ½è¯¾ç¨‹åˆ é™¤ï¼Œå¹¶æŸ¥è¯¢å‡ºæ¥ã€‚<br>mysql&gt; delete from course<br><span class="hljs-code">    -&gt; where cname = &#x27;äººå·¥æ™ºèƒ½&#x27;;</span><br>Query OK, 1 row affected (0.00 sec)<br><br><span class="hljs-section">mysql&gt; select * from course;</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br><span class="hljs-section">| Cno | Cname    | Cpno | Ccredit |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>| 1   | æ•°æ®åº“   | 5    |       4 |<br>| 2   | æ•°å­¦     | NULL |       2 |<br>| 22  | Cè¯­è¨€    | NULL |    NULL |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 1    |       4 |<br>| 4   | æ“ä½œç³»ç»Ÿ | 6    |       3 |<br>| 5   | æ•°æ®ç»“æ„ | 7    |       4 |<br>| 6   | æ•°æ®å¤„ç† | NULL |       2 |<br><span class="hljs-section">| 7   | java     | 6    |       4 |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>8 rows in set (0.00 sec)<br></code></pre></div></td></tr></table></figure><h2 id="å®éªŒä¸‰-SQLé«˜çº§å®éªŒ"><a href="#å®éªŒä¸‰-SQLé«˜çº§å®éªŒ" class="headerlink" title="å®éªŒä¸‰.SQLé«˜çº§å®éªŒ"></a>å®éªŒä¸‰.SQLé«˜çº§å®éªŒ</h2><figure class="highlight gherkin"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gherkin">(1)åˆ›å»º CS ç³»çš„è§†å›¾ CS_View<br><br>mysql&gt; create view cs_view as<br>    -&gt; select <span class="hljs-symbol">*</span><br>    -&gt; from student<br>    -&gt; where sdept = &#x27;CS&#x27;;<br>Query OK, 0 rows affected (0.04 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from cs_view;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>2 rows in set (0.02 sec)<br>(2)åœ¨è§†å›¾ CS_View ä¸ŠæŸ¥è¯¢ CS ç³»é€‰ä¿®äº† 1 å·è¯¾ç¨‹çš„å­¦ç”Ÿ<br><br>mysql&gt; select cs_view.sno,sname,sage<br>    -&gt; from cs_view,sc<br>    -&gt; where cs_view.sno = sc.sno and sc.cno = &#x27;1&#x27;;<br>+-----------+-------+------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Sage </span>|<br>+-----------+-------+------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string">   20 </span>|<br>+-----------+-------+------+<br>1 row in set (0.02 sec)<br>(3)åˆ›å»º IS ç³»æˆç»©å¤§äº 80 çš„å­¦ç”Ÿçš„è§†å›¾ IS_View<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   18 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    92 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>8 rows in set (0.00 sec)<br><br>mysql&gt; create view is_view as<br>    -&gt; select student.sno,sname,sage,ssex,sdept,cno,grade<br>    -&gt; from student,sc<br>    -&gt; where sdept = &#x27;IS&#x27; and student.sno = sc.sno and sc.grade &gt;=80;<br>Query OK, 0 rows affected (0.02 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from is_view;<br>+-----------+-------+------+------+-------+-----+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> sage </span>|<span class="hljs-string"> ssex </span>|<span class="hljs-string"> sdept </span>|<span class="hljs-string"> cno </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+------+-------+-----+-------+<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-------+------+------+-------+-----+-------+<br>2 rows in set (0.01 sec)<br>(4)åœ¨è§†å›¾ IS_View æŸ¥è¯¢ IS ç³»æˆç»©å¤§äº 80 çš„å­¦ç”Ÿ<br>mysql&gt; select <span class="hljs-symbol">*</span> from is_view where grade &gt;=80;<br>+-----------+-------+------+------+-------+-----+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> sage </span>|<span class="hljs-string"> ssex </span>|<span class="hljs-string"> sdept </span>|<span class="hljs-string"> cno </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+------+-------+-----+-------+<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-------+------+------+-------+-----+-------+<br>2 rows in set (0.01 sec)<br>(5)åˆ é™¤è§†å›¾ IS_View<br>mysql&gt; drop view is_view;<br>Query OK, 0 rows affected (0.02 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from is_view;<br>ERROR 1146 (42S02): Table &#x27;csedb_u201911749.is_view&#x27; doesn&#x27;t exist<br>(6) åˆ©ç”¨å¯è§†åŒ–çª—å£åˆ›å»º 2 ä¸ªä¸åŒçš„ç”¨æˆ· U1 å’Œ U2,åˆ©ç”¨ç³»ç»Ÿç®¡ç†å‘˜ç»™ U1 æˆäºˆ Student è¡¨çš„<br>æŸ¥è¯¢å’Œæ›´æ–°çš„æƒé™ï¼Œç»™ U2 å¯¹ SC è¡¨æˆäºˆæ’å…¥çš„æƒé™ã€‚ç„¶åç”¨ U1 ç™»å½•ï¼Œåˆ†åˆ« 1ï¼‰æŸ¥è¯¢å­¦ç”Ÿè¡¨<br>çš„ä¿¡æ¯ï¼›2ï¼‰æŠŠæ‰€æœ‰å­¦ç”Ÿçš„å¹´é¾„å¢åŠ  1 å²ï¼Œç„¶åæŸ¥è¯¢ï¼›3ï¼‰åˆ é™¤ IS ç³»çš„å­¦ç”Ÿï¼›4ï¼‰æŸ¥è¯¢ CS ç³»<br>çš„é€‰è¯¾ä¿¡æ¯ã€‚ç”¨ U2 ç™»å½•ï¼Œåˆ†åˆ« 1ï¼‰åœ¨ SC è¡¨ä¸­æ’å…¥ 1 æ¡è®°å½•ï¼ˆâ€˜200215122â€™ï¼Œâ€˜1â€™ï¼Œ75ï¼‰ï¼›2ï¼‰<br>æŸ¥è¯¢ SC è¡¨çš„ä¿¡æ¯ï¼Œ3ï¼‰æŸ¥è¯¢è§†å›¾ CS_View çš„ä¿¡æ¯ã€‚<br>//åˆ›å»ºç”¨æˆ·u1<br>mysql&gt; create user &#x27;u1&#x27;<span class="hljs-meta">@&#x27;%&#x27;</span> identified by &#x27;123456&#x27;;<br>Query OK, 0 rows affected (0.05 sec)<br>//åˆ›å»ºç”¨æˆ·u2<br>mysql&gt; create user &#x27;u2&#x27;<span class="hljs-meta">@&#x27;%&#x27;</span> identified by &#x27;123456&#x27;;<br>Query OK, 0 rows affected (0.01 sec)<br>//ä¸ºu1è®¾ç½®æƒé™<br>mysql&gt; grant select,update on student to &#x27;u1&#x27;<span class="hljs-meta">@&#x27;%&#x27;;</span><br>Query OK, 0 rows affected (0.01 sec)<br>//ä¸ºu2è®¾ç½®æƒé™<br>mysql&gt; grant insert on sc to &#x27;u2&#x27;<span class="hljs-meta">@&#x27;%&#x27;;</span><br>Query OK, 0 rows affected (0.01 sec)<br>//åˆ·æ–°æƒé™<br>mysql&gt; flush privileges;<br>Query OK, 0 rows affected (0.02 sec)<br>//æŸ¥çœ‹ç”¨æˆ·<br>mysql&gt; SELECT DISTINCT CONCAT(&#x27;User: &#x27;&#x27;&#x27;,user,&#x27;&#x27;&#x27;<span class="hljs-meta">@&#x27;&#x27;&#x27;,host,&#x27;&#x27;&#x27;;&#x27;)</span> AS query FROM mysql.user;<br>+---------------------------------------+<br>|<span class="hljs-string"> query                                 </span>|<br>+---------------------------------------+<br>|<span class="hljs-string"> User: &#x27;u1&#x27;@&#x27;%&#x27;;                       </span>|<br>|<span class="hljs-string"> User: &#x27;u2&#x27;@&#x27;%&#x27;;                       </span>|<br>|<span class="hljs-string"> User: &#x27;mysql.infoschema&#x27;@&#x27;localhost&#x27;; </span>|<br>|<span class="hljs-string"> User: &#x27;mysql.session&#x27;@&#x27;localhost&#x27;;    </span>|<br>|<span class="hljs-string"> User: &#x27;mysql.sys&#x27;@&#x27;localhost&#x27;;        </span>|<br>|<span class="hljs-string"> User: &#x27;root&#x27;@&#x27;localhost&#x27;;             </span>|<br>+---------------------------------------+<br>6 rows in set (0.00 sec)<br>//å‘½ä»¤è¡Œä»¥ä¸åŒçš„ç”¨æˆ·ç™»å½•ï¼Œå…ˆè®¾ç½®mysqlç¯å¢ƒå˜é‡ï¼Œcmdå‘½ä»¤è¡Œä½¿ç”¨ï¼šmysql -u u1 -p å¯†ç  ä»¥ç”¨æˆ·u1ç™»å½•<br><span class="hljs-comment">###############################################################################</span><br>C:\Users\Ke&gt;mysql -u u1 -p<br>Enter password: <span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 12<br><br>mysql&gt; show databases;<br>+--------------------+<br>|<span class="hljs-string"> Database           </span>|<br>+--------------------+<br>|<span class="hljs-string"> csedb_u201911749   </span>|<br>|<span class="hljs-string"> information_schema </span>|<br>+--------------------+<br>2 rows in set (0.01 sec)<br><br>mysql&gt; use csedb_u201911749<br>Database changed<br>mysql&gt; show tables;   //å¯ä»¥çœ‹åˆ°ï¼Œu1ç”¨æˆ·ç”±äºç®¡ç†å‘˜è®¾ç½®çš„æƒé™ï¼Œåªèƒ½çœ‹åˆ°student<br>+----------------------------+<br>|<span class="hljs-string"> Tables_in_csedb_u201911749 </span>|<br>+----------------------------+<br>|<span class="hljs-string"> student                    </span>|<br>+----------------------------+<br>1 row in set (0.00 sec)<br>//u1æŸ¥è¯¢studentè¡¨<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+--------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname  </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+--------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡   </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨   </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•   </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   18 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹   </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰   </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   18 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››   </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>+-----------+--------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br>//u1æ›´æ–°å¹´é¾„<br>mysql&gt; update student<br>    -&gt; set sage = sage+1;<br>Query OK, 6 rows affected (0.01 sec)<br>Rows matched: 6  Changed: 6  Warnings: 0<br>//u1é‡æ–°æŸ¥è¯¢student<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+--------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname  </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+--------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡   </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨   </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•   </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹   </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰   </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››   </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>+-----------+--------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br><br>mysql&gt; delete from student<br>    -&gt; where sdept = &#x27;IS&#x27;;<br>ERROR 1142 (42000): DELETE command denied to user &#x27;u1&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;student&#x27;   //u1æ²¡æœ‰æƒé™<br>mysql&gt; select sc.sno,sc.cno<br>    -&gt; from student,sc<br>    -&gt; where student.sno = sc.sno;<br>ERROR 1142 (42000): SELECT command denied to user &#x27;u1&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;sc&#x27;  //u1æ²¡æœ‰æƒé™<br><span class="hljs-comment">##############################################################################</span><br>C:\Users\Ke&gt;mysql -u u2 -p   //ä»¥u2çš„èº«ä»½ç™»å½•<br>Enter password: <span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 13<br><br>mysql&gt; show databases;<br>+--------------------+<br>|<span class="hljs-string"> Database           </span>|<br>+--------------------+<br>|<span class="hljs-string"> csedb_u201911749   </span>|<br>|<span class="hljs-string"> information_schema </span>|<br>+--------------------+<br>2 rows in set (0.00 sec)<br><br>mysql&gt; use csedb_u201911749;<br>Database changed<br>mysql&gt; show tables;   //u2åªèƒ½çœ‹åˆ°scè¡¨<br>+----------------------------+<br>|<span class="hljs-string"> Tables_in_csedb_u201911749 </span>|<br>+----------------------------+<br>|<span class="hljs-string"> sc                         </span>|<br>+----------------------------+<br>1 row in set (0.00 sec)<br><br>mysql&gt; insert into sc<br>    -&gt; values(&#x27;200215122&#x27;,&#x27;1&#x27;,75);<br>Query OK, 1 row affected (0.01 sec)   //u2å…·æœ‰æ’å…¥æƒé™ï¼Œæ’å…¥æˆåŠŸ<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>ERROR 1142 (42000): SELECT command denied to user &#x27;u2&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;sc&#x27;  //u2æ²¡æœ‰æƒé™<br>mysql&gt; select <span class="hljs-symbol">*</span> from view cs_view;<br>ERROR 1142 (42000): SELECT command denied to user &#x27;u2&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;view&#x27;  //u2æ²¡æœ‰æƒé™<br><span class="hljs-comment">############################################################################</span><br>(7) ç”¨ç³»ç»Ÿç®¡ç†å‘˜ç™»å½•ï¼Œæ”¶å› U1 çš„æ‰€æœ‰æƒé™<br>mysql&gt; revoke select,update on student from &#x27;u1&#x27;<span class="hljs-meta">@&#x27;%&#x27;;</span><br>Query OK, 0 rows affected (0.01 sec)<br><span class="hljs-comment">##########################################################################</span><br>(8) ç”¨ U1 ç™»å½•ï¼ŒæŸ¥è¯¢å­¦ç”Ÿè¡¨çš„ä¿¡æ¯<br>C:\Users\Ke&gt;mysql -u u1 -p<br>Enter password: <span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 18<br><br>mysql&gt; use csedb_u201911749<br>Database changed<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>ERROR 1142 (42000): SELECT command denied to user &#x27;u1&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;student&#x27; //u1å·²ç»æ²¡æœ‰çš„selectæƒé™<br><span class="hljs-comment">###########################################################################</span><br>(9) ç”¨ç³»ç»Ÿç®¡ç†å‘˜ç™»å½•<br>(10) å¯¹ SC è¡¨å»ºç«‹ä¸€ä¸ªæ›´æ–°è§¦å‘å™¨ï¼Œå½“æ›´æ–°äº† SC è¡¨çš„æˆç»©æ—¶ï¼Œå¦‚æœæ›´æ–°åçš„æˆç»©å¤§äºç­‰äº<br>95ï¼Œåˆ™æ£€æŸ¥è¯¥æˆç»©çš„å­¦ç”Ÿæ˜¯å¦æœ‰å¥–å­¦é‡‘ï¼Œå¦‚æœå¥–å­¦é‡‘æ˜¯â€œå¦â€ï¼Œåˆ™ä¿®æ”¹ä¸ºâ€œæ˜¯â€ã€‚å¦‚æœä¿®æ”¹åçš„<br>æˆç»©å°äº 95ï¼Œåˆ™æ£€æŸ¥è¯¥å­¦ç”Ÿçš„å…¶ä»–æˆç»©æ˜¯ä¸æ˜¯æœ‰å¤§äº 95 çš„ï¼Œå¦‚æœéƒ½æ²¡æœ‰ï¼Œä¸”ä¿®æ”¹å‰çš„æˆç»©<br>æ˜¯å¤§äº 95 æ—¶ï¼Œåˆ™æŠŠå…¶å¥–å­¦é‡‘ä¿®æ”¹ä¸ºâ€å¦â€ã€‚ç„¶åè¿›è¡Œæˆç»©ä¿®æ”¹ï¼Œå¹¶è¿›è¡ŒéªŒè¯æ˜¯å¦è§¦å‘å™¨æ­£ç¡®<br>æ‰§è¡Œã€‚1ï¼‰é¦–å…ˆæŠŠæŸä¸ªå­¦ç”Ÿæˆç»©ä¿®æ”¹ä¸º 98ï¼ŒæŸ¥è¯¢å…¶å¥–å­¦é‡‘ã€‚2ï¼‰å†æŠŠåˆšæ‰çš„æˆç»©ä¿®æ”¹ä¸º 80ï¼Œ<br>å†æŸ¥è¯¢å…¶å¥–å­¦é‡‘ã€‚<br>//å®šä¹‰è§¦å‘å™¨<br>mysql&gt; delimiter $  //æŠŠç»ˆç»“ç¬¦æ”¹ä¸º$,è¿™æ ·beginå’Œendä¹‹é—´ä½¿ç”¨çš„â€˜;â€™ä¼šè¢«å­˜å‚¨è¿›å»<br>mysql&gt; create trigger sctr after update on sc<br>    -&gt; for each row<br>    -&gt; begin<br>    -&gt; declare max_grade int;<br>    -&gt; set max_grade = (select max(grade) from sc where sc.sno=new.sno);<br>    -&gt; update student set student.scholarship = &#x27;æ˜¯&#x27; where student.sno = new.sno and max_grade &gt;=95;<br>    -&gt; update student set student.scholarship = &#x27;å¦&#x27; where student.sno = new.sno and max_grade <span class="hljs-variable">&lt;95;</span><br><span class="hljs-variable">    -&gt;</span> end$<br>Query OK, 0 rows affected (0.03 sec)<br><br>mysql&gt; delimiter ;<br>//åˆå§‹æ•°æ®å¦‚ä¸‹ï¼š<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    92 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>9 rows in set (0.00 sec)<br>//ä¿®æ”¹200215121çš„1å·è¯¾æˆç»©ä¸º98<br>mysql&gt; update sc set grade = 98 where sno = &#x27;200215121&#x27; and cno = &#x27;1&#x27;;<br>Query OK, 1 row affected (0.02 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br>//æŸ¥çœ‹studentï¼Œå¥–å­¦é‡‘ç”±å¦æ”¹ä¸ºäº†æ˜¯<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> æ˜¯          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br>//ä¿®æ”¹åˆšæ‰çš„æˆç»©ä¸º88<br>mysql&gt; update sc set grade = 88 where sno = &#x27;200215121&#x27; and cno = &#x27;1&#x27;;<br>Query OK, 1 row affected (0.01 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br>//ä¿®æ”¹é¡¹çš„å¥–å­¦é‡‘ç”±æ˜¯æ”¹æˆäº†å¦<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br>ï¼ˆ11ï¼‰åˆ é™¤åˆšå®šä¹‰çš„è§¦å‘å™¨<br>//åˆ é™¤å‰æŸ¥è¯¢è§¦å‘å™¨<br>mysql&gt; show triggers from csedb_u201911749\G;<br><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span> 1. row <span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><br>             Trigger: sctr<br>               Event: UPDATE<br>               Table: sc<br>           Statement: begin<br>declare max_grade int;<br>set max_grade = (select max(grade) from sc where sc.sno=new.sno);<br>update student set student.scholarship = &#x27;æ˜¯&#x27; where student.sno = new.sno and max_grade &gt;=95;<br>update student set student.scholarship = &#x27;å¦&#x27; where student.sno = new.sno and max_grade <span class="hljs-variable">&lt;95;</span><br><span class="hljs-variable">end</span><br><span class="hljs-variable">              Timing: AFTER</span><br><span class="hljs-variable">             Created: 2021-11-12 21:32:29.26</span><br><span class="hljs-variable">            sql_mode: ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span><br><span class="hljs-variable">             Definer: root@localhost</span><br><span class="hljs-variable">character_set_client: gbk</span><br><span class="hljs-variable">collation_connection: gbk_chinese_ci</span><br><span class="hljs-variable">  Database Collation: utf8mb4_0900_ai_ci</span><br><span class="hljs-variable">1 row in set (0.00 sec)</span><br><span class="hljs-variable"></span><br><span class="hljs-variable">ERROR:</span><br><span class="hljs-variable">No query specified</span><br><span class="hljs-variable">//åˆ é™¤è§¦å‘å™¨</span><br><span class="hljs-variable">mysql&gt;</span> drop trigger sctr;<br>Query OK, 0 rows affected (0.02 sec)<br>//é‡æ–°æŸ¥è¯¢ï¼Œè§¦å‘å™¨å·²è¢«åˆ é™¤<br>mysql&gt; show triggers from csedb_u201911749\G;<br>Empty set (0.00 sec)<br><br>ERROR:<br>No query specified<br>/<span class="hljs-symbol">*</span><br><span class="hljs-symbol">*</span>æ³¨æ„ä¸€ä¸‹12-13è¿™ä¸¤ä¸ªä¸ªï¼Œä¸çŸ¥é“ä¸ºå•¥æˆ‘ç¬¬ä¸€æ¬¡åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶è¡¨å»ä¿å­˜è¿‡ç¨‹å’Œå‡½æ•°çš„æŸ¥è¯¢æ•°æ®ï¼Œå…¶å®ä¸<span class="hljs-symbol">*</span>ç”¨åˆ›å»ºè¿™ä¸ªè¡¨<br><span class="hljs-symbol">*</span>ä¸å¿…å°†selectçš„ç»“æœinsertåˆ°ä¸´æ—¶è¡¨ï¼Œå†å»æŸ¥ä¸´æ—¶è¡¨ï¼Œç›´æ¥åœ¨å­˜å‚¨è¿‡ç¨‹é‡Œå»selectå³å¯ï¼Œè°ƒç”¨ä¹‹åä¼š<span class="hljs-symbol">*</span>æ˜¾ç¤ºselectçš„æ•°æ®<br><span class="hljs-symbol">*</span>ä½†æ˜¯å¯¹äºå‡½æ•°è°ƒç”¨ï¼Œå‡½æ•°è°ƒç”¨æ˜¯æ— æ³•è¿”å›ä¸€ä¸ªè¡¨çš„ï¼Œå› æ­¤å€ŸåŠ©ä¸´æ—¶è¡¨è¿˜æ˜¯æœ‰å¿…è¦çš„<br><span class="hljs-symbol">*</span>/<br>ï¼ˆ12ï¼‰å®šä¹‰ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹è®¡ç®— CS ç³»çš„è¯¾ç¨‹çš„å¹³å‡æˆç»©å’Œæœ€é«˜æˆç»©ï¼Œåœ¨æŸ¥è¯¢åˆ†æå™¨æˆ–æŸ¥è¯¢ç¼–<br>è¾‘å™¨ä¸­æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ï¼ŒæŸ¥çœ‹ç»“æœã€‚<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>9 rows in set (0.00 sec)<br>mysql&gt; delimiter $ //åˆ›å»ºå­˜å‚¨è¿‡ç¨‹<br>mysql&gt; create procedure cs_grade(<br>    -&gt; out avg_grade int,<br>    -&gt; out max_grade int)<br>    -&gt; begin<br>    -&gt; select avg(grade)<br>    -&gt; into avg_grade<br>    -&gt; from student,sc<br>    -&gt; where student.sdept = &#x27;cs&#x27; and student.sno = sc.sno;<br>    -&gt; select max(grade)<br>    -&gt; into max_grade<br>    -&gt; from student,sc<br>    -&gt; where student.sdept = &#x27;cs&#x27; and student.sno = sc.sno;<br>    -&gt; end $<br>Query OK, 0 rows affected (0.01 sec)<br>mysql&gt; delimiter ; //é‡æ–°å®šä¹‰ç»ˆç»“ç¬¦ä¸º&#x27;;&#x27;<br>mysql&gt; call cs_grade(<span class="hljs-meta">@avg_grade,</span><span class="hljs-meta">@max_grade);//è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</span><br>Query OK, 1 row affected (0.00 sec)<br><br>mysql&gt; select <span class="hljs-meta">@avg_grade,</span><span class="hljs-meta">@max_grade;</span><br>+------------+------------+<br>|<span class="hljs-string"> @avg_grade </span>|<span class="hljs-string"> @max_grade </span>|<br>+------------+------------+<br>|<span class="hljs-string">         84 </span>|<span class="hljs-string">         90 </span>|<br>+------------+------------+<br>1 row in set (0.00 sec)<br><br>ï¼ˆ13ï¼‰å®šä¹‰ä¸€ä¸ªå¸¦å­¦å·ä¸ºå‚æ•°çš„æŸ¥çœ‹æŸä¸ªå­¦å·çš„æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ï¼ŒæŸ¥è¯¢ç»“æœè¦åŒ…å«å­¦ç”Ÿå§“<br>åã€‚è¿›è¡ŒéªŒè¯ã€‚<br>//å…ˆåˆ›å»ºä¸´æ—¶è¡¨ä¿å­˜æ•°æ®<br>mysql&gt; create temporary table stu_info(<br>    -&gt; sno  char(9) null,<br>    -&gt; sname char(20) null,<br>    -&gt; cno char(5) null,<br>    -&gt; cname char(20)null,<br>    -&gt; grade int);<br>Query OK, 0 rows affected (0.00 sec)<br>mysql&gt; delimiter $  //æ”¹å˜ç»ˆç»“ç¬¦<br>//å»ºç«‹å­˜å‚¨è¿‡ç¨‹ï¼Œä¼ å…¥sid char(9) ,insert into table select.....æŠŠselectçš„ç»“æœæ’å…¥table<br>mysql&gt; create procedure stu_grade(<br>    -&gt; in sid char(9))<br>    -&gt; begin<br>    -&gt; insert into stu_info<br>    -&gt; select sc.sno,sname,sc.cno,cname,grade from student,course,sc where sid = sc.sno and sc.sno = student.sno and sc.cno =course.cno;<br>    -&gt; end$<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; delimiter ;  //æœªè°ƒç”¨å­˜å‚¨è¿‡ç¨‹å‰ï¼Œä¸´æ—¶è¡¨ä¸ºç©º<br>mysql&gt; select <span class="hljs-symbol">*</span> from stu_info;<br>Empty set (0.00 sec)<br>//è°ƒç”¨å­˜å‚¨è¿‡ç¨‹<br>mysql&gt; call stu_grade(&#x27;200215121&#x27;);<br>Query OK, 3 rows affected (0.01 sec)<br>//æŸ¥çœ‹ä¸´æ—¶è¡¨ç»“æœ<br>mysql&gt; select <span class="hljs-symbol">*</span> from stu_info;<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> cno  </span>|<span class="hljs-string"> cname    </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 1    </span>|<span class="hljs-string"> æ•°æ®åº“   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 2    </span>|<span class="hljs-string"> æ•°å­¦     </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 3    </span>|<span class="hljs-string"> ä¿¡æ¯ç³»ç»Ÿ </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-------+------+----------+-------+<br>3 rows in set (0.00 sec)<br>ï¼ˆ14ï¼‰æŠŠä¸Šä¸€é¢˜æ”¹æˆå‡½æ•°ã€‚å†è¿›è¡ŒéªŒè¯ã€‚<br>//å…ˆæŠŠåˆ›å»ºå‡½æ•°çš„åŠŸèƒ½æ‰“å¼€ï¼Œæ£€æŸ¥ä¸‹é¢çš„å˜é‡æ˜¯ä¸æ˜¯on<br>mysql&gt; show variables like &#x27;%func%&#x27;;<br>+---------------------------------+-------+<br>|<span class="hljs-string"> Variable_name                   </span>|<span class="hljs-string"> Value </span>|<br>+---------------------------------+-------+<br>|<span class="hljs-string"> log_bin_trust_function_creators </span>|<span class="hljs-string"> OFF   </span>|<br>+---------------------------------+-------+<br>1 row in set, 1 warning (0.01 sec)<br><br>mysql&gt; set global log_bin_trust_function_creators =1;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; show variables like &#x27;%func%&#x27;;<br>+---------------------------------+-------+<br>|<span class="hljs-string"> Variable_name                   </span>|<span class="hljs-string"> Value </span>|<br>+---------------------------------+-------+<br>|<span class="hljs-string"> log_bin_trust_function_creators </span>|<span class="hljs-string"> ON    </span>|<br>+---------------------------------+-------+<br>1 row in set, 1 warning (0.00 sec)<br>//åˆ›å»ºå‡½æ•°ï¼Œä¼ å…¥sid<br>mysql&gt; delimiter $<br>mysql&gt; create function stu_grade2(sid char(9))<br>    -&gt; returns tinyint<br>    -&gt; begin<br>    -&gt; insert into stu_info<br>    -&gt; select sc.sno,sname,sc.cno,cname,grade from student,course,sc where sid = sc.sno and sc.sno = student.sno and sc.cno =course.cno;<br>    -&gt; return 1;<br>    -&gt; end$<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; delimiter ;<br>mysql&gt; select <span class="hljs-symbol">*</span> from stu_info; //æœªè°ƒç”¨å‡½æ•°å‰çš„ä¸´æ—¶è¡¨<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> cno  </span>|<span class="hljs-string"> cname    </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 1    </span>|<span class="hljs-string"> æ•°æ®åº“   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 2    </span>|<span class="hljs-string"> æ•°å­¦     </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 3    </span>|<span class="hljs-string"> ä¿¡æ¯ç³»ç»Ÿ </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-------+------+----------+-------+<br>3 rows in set (0.00 sec)<br>//æ‰§è¡Œå‡½æ•°ï¼Œæ˜¾ç¤ºçš„1æ—¶è¿”å›å€¼1<br>mysql&gt; select stu_grade2(&#x27;200215122&#x27;);<br>+-------------------------+<br>|<span class="hljs-string"> stu_grade2(&#x27;200215122&#x27;) </span>|<br>+-------------------------+<br>|<span class="hljs-string">                       1 </span>|<br>+-------------------------+<br>1 row in set (0.01 sec)<br>//å†æ¬¡æŸ¥çœ‹ä¸´æ—¶è¡¨<br>mysql&gt; select <span class="hljs-symbol">*</span> from stu_info;<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> cno  </span>|<span class="hljs-string"> cname    </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 1    </span>|<span class="hljs-string"> æ•°æ®åº“   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 2    </span>|<span class="hljs-string"> æ•°å­¦     </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 3    </span>|<span class="hljs-string"> ä¿¡æ¯ç³»ç»Ÿ </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> 1    </span>|<span class="hljs-string"> æ•°æ®åº“   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> 2    </span>|<span class="hljs-string"> æ•°å­¦     </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> 3    </span>|<span class="hljs-string"> ä¿¡æ¯ç³»ç»Ÿ </span>|<span class="hljs-string">    80 </span>|<br>+-----------+-------+------+----------+-------+<br>6 rows in set (0.00 sec)<br>ï¼ˆ15ï¼‰åœ¨ SC è¡¨ä¸Šå®šä¹‰ä¸€ä¸ªå®Œæ•´æ€§çº¦æŸï¼Œè¦æ±‚æˆç»©å† 0-100 ä¹‹é—´ã€‚å®šä¹‰çº¦æŸå‰ï¼Œå…ˆæŠŠæŸä¸ªå­¦<br>ç”Ÿçš„æˆç»©ä¿®æ”¹æˆ 120ï¼Œè¿›è¡ŒæŸ¥è¯¢ï¼Œå†ä¿®æ”¹å›æ¥ã€‚å®šä¹‰çº¦æŸåï¼Œå†æŠŠè¯¥å­¦ç”Ÿæˆç»©ä¿®æ”¹ä¸º 120ï¼Œ<br>ç„¶åè¿›è¡ŒæŸ¥è¯¢<br><br>mysql&gt; update sc set grade = 120<br>    -&gt; where sno = &#x27;200215121&#x27; and cno =&#x27;1&#x27;;<br>Query OK, 1 row affected (0.01 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">   120 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>9 rows in set (0.00 sec)<br><br>mysql&gt; update sc set grade = 88<br>    -&gt; where sno = &#x27;200215121&#x27; and cno =&#x27;1&#x27;;<br>Query OK, 1 row affected (0.01 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>9 rows in set (0.00 sec)<br>//è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰çº¦æŸ<br>mysql&gt; alter table sc add constraint check_grade check(grade &gt;=0 and grade <span class="hljs-variable">&lt;=100);</span><br><span class="hljs-variable">Query OK, 9 rows affected (0.09 sec)</span><br><span class="hljs-variable">Records: 9  Duplicates: 0  Warnings: 0</span><br><span class="hljs-variable">//æ›´æ–°å¤±è´¥ï¼Œæç¤ºæ£€æŸ¥çº¦æŸä¸é€šè¿‡</span><br><span class="hljs-variable">mysql&gt;</span> update sc set grade = 120<br>    -&gt; where sno = &#x27;200215121&#x27; and cno =&#x27;1&#x27;;<br>ERROR 3819 (HY000): Check constraint &#x27;check_grade&#x27; is violated.<br></code></pre></div></td></tr></table></figure><h2 id="å®éªŒå››-æ•°æ®åº“è®¾è®¡"><a href="#å®éªŒå››-æ•°æ®åº“è®¾è®¡" class="headerlink" title="å®éªŒå››.æ•°æ®åº“è®¾è®¡"></a>å®éªŒå››.æ•°æ®åº“è®¾è®¡</h2><p><img src="/2021/11/11/HUST%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C/MyBlog\source_posts\HUSTæ•°æ®åº“å®éªŒ\å®éªŒå››è¦æ±‚.png" srcset="/img/loading.gif" lazyload alt="å®éªŒå››è¦æ±‚"></p><p>ä¸å…¶è¯´æ˜¯æ•°æ®åº“è®¾è®¡ï¼Œä¸å¦‚è¯´ä½¿ç”¨é«˜çº§è¯­è¨€æ¥æ“ä½œæ•°æ®åº“ï¼Œç¼–å†™ä¸€ä¸ªä¿¡æ¯ç®¡ç†ç³»ç»Ÿçš„åº”ç”¨ã€‚</p><p>æˆ‘ä½¿ç”¨Mavenå¯¼å…¥Mybatisï¼Œåˆ©ç”¨Mybatisæ¡†æ¶æ¥æ“ä½œæ•°æ®åº“ï¼Œç›¸æ¯”JDBCæ¥è¯´ç›¸å¯¹ç®€å•ï¼Œä¸å¿…å»è¿›è¡Œæ•°æ®åº“è¿æ¥ç­‰æ“ä½œï¼Œé€šè¿‡é…ç½®mybatis-config.xmlæ¥ä¿è¯ä¸æ•°æ®åº“çš„è¿æ¥ï¼Œé€šè¿‡é…ç½®Mapper.xmlæ¥æ·»åŠ å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨åˆ°çš„sqlè¯­å¥ï¼Œå®ç°æ•°æ®æ“ä½œï¼Œå‰©ä¸‹çš„å°±æ˜¯åœ¨é«˜çº§è¯­è¨€å±‚é¢çš„ç”¨æˆ·äº¤äº’ä¸æ•°æ®å¤„ç†å·¥ä½œäº†ã€‚</p><p>ç»å…¸å¢åˆ æ”¹æŸ¥ğŸ¤£ğŸ˜‚</p><p><a href="https://github.com/ziyikee/HUSTDB">HUSTæ•°æ®åº“å®éªŒ-åŸºäºMybatisçš„å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿ </a></p><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://www.runoob.com/mysql/mysql-tutorial.html">MySQL æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p><a href="https://www.cnblogs.com/qlqwjy/p/7842647.html">ã€è§¦å‘å™¨ã€‘MySQLè§¦å‘å™¨ä½¿ç”¨è¯¦è§£ - QiaoZhi - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://www.jianshu.com/p/7b2d74701ccd">mysqlå­˜å‚¨è¿‡ç¨‹è¯¦ç»†æ•™ç¨‹ - ç®€ä¹¦ (jianshu.com)</a></p><p><a href="https://www.yiibai.com/mysql/getting-started-with-mysql-stored-procedures.html">MySQLå­˜å‚¨è¿‡ç¨‹å…¥é—¨ - MySQLæ•™ç¨‹â„¢ (yiibai.com)</a></p><p><a href="https://www.runoob.com/sql/sql-insert-into-select.html">SQL INSERT INTO SELECT è¯­å¥ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p><a href="https://www.php.cn/mysql-tutorials-460561.html#:~:text=mysql">mysqlé‡Œæ€æ ·åˆ›å»ºå‡½æ•°-mysqlæ•™ç¨‹-PHPä¸­æ–‡ç½‘</a></p><p><a href="https://blog.csdn.net/liyazhen2011/article/details/82870406"> MySqlåˆ›å»ºè‡ªå®šä¹‰å‡½æ•°ï¼ˆFunctionï¼‰_ä¸‡é‡Œå½’æ¥å°‘å¹´å¿ƒ-CSDNåšå®¢_mysql è‡ªå®šä¹‰å‡½æ•°</a></p><p><a href="https://mybatis.org/mybatis-3/zh/getting-started.html">mybatis â€“ MyBatis 3 | å…¥é—¨</a></p><p><a href="http://c.biancheng.net/mybatis/">Mybatisæ¡†æ¶å…¥é—¨æ•™ç¨‹ (biancheng.net)</a></p>]]></content>
    
    
    <categories>
      
      <category>HUST</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HUST</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸‰.RedisåŸºç¡€</title>
    <link href="/2021/11/10/Redis%E5%9F%BA%E7%A1%80/"/>
    <url>/2021/11/10/Redis%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="RedisåŸºç¡€"><a href="#RedisåŸºç¡€" class="headerlink" title="RedisåŸºç¡€"></a>RedisåŸºç¡€</h1><h2 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h2><ul><li>redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œåœ¨redis.confä¸­ç”±<code>database 16</code>æ ‡è¯†</li><li>é»˜è®¤ä½¿ç”¨ç¬¬0ä¸ªæ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨<code>select num</code>åˆ‡æ¢æ•°æ®åº“</li><li>é€‰æ‹©æ•°æ®åº“åï¼Œä½¿ç”¨å‘½ä»¤<code>DBSIZE</code>å¯æŸ¥çœ‹å½“å‰åº“ä¸­çš„æ•°æ®é‡</li><li><code>keys *</code>,æŸ¥çœ‹å½“å‰åº“ä¸­çš„æ‰€æœ‰keyçš„name</li><li><code>flushdb</code>  æ¸…é™¤å½“å‰åº“ï¼›<code>FLUSHALL</code>  æ¸…ç©ºå…¨éƒ¨æ•°æ®åº“å†…å®¹</li><li><code>EXIST  [key-name]</code>,åˆ¤æ–­ä¸€ä¸ªkeyæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›1ï¼Œä¸å­˜åœ¨è¿”å›0</li><li><code>MOVE [key-name]</code>ï¼Œç§»é™¤ä¸€ä¸ªkey</li><li><code>set  [key-name]  [key-value]</code>ï¼Œä¸ºä¸€ä¸ªkeyè®¾ç½®å…·ä½“å€¼</li><li><code>get  [key-name]</code>ï¼Œè·å–keyçš„å…·ä½“å€¼</li><li><code>EXPIRE  [key-name]  [int]</code>ï¼Œè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´</li><li><code>ttl  [key-name]</code>ï¼ŒæŸ¥è¯¢keyå½“å‰çš„å‰©ä½™æ—¶é—´ï¼Œè¿‡æœŸä¹‹ågetçš„å€¼ä¸ºnul</li><li><code>type  [key-name]</code>ï¼ŒæŸ¥çœ‹å½“å‰keyçš„ç±»å‹</li></ul><h2 id="Redisæ˜¯å•çº¿ç¨‹çš„"><a href="#Redisæ˜¯å•çº¿ç¨‹çš„" class="headerlink" title="Redisæ˜¯å•çº¿ç¨‹çš„"></a>Redisæ˜¯å•çº¿ç¨‹çš„</h2><p>å®˜æ–¹è¡¨ç¤ºï¼ŒRedisæ˜¯åŸºäºå†…å­˜æ“ä½œï¼ŒCPUä¸æ˜¯Redisçš„æ€§èƒ½ç“¶é¢ˆï¼ŒRedisçš„ç“¶é¢ˆæ¥æºäºæœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½ï¼Œæ—¢ç„¶å¯ä»¥ä½¿ç”¨å•çº¿ç¨‹æ¥å®ç°ï¼Œé‚£å°±ä½¿ç”¨å•çº¿ç¨‹ã€‚</p><p>Redisæ˜¯ç”±Cç¼–å†™ï¼Œå®˜æ–¹æ•°æ®è¯´æ˜Redisçš„QPSå¯è¾¾åˆ°100000+ï¼Œå®Œå…¨ä¸æ¯”åŒæ ·æ˜¯KVå­˜å‚¨çš„Memcachedå·®ã€‚</p><h2 id="Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ"><a href="#Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ" class="headerlink" title="Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ"></a>Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ</h2><ul><li>è¯¯åŒº1ï¼šé«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ï¼Ÿ</li><li>è¯¯åŒº2ï¼šå¤šçº¿ç¨‹ï¼ˆå­˜åœ¨CPUä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ï¼‰ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜ï¼Ÿ</li><li>æ ¸å¿ƒï¼šRedisæ˜¯å°†æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥ä½¿ç”¨å•çº¿ç¨‹å»æ“ä½œçš„æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šçº¿ç¨‹åè€Œä¼šç”±äºCPUä¸Šä¸‹æ–‡åˆ‡æ¢äº§ç”Ÿè€—æ—¶æ“ä½œã€‚å¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé‚£æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šæ¬¡è¯»å†™éƒ½åœ¨ä¸€ä¸ªCPUä¸Šï¼Œåœ¨æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸Šæ˜¯ï¼Œå•çº¿ç¨‹å°±æ˜¯æœ€ä½³æ–¹æ¡ˆï¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒ.Rediså®‰è£…é…ç½®</title>
    <link href="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"/>
    <url>/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="Rediså®‰è£…ä¸é…ç½®"><a href="#Rediså®‰è£…ä¸é…ç½®" class="headerlink" title="Rediså®‰è£…ä¸é…ç½®"></a>Rediså®‰è£…ä¸é…ç½®</h1><ol><li><p>é¦–å…ˆé€šè¿‡sshè¿œç¨‹è¿æ¥æœåŠ¡å™¨æˆ–åœ¨è™šæ‹Ÿæœºä¸­å®‰è£…</p></li><li><p>æ‰§è¡Œå‘½ä»¤ï¼š<code>wget https://download.redis.io/releases/redis-6.2.6.tar.gz</code>ï¼Œä¸‹è½½å‹ç¼©åŒ…åˆ°æœ¬åœ°/optç›®å½•ä¸‹ï¼Œå¦‚å›¾ï¼š</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/1.png" srcset="/img/loading.gif" lazyload alt="1"></p></li><li><p> æ‰§è¡Œå‘½ä»¤:<code>tar  -zxvf  redis-6.2.6.tat.gz </code>,å°†å‹ç¼©åŒ…è§£å‹å¤§å½“å‰ç›®å½•</p></li><li><p>è§£å‹å®Œæˆä¹‹åï¼Œå¯è¿›å…¥è§£å‹ç›®å½•æŸ¥çœ‹å½“å‰æ–‡ä»¶ï¼š</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/2.png" srcset="/img/loading.gif" lazyload alt="2"></p><p>å…¶ä¸­<code>redis.conf</code>ä¸ºé…ç½®æ–‡ä»¶</p></li><li><p>åŸºæœ¬ç¯å¢ƒå®‰è£…ä¸rediså®‰è£…ï¼š</p><ul><li><p><code>yum install gcc-c++ </code>   å®‰è£… gcc ç¼–è¯‘å·¥å…·</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/3.png" srcset="/img/loading.gif" lazyload alt="3"></p></li><li><p>åœ¨redisç›®å½•ä¸‹æ‰§è¡Œ<code>make</code>ç¼–è¯‘å®‰è£…redisï¼Œå¯èƒ½ä¼šèŠ±è´¹ä¸€å®šçš„æ—¶é—´ï¼Œå› ä¸ºè¦å®‰è£…ä¸€ç³»åˆ—çš„ç¯å¢ƒ</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/4.png" srcset="/img/loading.gif" lazyload alt="4"></p><p><code>make</code>å®Œæˆåä¼šæ˜¾ç¤ºåœ¨srcç›®å½•ä¸‹å¢åŠ äº†å†…å®¹ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨<code>make</code>æˆ–<code>make install</code>è¿›è¡Œæ£€éªŒï¼Œå› ä¸ºç¯å¢ƒå·²ç»é…ç½®å¥½ï¼Œæ‰€ä»¥ä¹‹åçš„<code>make</code>é€Ÿåº¦å¾ˆå¿«</p></li><li><p>redisçš„é»˜è®¤å®‰è£…è·¯å¾„åœ¨<code>/usr/local/bin</code></p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/5.png" srcset="/img/loading.gif" lazyload alt="5"></p></li></ul></li><li><p> å°†redisçš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°å½“å‰çš„ç¨‹åºç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªç›®å½•<code>kconfig</code>ï¼Œä¿å­˜é…ç½®æ–‡ä»¶</p></li></ol><p>   <img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/6.png" srcset="/img/loading.gif" lazyload alt="6"></p><ol start="7"><li> redisé»˜è®¤ä¸æ˜¯åå°å¯åŠ¨çš„ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨<code>vim  redis.conf</code>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°†å›¾ä¸­çš„é€‰é¡¹ç”±<code>no</code>ä¿®æ”¹ä¸ºâ€™yesâ€™</li></ol><p>   <img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/7.png" srcset="/img/loading.gif" lazyload alt="7"></p><ol start="8"><li><p>ç»è¿‡ä¸Šè¿°é…ç½®ä¹‹åï¼Œä¾¿å¯ä»¥å¯åŠ¨redisæœåŠ¡ï¼Œä½¿ç”¨å‘½ä»¤<code>redis-server /kconfig/redis.conf </code></p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/8.png" srcset="/img/loading.gif" lazyload alt="8"></p></li><li><p>å¯åŠ¨rediså®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯ï¼Œä½¿ç”¨å‘½ä»¤<code>redis-cli -p 6379</code>è¿æ¥ç«¯å£6379</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/9.png" srcset="/img/loading.gif" lazyload alt="9"></p></li><li><p>æŸ¥çœ‹redisçš„è¿›ç¨‹è¿è¡ŒçŠ¶æ€ï¼Œä½¿ç”¨å‘½ä»¤<code>ps -ef |grep redis</code></p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/10.png" srcset="/img/loading.gif" lazyload alt="10"></p></li><li><p>å¦‚ä½•å…³é—­redisæœåŠ¡ï¼Ÿåœ¨å®¢æˆ·ç«¯æ‰§è¡Œ<code>shutdown</code>å‘½ä»¤å…³é—­æœåŠ¡å™¨ï¼Œæ‰§è¡Œ<code>exit</code>é€€å‡ºå®¢æˆ·ç«¯</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/11.png" srcset="/img/loading.gif" lazyload alt="11"></p></li></ol><h1 id="redis-benchmark"><a href="#redis-benchmark" class="headerlink" title="redis-benchmark"></a>redis-benchmark</h1><p>â€‹    å®˜æ–¹è‡ªå¸¦çš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå¦‚ä½•ä½¿ç”¨? <code>redis-benchmark  [option]  [option value]</code>ï¼Œè¯¥å‘½ä»¤åœ¨redisçš„ç›®å½•ä¸‹æ‰§è¡Œï¼Œè€Œä¸æ˜¯å®¢æˆ·ç«¯çš„å†…éƒ¨ä¹‹çµï¼Œå…·ä½“å‚æ•°å¦‚ä¸‹ï¼š</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/13.png" srcset="/img/loading.gif" lazyload alt="12"></p><p>ç®€å•æµ‹è¯•ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-comment"># æµ‹è¯•100ä¸ªå¹¶å‘è¿æ¥ 100000ä¸ªè¯·æ±‚</span><br><span class="hljs-attribute">redis</span>-benchmark -h localhost -p <span class="hljs-number">6379</span> -c <span class="hljs-number">100</span> -n <span class="hljs-number">100000</span><br></code></pre></div></td></tr></table></figure><p>æµ‹è¯•ç»“æœä¸åˆ†æï¼š</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/12.png" srcset="/img/loading.gif" lazyload alt="13"></p><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://www.runoob.com/redis/redis-tutorial.html">Redis æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€.Redisæ¦‚è¿°</title>
    <link href="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/"/>
    <url>/2021/11/09/Redis%E6%A6%82%E8%BF%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€-Redisæ¦‚è¿°"><a href="#ä¸€-Redisæ¦‚è¿°" class="headerlink" title="ä¸€.Redisæ¦‚è¿°"></a>ä¸€.Redisæ¦‚è¿°</h1><h2 id="1-æ•°æ®åº“å‘å±•æ¼”å˜"><a href="#1-æ•°æ®åº“å‘å±•æ¼”å˜" class="headerlink" title="1. æ•°æ®åº“å‘å±•æ¼”å˜"></a>1. æ•°æ®åº“å‘å±•æ¼”å˜</h2><ol><li><p>å•æœºMysqlçš„å¹´ä»£ï¼š</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/1.png" srcset="/img/loading.gif" lazyload alt="1"></p><p>èµ·åˆç½‘ç«™è®¿é—®é‡å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œå•ä¸ªæ•°æ®åº“å°±å¯ä»¥æ»¡è¶³éœ€æ±‚ï¼Œä¸”å½“æ—¶æ›´å¤šçš„ä½¿ç”¨é™æ€ç½‘é¡µHtmlï¼ŒæœåŠ¡å™¨å¹¶æ²¡æœ‰å¾ˆå¤§çš„å‹åŠ›ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨å¾ˆå¤šç“¶é¢ˆ:</p><ul><li>æ•°æ®é‡å¦‚æœå¤ªå¤§ï¼Œä¸€ä¸ªæœºå™¨æ”¾ä¸ä¸‹</li><li>æ•°æ®çš„ç´¢å¼•(B+ Tree)ï¼Œä¸€ä¸ªæœºå™¨çš„å†…å­˜ä¹Ÿæ”¾ä¸ä¸‹</li><li>è®¿é—®é‡(è¯»å†™æ··åˆ)ï¼Œä¸€ä¸ªæœåŠ¡å™¨æ‰¿å—ä¸äº†</li></ul><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„è¯ï¼Œå•æœºæ¨¡å¼æ— æ³•è§£å†³ã€‚</p></li><li><p>Memcached(ç¼“å­˜)+Mysql+å‚ç›´æ‹†åˆ†(è¯»å†™åˆ†ç¦»)</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/2.png" srcset="/img/loading.gif" lazyload alt="2"></p><p>æˆ‘ä»¬é‡‡ç”¨è¯»å†™åˆ†ç¦»ï¼Œç”±ä¸€ä¸ªåº“æ¥è¿›è¡Œå†™æ•°æ®ï¼Œå…¶ä»–æ•°æ®åº“åŒæ­¥å†™åº“çš„æ•°æ®ï¼Œæä¾›è¯»æ•°æ®æœåŠ¡ã€‚</p><p>å½“ç½‘ç«™å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯åœ¨è¯»æ—¶ï¼Œæ¯æ¬¡éƒ½è¦æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±å¾ˆéº»çƒ¦ï¼Œå› æ­¤å¸Œæœ›å‡è½»æ•°æ®åº“çš„è¯»å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜(Cache)æ¥ç¼“è§£è¯»å‹åŠ›ã€‚</p><p>å‘å±•è¿‡ç¨‹ï¼šä¼˜åŒ–æ•°æ®ç»“æ„å’Œç´¢å¼•â€”&gt;æ–‡ä»¶ç¼“å­˜(ä½†æ–‡ä»¶è¯»å†™(IO)å‹åŠ›å¢å¤§ï¼Œä¹Ÿä¼šé™ä½æ•ˆç‡)â€”&gt;Memchched(å½“æ—¶çš„çƒ­é—¨æŠ€æœ¯)ã€‚</p></li><li><p>åˆ†åº“åˆ†è¡¨ + åˆ†åº“åˆ†è¡¨ + Mysqlé›†ç¾¤</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/3.png" srcset="/img/loading.gif" lazyload alt="3"></p><p>å°½ç®¡å®ç°äº†åˆ†åº“åˆ†è¡¨ï¼Œä½†æ˜¯ç”±äºæ•°æ®ç±»å‹ï¼Œæ•°æ®é‡çš„å¢åŠ (åœ°å›¾å®šä½ï¼ŒéŸ³ä¹ï¼Œçƒ­æ¦œç­‰æ•°æ®)</p><p>Mysqlç­‰å…³ç³»å‹æ•°æ®åº“å°±ä¸å¤Ÿç”¨äº†ï¼Œæ•°æ®é‡å¾ˆå¤šï¼Œå˜åŒ–å¾ˆå¤§ï¼Œä¾‹å¦‚ç»™ä¸€ä¸ª10ä¸‡è¡Œçš„æ•°æ®å¢åŠ ä¸€ä¸ªåˆ—å±æ€§ï¼Œå°†éœ€è¦ä¿®æ”¹æ‰€æœ‰10ä¸‡æ¡æ•°æ®ã€‚</p><p>å¦‚æœä½¿ç”¨Mysqlæ¥å­˜å‚¨æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œåšå®¢ï¼Œå›¾ç‰‡ç­‰ï¼Œæ•°æ®åº“çš„è¡¨å°†ä¼šå˜å¾—å¾ˆå¤§ï¼Œæ•ˆç‡ä¹Ÿä¼šé™ä½ï¼Œå¦‚æœæœ‰ä¸€ç§æ•°æ®åº“ä¸“é—¨æ¥å¤„ç†è¿™ç§æ•°æ®ï¼ŒMysqlçš„å‹åŠ›å°±ä¼šå˜å¾—ååˆ†å°ã€‚</p></li><li><p>å½“å‰æ—¶ä»£çš„äº’è”ç½‘é¡¹ç›®</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/4.png" srcset="/img/loading.gif" lazyload alt="4"></p></li></ol><h2 id="2-ä»€ä¹ˆæ˜¯NoSQLï¼Ÿ"><a href="#2-ä»€ä¹ˆæ˜¯NoSQLï¼Ÿ" class="headerlink" title="2. ä»€ä¹ˆæ˜¯NoSQLï¼Ÿ"></a>2. ä»€ä¹ˆæ˜¯NoSQLï¼Ÿ</h2><h3 id="2-1-NoSQLå®šä¹‰"><a href="#2-1-NoSQLå®šä¹‰" class="headerlink" title="2.1 NoSQLå®šä¹‰"></a>2.1 NoSQLå®šä¹‰</h3><p>â€‹    NoSQL = Not  Only  SQL(ä¸ä»…ä»…æ˜¯SQL)</p><p>â€‹    æ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“ï¼Œéšç€Web2.0äº’è”ç½‘çš„è¯ç”Ÿï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¾ˆéš¾åº”å¯¹Web2.0æ—¶ä»£ã€‚å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡çš„é«˜å¹¶å‘ç¤¾åŒºï¼Œæš´éœ²å‡º    å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ã€‚NoSQLåœ¨å½“ä»Šå¤§æ•°æ®ç¯å¢ƒä¸‹å‘å±•ååˆ†è¿…é€Ÿï¼ŒRedisæ˜¯å‘å±•æœ€å¿«çš„ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å½“ä¸‹å¿…é¡»è¦æŒæ¡çš„æŠ€æœ¯ã€‚</p><p>â€‹    å¾ˆå¤šæ•°æ®ç±»å‹ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤ç½‘ç»œï¼Œåœ°ç†ä½ç½®ï¼Œè¿™äº›æ•°æ®ç±»å‹çš„å­˜å‚¨ä¸éœ€è¦ä¸€ä¸ªç‰¹å®šçš„æ ¼å¼ï¼Œä¸éœ€è¦å¤šå°‘çš„æ“ä½œå°±å¯ä»¥æ¨ªå‘æ‰©å±•    çš„ã€‚ä¾‹å¦‚å¯ä»¥ä½¿ç”¨Map&lt;String,Object&gt;é”®å€¼å¯¹æ¥å­˜å‚¨ã€‚è€Œå…³ç³»å‹æ•°æ®åº“ä¸­çš„æ•°æ®ä¸€èˆ¬ä»¥è¡¨æ ¼çš„å½¢å¼å­˜åœ¨ï¼Œå…·æœ‰å›ºå®šçš„è¡Œå’Œåˆ—ã€‚</p><h3 id="2-2-NoSQLç‰¹ç‚¹"><a href="#2-2-NoSQLç‰¹ç‚¹" class="headerlink" title="2.2 NoSQLç‰¹ç‚¹"></a>2.2 NoSQLç‰¹ç‚¹</h3><p>â€‹    <strong>è§£è€¦ï¼</strong></p><ol><li><p>æ–¹ä¾¿æ‰©å±•ï¼ˆæ•°æ®ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œå¾ˆå¥½æ‰©å±•ï¼‰</p></li><li><p>å¤§æ•°æ®é‡çš„é«˜æ€§èƒ½ï¼ˆRedisä¸€ç§’å†™8ä¸‡æ¬¡ï¼Œè¯»å–11ä¸‡æ¬¡ï¼ŒNoSQLçš„ç¼“å­˜è®°å½•çº§ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„ç¼“å­˜ï¼Œæ€§èƒ½ä¼šæ¯”è¾ƒé«˜ï¼‰</p></li><li><p>æ•°æ®ç±»å‹æ˜¯å¤šæ ·æ€§çš„ï¼ˆä¸éœ€è¦å®ç°è®¾è®¡æ•°æ®åº“ï¼Œéšå–éšç”¨ï¼Œå¦‚æœæ•°æ®é‡å¾ˆå¤§ï¼Œè®¾è®¡è¡¨ç»“æ„æ˜¯å¾ˆéš¾çš„ï¼‰</p></li><li><p>ä¼ ç»ŸRDBMSä¸NoSQLçš„å¯¹æ¯”</p><figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">ä¼ ç»Ÿçš„RDBMSï¼š<br><span class="hljs-bullet">- </span>ç»“æ„åŒ–ç»„ç»‡<br><span class="hljs-bullet">- </span>SQL<br><span class="hljs-bullet">- </span>æ•°æ®ä¸å…³ç³»éƒ½å­˜å‚¨åœ¨å•ç‹¬çš„è¡¨ä¸­<br><span class="hljs-bullet">- </span>å…·æœ‰æ“ä½œè¯­è¨€ï¼Œæ•°æ®å®šä¹‰è¯­è¨€<br><span class="hljs-bullet">- </span>ä¸¥æ ¼çš„ä¸€è‡´æ€§<br><span class="hljs-bullet">- </span>åŸºç¡€çš„äº‹åŠ¡<br><span class="hljs-bullet">- </span>......<br></code></pre></div></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">NoSQL:<br><span class="hljs-bullet">- </span>ä¸ä»…ä»…æ˜¯æ•°æ®<br><span class="hljs-bullet">- </span>æ²¡æœ‰å›ºå®šçš„æŸ¥è¯¢è¯­è¨€ï¼Œå¯ä»¥å®šä¹‰è¯­æ³•<br><span class="hljs-bullet">- </span>é”®å€¼å¯¹å­˜å‚¨ï¼Œåˆ—å­˜å‚¨ï¼Œæ–‡æ¡£å­˜å‚¨ï¼Œå›¾å½¢æ•°æ®åº“ï¼ˆç¤¾äº¤å…³ç³»å­˜å‚¨ï¼‰<br><span class="hljs-bullet">- </span>æœ€ç»ˆä¸€è‡´æ€§<br><span class="hljs-bullet">- </span>CAPå®šç†å’ŒBASEï¼ˆå¼‚åœ°å¤šæ´»ï¼‰<br><span class="hljs-bullet">- </span>é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨ï¼Œé«˜å¯æ‰©å±•<br><span class="hljs-bullet">- </span>.....<br></code></pre></div></td></tr></table></figure></li><li><p>3vï¼šæµ·é‡ï¼Œå¤šæ ·ï¼Œå®æ—¶ï¼ˆå¤§æ•°æ®æ—¶ä»£é¢ä¸´çš„é—®é¢˜ï¼‰</p><p> 3é«˜ï¼šé«˜å¹¶å‘ï¼Œé«˜å¯æ‰©ï¼Œé«˜xingneng </p></li></ol><h2 id="3-NoSQLå››å¤§åˆ†ç±»"><a href="#3-NoSQLå››å¤§åˆ†ç±»" class="headerlink" title="3. NoSQLå››å¤§åˆ†ç±»"></a>3. NoSQLå››å¤§åˆ†ç±»</h2><ol><li><p>KVé”®å€¼å¯¹ï¼šRedisï¼ŒTairï¼ŒMemcachedâ€¦.</p></li><li><p>æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ ¼å¼ï¼Œä¸jsonç›¸åŒï¼‰ï¼š</p><ul><li>MongoDBï¼š<ul><li>ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼Œc++ç¼–å†™ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤§é‡çš„æ–‡æ¡£ã€‚</li><li>ä¸€ä¸ªä»‹äºå…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“ä¸­é—´çš„äº§å“ï¼Œæ˜¯éå…³ç³»è¡Œæ•°æ®åº“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæœ€åƒå…³ç³»å‹æ•°æ®åº“çš„ã€‚</li></ul></li><li>ConthDB</li></ul></li><li><p>åˆ—å­˜å‚¨æ•°æ®åº“ï¼šHBaseï¼Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</p></li><li><p>å›¾å…³ç³»æ•°æ®åº“(ä½¿ç”¨å›¾ç»“æ„å­˜å‚¨å…³ç³»)</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/5.png" srcset="/img/loading.gif" lazyload alt="å›¾å…³ç³»"></p></li></ol><p><strong>å››ç§ç±»å‹å¯¹æ¯”:</strong></p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/6.png" srcset="/img/loading.gif" lazyload alt="å››ç§NoSQLæ•°æ®åº“å¯¹æ¯”"></p><h2 id="4-Redisç®€ä»‹"><a href="#4-Redisç®€ä»‹" class="headerlink" title="4. Redisç®€ä»‹"></a>4. Redisç®€ä»‹</h2><ul><li><p>Redis(Remote Dictionary Server)ï¼Œè¿œç¨‹å­—å…¸æœåŠ¡ã€‚</p></li><li><p>æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSI <a href="https://baike.baidu.com/item/C%E8%AF%AD%E8%A8%80">Cè¯­è¨€</a>ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€Key-Value<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93/103728">æ•°æ®åº“</a>ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚</p></li><li><p>åŠŸèƒ½</p><ul><li>å†…å­˜å­˜å‚¨ï¼ŒæŒä¹…åŒ–ï¼Œå†…å­˜ä¸­æ˜¯æ–­ç”µå³å¤±ï¼Œå› æ­¤éœ€è¦åšæŒä¹…åŒ–ï¼ˆrbdï¼Œaof   ???)</li><li>æ•ˆç‡é«˜ï¼Œå¯ç”¨äºé«˜é€Ÿç¼“å­˜</li><li>å‘å¸ƒè®¢é˜…ç³»ç»Ÿ</li><li>åœ°å›¾ä¿¡æ¯åˆ†æ</li><li>è®¡æ—¶å™¨ï¼Œè®¡æ•°å™¨ï¼ˆç»Ÿè®¡æµè§ˆé‡â€¦ï¼‰</li><li>â€¦â€¦</li></ul></li><li><p>ç‰¹æ€§</p><ul><li>å¤šæ ·çš„æ•°æ®ç±»å‹</li><li>æŒä¹…åŒ–</li><li>é›†ç¾¤</li><li>äº‹åŠ¡</li><li>â€¦â€¦.</li></ul></li><li><p>å‚è€ƒ</p><ul><li><a href="https://redis.io/">Rediså®˜ç½‘</a></li><li><a href="http://www.redis.cn/">Redisä¸­æ–‡å®˜ç½‘</a></li></ul></li><li><p>ä¸€èˆ¬åœ¨LinuxæœåŠ¡å™¨ä¸Šéƒ¨ç½²Redis</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexoå¸¸ç”¨æ“ä½œ</title>
    <link href="/2021/11/09/Hexo%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"/>
    <url>/2021/11/09/Hexo%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h2 id="Hexoæ¡†æ¶æ“ä½œ"><a href="#Hexoæ¡†æ¶æ“ä½œ" class="headerlink" title="Hexoæ¡†æ¶æ“ä½œ"></a>Hexoæ¡†æ¶æ“ä½œ</h2><ul><li>hexo -clean    æ¸…é™¤æ—§æ–‡ä»¶</li><li>hexo -g           ç”Ÿæˆæœ€æ–°</li><li>hexo -d          æäº¤</li><li>hexo -s          å¯åŠ¨æœ¬åœ°é¢„è§ˆ</li><li>ssh -T  <a href="mailto:&#103;&#105;&#116;&#64;&#x67;&#105;&#116;&#x68;&#x75;&#x62;&#x2e;&#99;&#111;&#x6d;">&#103;&#105;&#116;&#64;&#x67;&#105;&#116;&#x68;&#x75;&#x62;&#x2e;&#99;&#111;&#x6d;</a>    éªŒè¯æ˜¯å¦ä¸æœåŠ¡å™¨è¿æ¥æˆåŠŸ</li></ul><h2 id="Front-matterå˜é‡"><a href="#Front-matterå˜é‡" class="headerlink" title="Front-matterå˜é‡"></a>Front-matterå˜é‡</h2><ul><li>title    æ–‡ç« æ ‡é¢˜</li><li>index_img     é¦–é¡µæ˜¾ç¤ºå›¾ç‰‡</li><li>date    æ—¥æœŸ</li><li>hide    æ–‡ç« æ˜¯å¦éšè—</li><li>tags      æ–‡ç« æ ‡ç­¾</li><li>categories    åˆ†ç±»</li><li>sticky    ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå¤§è¶Šé å‰</li><li>top    ä¸stickyåŠŸèƒ½ä¸€è‡´</li><li>banner_img    æ–‡ç« é¡µé¡¶éƒ¨æ”¾å¤§å›¾ï¼Œå›¾ç‰‡è·¯å¾„ä¸ºï¼ˆ/img/name.jpgï¼‰</li><li>excerpt    æ‘˜è¦ï¼Œé¦–é¡µæ˜¾ç¤º</li></ul><h2 id="æ·»åŠ ä¾¿ç­¾"><a href="#æ·»åŠ ä¾¿ç­¾" class="headerlink" title="æ·»åŠ ä¾¿ç­¾"></a>æ·»åŠ ä¾¿ç­¾</h2><p>â€‹    åœ¨markdownä¸­ä½¿ç”¨å¦‚ä¸‹ä»£ç æ·»åŠ ä¾¿ç­¾ï¼š</p><figure class="highlight mel"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mel">&#123;% note success %&#125;   <span class="hljs-comment">//å•ç‹¬ä¸€è¡Œï¼Œsuccessä¸ºä¾¿ç­¾ç±»åˆ«ï¼Œå…·ä½“ç§ç±»å¦‚ä¸‹</span><br>æ–‡å­— æˆ–è€… <span class="hljs-string">`markdown`</span> å‡å¯<br>&#123;% endnote %&#125;    <span class="hljs-comment">//å•ç‹¬ä¸€è¡Œ</span><br></code></pre></div></td></tr></table></figure><p>â€‹    ä¾¿ç­¾ç§ç±»å¦‚ä¸‹ï¼š<img src="/2021/11/09/Hexo%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/1.png" srcset="/img/loading.gif" lazyload alt="ä¾¿ç­¾ç§ç±»"></p><h2 id="è¡Œå†…ä¾¿ç­¾"><a href="#è¡Œå†…ä¾¿ç­¾" class="headerlink" title="è¡Œå†…ä¾¿ç­¾"></a>è¡Œå†…ä¾¿ç­¾</h2><p>â€‹    åœ¨markdownä¸­åŠ å…¥å¦‚ä¸‹ä»£ç æ¥ä½¿ç”¨Lable:</p><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">&#123;% label <span class="hljs-keyword">primary</span> @<span class="hljs-type">text</span> %&#125; //label  ***ä¸ºä¾¿ç­¾ç§ç±»ï¼Œ@+<span class="hljs-type">text</span>ä¸ºæ˜¾ç¤ºæ–‡å­—ï¼Œä½†<span class="hljs-type">text</span>ä¸èƒ½ä»¥@å¼€å¤´<br></code></pre></div></td></tr></table></figure><p>â€‹    Lableç§ç±»å¦‚ä¸‹ï¼š</p><p>â€‹    <span class="label label-primary">primary</span> <span class="label label-default">default</span> <span class="label label-info">info</span> <span class="label label-success">success</span> <span class="label label-warning">warning</span> <span class="label label-danger">danger</span></p><p>â€‹    ç¤ºä¾‹ï¼šå†™ä¸‹ä»£ç <code>&#123;% label primary @12345 %&#125;</code>ï¼Œå°†ä¼šå‡ºç°ä¸€ä¸ªLableï¼š<span class="label label-primary">12345</span></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¬¢è¿åˆ°è®¿ï¼</title>
    <link href="/2021/11/09/%E6%AC%A2%E8%BF%8E%E5%88%B0%E8%AE%BF%EF%BC%81/"/>
    <url>/2021/11/09/%E6%AC%A2%E8%BF%8E%E5%88%B0%E8%AE%BF%EF%BC%81/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p><strong>æ‰€è°“ç†æƒ³ï¼Œåªæ˜¯åŒæ—¶æ‹¥æœ‰å®åŠ›çš„äººæ‰èƒ½è¯´çš„â€œç°å®â€ã€‚</strong></p>          </div><h1 id="æœ¬ç«™æ›´æ–°è®°å½•"><a href="#æœ¬ç«™æ›´æ–°è®°å½•" class="headerlink" title="æœ¬ç«™æ›´æ–°è®°å½•"></a>æœ¬ç«™æ›´æ–°è®°å½•</h1><h2 id="2021-11-9"><a href="#2021-11-9" class="headerlink" title="2021.11.9"></a>2021.11.9</h2><ul><li>å­—ä½“ä¿®æ”¹å®Œæˆï¼Œæ•™ç¨‹åœ¨ä¸‹é¢</li><li>å¢åŠ ICPå¤‡æ¡ˆå·</li></ul><h2 id="2021-11-6"><a href="#2021-11-6" class="headerlink" title="2021.11.6"></a>2021.11.6</h2><ul><li>åˆ©ç”¨hexo-asset-imageæ’ä»¶è§£å†³äº†å›¾ç‰‡ä¸Šä¼ çš„é—®é¢˜ï¼Œå…·ä½“è§æ–‡ç« </li><li>ä¸ºåŸŸååŠ ä¸Šäº†SSLè¯ä¹¦ï¼ˆé˜¿é‡Œäº‘å¯å…è´¹ç”³è¯·ï¼Œç™¾åº¦æ•™ç¨‹ï¼Œå¾ˆå¿«è§£å†³ï¼‰ï¼Œå¹¶åœ¨githubä¸Šè®¾ç½®pagesä¸ºå¼ºåˆ¶HTTPSï¼Œè¿™æ ·å°±ç®—è¾“å…¥HTTPï¼Œä¹Ÿä¼šå¼ºè½¬ä¸ºHTTPSï¼Œç»ˆäºæ˜¯ä¸€ä¸ªå®‰å…¨çš„ç«™ç‚¹äº†</li></ul><h2 id="2021-10-20"><a href="#2021-10-20" class="headerlink" title="2021.10.20"></a>2021.10.20</h2><ul><li>å¢åŠ äº†è¿è¡Œæ—¶é—´</li><li>å¢åŠ äº†è½¬è½½ç‰ˆæƒæ ‡è¯†ï¼ˆé“¾æ¥å†…å®¹æœ‰é—®é¢˜ï¼Œæœªè§£å†³ï¼‰</li><li>é¡µé¢åº•éƒ¨å†…å®¹ä¿®æ”¹</li><li>å­—ä½“ä¿®æ”¹ï¼šå‚è€ƒï¼š<a href="https://bestzuo.cn/posts/notoserifsc.html">åšå®¢ç½‘ç«™å­—ä½“è®¾ç½®ï¼šæ€æºå®‹ä½“ (bestzuo.cn)</a>ï¼Œ<a href="https://www.erenship.com/posts/40222.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93">Hexoâ€™s Fluid ä¸»é¢˜ç§äººå®šåˆ¶ï¼ˆæŒç»­æ›´æ–°ï¼‰ - Eren ã® å®‡å®™èˆ¹ (erenship.com)</a></li></ul><h2 id="2021-10-19"><a href="#2021-10-19" class="headerlink" title="2021.10.19"></a>2021.10.19</h2><ul><li>å®Œå–„ä¸ªäººä¿¡æ¯</li><li>å¢åŠ äº†ç½‘é¡µè®¿é—®é‡ç»Ÿè®¡</li><li>å‘ç°é¦–é¡µçš„æ–‡ç« æ˜¯å¯ä»¥é…å›¾çš„ï¼ˆåŸæ¥ä¸æ˜¯ä¸»é¢˜ä¸å¥½ï¼Œæ˜¯æˆ‘å¤ªèœä¸ä¼šç”¨Ï€_Ï€ï¼‰</li><li>ä¸ä¼šåŠ è¯„è®ºåŠŸèƒ½ã€‚ã€‚ã€‚</li><li>wocï¼Œä¸¤ä¸ªå°æ—¶å€™è¯„è®ºåŠŸèƒ½æˆåŠŸäº†ï¼Œå…¶å®è®¾ç½®å¥½ç®€å•ã€‚ã€‚</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hexoè§£å†³å›¾ç‰‡é“¾æ¥é—®é¢˜</title>
    <link href="/2021/11/06/hexo%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E9%97%AE%E9%A2%98/"/>
    <url>/2021/11/06/hexo%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨ Hexo æ’°å†™åšæ–‡æ—¶ï¼Œæ—¶å¸¸éœ€è¦å°†å›¾ç‰‡åµŒå…¥ md æ–‡ç« ä¸­ï¼Œä½†å¾€å¾€ç”±äºå›¾ç‰‡ä¿å­˜åœ¨æœ¬åœ°ä¸»æœºï¼Œå› æ­¤åœ¨ç½‘é¡µä¸­é“¾æ¥å›¾ç‰‡æ—¶ï¼Œä¼šæ— æ³•è·å–æœ¬åœ°ä¸»æœºçš„å›¾ç‰‡ï¼Œå¯¼è‡´å›¾ç‰‡ä¸æ­£å¸¸æ˜¾ç¤ºï¼Œåœ¨è¿™é‡Œæˆ‘é€šè¿‡ä½¿ç”¨Hexoæ’ä»¶çš„æ–¹å¼ï¼Œä¿è¯å›¾ç‰‡å¯ä»¥æ­£å¸¸ä¸Šä¼ ã€‚</p><ol><li><p>é¦–å…ˆå®‰è£…ä¸€ä¸ªå›¾ç‰‡è·¯å¾„è½¬æ¢çš„æ’ä»¶ï¼š<code>hexo-asset-image</code>ï¼Œåœ¨Hexoä¸»æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><p><code>npm install https://github.com/CodeFalling/hexo-asset-image --save</code></p></li><li><p> æ‰“å¼€_config.ymlæ–‡ä»¶ï¼Œå°†<code>post_asset_folder: false</code>ä¿®æ”¹ä¸º<code>true</code></p></li><li><p> ç”±äºè¯¥æ’ä»¶æœ¬èº«å¯èƒ½ä¼šå­˜åœ¨ä¸€ä¸‹Bugï¼Œå› æ­¤å°†<code>/node_modules/hexo-asset-image/index.js</code>æ–‡ä»¶çš„å†…å®¹æ›´æ”¹ä¸ºå¦‚ä¸‹ä»£ç ï¼š</p></li></ol>   <figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">var</span> cheerio = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;cheerio&#x27;</span>);<br><br><span class="hljs-comment">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPosition</span>(<span class="hljs-params">str, m, i</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> str.split(m, i).join(m).length;<br>&#125;<br><br><span class="hljs-keyword">var</span> version = <span class="hljs-built_in">String</span>(hexo.version).split(<span class="hljs-string">&#x27;.&#x27;</span>);<br>hexo.extend.filter.register(<span class="hljs-string">&#x27;after_post_render&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;<br>  <span class="hljs-keyword">var</span> config = hexo.config;<br>  <span class="hljs-keyword">if</span>(config.post_asset_folder)&#123;<br>    <span class="hljs-keyword">var</span> link = data.permalink;<br><span class="hljs-keyword">if</span>(version.length &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">Number</span>(version[<span class="hljs-number">0</span>]) == <span class="hljs-number">3</span>)<br>   <span class="hljs-keyword">var</span> beginPos = getPosition(link, <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span><br>   <span class="hljs-keyword">var</span> beginPos = getPosition(link, <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">3</span>) + <span class="hljs-number">1</span>;<br><span class="hljs-comment">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span><br><span class="hljs-keyword">var</span> endPos = link.lastIndexOf(<span class="hljs-string">&#x27;/&#x27;</span>) + <span class="hljs-number">1</span>;<br>    link = link.substring(beginPos, endPos);<br><br>    <span class="hljs-keyword">var</span> toprocess = [<span class="hljs-string">&#x27;excerpt&#x27;</span>, <span class="hljs-string">&#x27;more&#x27;</span>, <span class="hljs-string">&#x27;content&#x27;</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; toprocess.length; i++)&#123;<br>      <span class="hljs-keyword">var</span> key = toprocess[i];<br> <br>      <span class="hljs-keyword">var</span> $ = cheerio.load(data[key], &#123;<br>        <span class="hljs-attr">ignoreWhitespace</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">xmlMode</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">lowerCaseTags</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">decodeEntities</span>: <span class="hljs-literal">false</span><br>      &#125;);<br><br>      $(<span class="hljs-string">&#x27;img&#x27;</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-keyword">if</span> ($(<span class="hljs-built_in">this</span>).attr(<span class="hljs-string">&#x27;src&#x27;</span>))&#123;<br><span class="hljs-comment">// For windows style path, we replace &#x27;\&#x27; to &#x27;/&#x27;.</span><br><span class="hljs-keyword">var</span> src = $(<span class="hljs-built_in">this</span>).attr(<span class="hljs-string">&#x27;src&#x27;</span>).replace(<span class="hljs-string">&#x27;\\&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>);<br><span class="hljs-keyword">if</span>(!<span class="hljs-regexp">/http[s]*.*|\/\/.*/</span>.test(src) &amp;&amp;<br>   !<span class="hljs-regexp">/^\s*\//</span>.test(src)) &#123;<br>  <span class="hljs-comment">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span><br>  <span class="hljs-comment">// In addition, to support multi-level local directory.</span><br>  <span class="hljs-keyword">var</span> linkArray = link.split(<span class="hljs-string">&#x27;/&#x27;</span>).filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>)</span>&#123;<br><span class="hljs-keyword">return</span> elem != <span class="hljs-string">&#x27;&#x27;</span>;<br>  &#125;);<br>  <span class="hljs-keyword">var</span> srcArray = src.split(<span class="hljs-string">&#x27;/&#x27;</span>).filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>)</span>&#123;<br><span class="hljs-keyword">return</span> elem != <span class="hljs-string">&#x27;&#x27;</span> &amp;&amp; elem != <span class="hljs-string">&#x27;.&#x27;</span>;<br>  &#125;);<br>  <span class="hljs-keyword">if</span>(srcArray.length &gt; <span class="hljs-number">1</span>)<br>srcArray.shift();<br>  src = srcArray.join(<span class="hljs-string">&#x27;/&#x27;</span>);<br>  $(<span class="hljs-built_in">this</span>).attr(<span class="hljs-string">&#x27;src&#x27;</span>, config.root + link + src);<br>  <span class="hljs-built_in">console</span>.info&amp;&amp;<span class="hljs-built_in">console</span>.info(<span class="hljs-string">&quot;update link as:--&gt;&quot;</span>+config.root + link + src);<br>&#125;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-built_in">console</span>.info&amp;&amp;<span class="hljs-built_in">console</span>.info(<span class="hljs-string">&quot;no src attr, skipped...&quot;</span>);<br><span class="hljs-built_in">console</span>.info&amp;&amp;<span class="hljs-built_in">console</span>.info($(<span class="hljs-built_in">this</span>));<br>&#125;<br>      &#125;);<br>      data[key] = $.html();<br>    &#125;<br>  &#125;<br>&#125;);<br><br><br></code></pre></div></td></tr></table></figure><ol start="4"><li><p>å°è¯•æ–°å»ºä¸€ä¸ªmdæ–‡ä»¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨åœ¨_postç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªä¸mdæ–‡ä»¶åŒåçš„ç›®å½•ï¼Œä¹‹åå‘mdæ–‡ä»¶ä¸­åŠ å…¥å›¾ç‰‡æ—¶ï¼Œéœ€è¦å°†è¯¥å›¾ç‰‡å…ˆæ”¾åˆ°åŒåç›®å½•ä¸‹ï¼Œç„¶åä½¿ç”¨å›¾ç‰‡é“¾æ¥åŠ å…¥å›¾ç‰‡ï¼Œå®ä¾‹ï¼š</p><ul><li><p><code>hexo -new &quot;hexoè§£å†³å›¾ç‰‡é“¾æ¥é—®é¢˜&quot;</code></p></li><li><p>æ¥ä¸‹æ¥ä¼šçœ‹åˆ°_postç›®å½•ä¸‹ç”Ÿæˆäº†mdæ–‡ä»¶å’ŒåŒåçš„æ–‡ä»¶å¤¹ï¼Œå¦‚å›¾ï¼š<img src="/2021/11/06/hexo%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E9%97%AE%E9%A2%98/1.png" srcset="/img/loading.gif" lazyload alt="ç”Ÿæˆç»“æœ"></p></li><li><p>ä½¿ç”¨è§„å®šçš„å›¾ç‰‡é“¾æ¥è¯­æ³•ä¾¿å¯ä»¥é“¾æ¥å›¾ç‰‡ï¼š<code>[ç”Ÿæˆç»“æœ](1.png)</code>ï¼Œä¸éœ€è¦å†™è·¯å¾„ï¼Œæ’ä»¶å¯ä»¥è‡ªå·±è½¬æ¢ï¼Œåªéœ€è¦æŠŠå›¾ç‰‡åå†™å‡ºæ¥å°±è¡Œã€‚</p></li></ul><p>å‚è€ƒé“¾æ¥ï¼š</p><p>â€‹    <a href="https://blog.csdn.net/xjm850552586/article/details/84101345?spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-5.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-5.no_search_link"> hexoå¼•ç”¨æœ¬åœ°å›¾ç‰‡æ— æ³•æ˜¾ç¤º_Ericam_-CSDNåšå®¢_hexo å›¾ç‰‡</a></p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Add Domain</title>
    <link href="/2021/10/23/add-domain/"/>
    <url>/2021/10/23/add-domain/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸŸåæ·»åŠ "><a href="#åŸŸåæ·»åŠ " class="headerlink" title="åŸŸåæ·»åŠ "></a>åŸŸåæ·»åŠ </h1><p>â€‹    åœ¨æˆåŠŸé…ç½®å¥½åšå®¢å¹¶éƒ¨ç½²åœ¨githubä¸Šä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>xxxxx.github.io</code>çš„æ–¹å¼å»è®¿é—®åšå®¢ï¼Œä½†æ˜¯æˆ‘æƒ³ä¸ºè‡ªå·±çš„åšå®¢é…ç½®ä¸€ä¸ªè‡ªå·±    çš„åŸŸåï¼Œä¾‹å¦‚æœ¬åšå®¢çš„åŸŸåï¼š<a href="www.ziyikee.fun">www.ziyikee.fun</a> ,å› æ­¤ä¾¿éœ€è¦å»é…ç½®ä¸€ä¸ªè‡ªå·±æƒ³è¦çš„åŸŸåã€‚</p><p>â€‹    é¦–å…ˆéœ€è¦åœ¨é˜¿é‡Œäº‘æˆ–è…¾è®¯äº‘ç­‰å‚å•†é‚£é‡Œå»ä¹°ä¸€ä¸ªåŸŸåï¼Œæ¯”å¦‚æˆ‘çš„åŸŸåæ˜¯åœ¨é˜¿é‡Œäº‘ä¸Šè´­ä¹°çš„ï¼Œåœ¨è´­ä¹°åŸŸåä¹‹åï¼Œæœ¬æ¥ä»¥ä¸ºéœ€è¦å¯¹åŸŸåè¿›è¡Œ    å¤‡æ¡ˆæ‰å¯ä»¥ä½¿ç”¨è¯¥åŸŸåï¼Œç„¶è€Œåœ¨è¿›è¡ŒIPCå¤‡æ¡ˆæ—¶ï¼Œå¯¹åŸŸåå¤‡æ¡ˆåˆéœ€è¦å¤‡æ¡ˆæœåŠ¡ç ï¼Œä½ å¿…é¡»æœ‰è‡ªå·±çš„æœåŠ¡å™¨æ‰èƒ½è·å¾—è¿™ä¸ªå¤‡æ¡ˆæœåŠ¡ç ï¼Œå›     æ­¤æˆ‘ä¸€ç›´ä»¥ä¸ºè¿˜éœ€è¦å†ä¹°ä¸€å°æœåŠ¡å™¨æ‰è¡Œï¼Œä½†æ˜¯ç”±äºæˆ‘çš„åšå®¢æ˜¯ç›´æ¥éƒ¨ç½²åœ¨githubä¸Šçš„ï¼Œå¹¶ä¸éœ€è¦è‡ªå·±é…ç½®æœåŠ¡å™¨ï¼Œç°åœ¨ä¹Ÿæ²¡æœ‰ä½¿ç”¨æœ    åŠ¡å™¨çš„éœ€æ±‚ï¼ˆæœåŠ¡å™¨è´µçš„ä¸€æ‰¹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¥ä¸ºé…ç½®åŸŸåä¼°è®¡è¦ggäº†ã€‚</p><p>â€‹    ä½†æ˜¯åœ¨çŸ¥ä¹æŸ¥æ•™ç¨‹å‘ç°ï¼Œå°†ä¸€ä¸ªåŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåå…¶å®å¹¶ä¸éœ€è¦å¤‡æ¡ˆï¼ˆÏ€â€”Ï€ï¼‰ï¼Œåªéœ€è¦ä¸‹é¢å‡ æ­¥ç®€å•çš„æ“ä½œå°±è¡Œäº†ï¼š</p><ul><li><p>é¦–å…ˆè¦è´­ä¹°ä¸€ä¸ªåŸŸåï¼Œå„å¤§å‚å•†éƒ½æœ‰å–ï¼Œç›´æ¥ç™¾åº¦æœç´¢å³å¯</p></li><li><p>åœ¨åŸŸåç®¡ç†å¤„è¿›è¡ŒåŸŸåè§£æï¼Œæ·»åŠ ä¸¤æ¡æ–°çš„è®°å½•</p><ol><li>è®°å½•ç±»å‹ä¸ºï¼šCNAMEï¼ˆå°†ä¸€ä¸ªåŸŸåæ‰§è¡Œå¦ä¸€ä¸ªåŸŸåï¼‰ï¼Œä¸»æœºè®°å½•ä¸ºï¼šwwwï¼Œè®°å½•å€¼ä¸ºï¼šxxxxx.github.ioï¼Œä¿å­˜è®°å½•</li><li>è®°å½•ç±»å‹ä¸ºï¼šCNAMEï¼ˆå°†ä¸€ä¸ªåŸŸåæ‰§è¡Œå¦ä¸€ä¸ªåŸŸåï¼‰ï¼Œä¸»æœºè®°å½•ä¸ºï¼š@ï¼Œè®°å½•å€¼ä¸ºï¼šxxxxx.github.ioï¼Œä¿å­˜è®°å½•</li></ol></li></ul><ul><li><p>ä¹‹åå†æœ¬åœ°hexoçš„sourceç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºä½ çš„åŸŸåï¼Œå¦‚ziyikee.funï¼Œä¿å­˜æ–‡ä»¶</p></li><li><p>hexo g   hexo dï¼Œéƒ¨ç½²åˆ°githubä¹‹åï¼Œä¾¿å¯ä»¥é€šè¿‡ä½ çš„åŸŸåç›´æ¥è®¿é—®åšå®¢ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>èƒŒåŒ…ä¹è®²-è‡ªè¯‘ç‰ˆèƒŒåŒ…</title>
    <link href="/2021/10/18/%E8%83%8C%E5%8C%85%E4%B9%9D%E8%AE%B2-%E8%87%AA%E8%AF%91%E7%89%88/"/>
    <url>/2021/10/18/%E8%83%8C%E5%8C%85%E4%B9%9D%E8%AE%B2-%E8%87%AA%E8%AF%91%E7%89%88/</url>
    
    <content type="html"><![CDATA[<h1 id="èƒŒåŒ…ä¹è®²â€”è‡ªè¯‘ç‰ˆ"><a href="#èƒŒåŒ…ä¹è®²â€”è‡ªè¯‘ç‰ˆ" class="headerlink" title="èƒŒåŒ…ä¹è®²â€”è‡ªè¯‘ç‰ˆ"></a>èƒŒåŒ…ä¹è®²â€”è‡ªè¯‘ç‰ˆ</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ‰€è°“è‡ªè¯‘ç‰ˆï¼Œå°±æ˜¯å°†æŸå´”å¤§ç¥çš„èƒŒåŒ…ä¹è®²ï¼Œç”¨è‡ªå·±ç†è§£çš„æ„æ€æŠ„ä¸€éÏ€ï¹Ï€ï¼ˆåŸºæœ¬ç»“æ„ä¸å†…å®¹ä¸åŸç‰ˆä¸€è‡´ï¼‰ï¼Œåœ¨æœ€åˆç†è§£èƒŒåŒ…é—®é¢˜æ—¶ï¼Œæ„Ÿè§‰ååˆ†éš¾æ‡‚ï¼Œçœ‹åŠå¤©ä¸çŸ¥æ‰€äº‘ï¼Œå› æ­¤æœ¬æ–‡ç”¨è‡ªå·±æ›´å®¹æ˜“ç†è§£çš„è¯­è¨€å¤è¿°ä¸€éâ€œèƒŒåŒ…ä¹è®²â€ï¼Œæ–¹ä¾¿æ—¥åå¤ä¹ æ—¶æ›´æ–¹ä¾¿å¿«æ·ã€‚</p><h2 id="1-01èƒŒåŒ…é—®é¢˜"><a href="#1-01èƒŒåŒ…é—®é¢˜" class="headerlink" title="1.01èƒŒåŒ…é—®é¢˜"></a>1.01èƒŒåŒ…é—®é¢˜</h2><p><strong>é¢˜ç›®</strong></p><p>æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ã€‚æ”¾å…¥ç¬¬iä»¶ç‰©å“æ‰€å ç”¨çš„å®¹é‡æ˜¯c [ i ] ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯w [ i ] ,æ±‚å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿ä»·å€¼æ€»å’Œæœ€å¤§.ï¼ˆç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ€ä¹ˆåœ¨å®¹é‡æœ‰é™çš„æƒ…å†µä¸‹ï¼Œä½¿å¾—è¿™ä¸ªèƒŒåŒ…é‡Œçš„ç‰©å“ä»·å€¼æ€»å’Œæœ€å¤§ï¼‰ã€‚</p><p><strong>åŸºæœ¬æ€è·¯</strong></p><p>è¿™æ˜¯æœ€åŸºç¡€çš„èƒŒåŒ…é—®é¢˜ï¼Œç‰¹ç‚¹æ˜¯ï¼šæ¯ä»¶ç‰©å“ä»…æœ‰ä¸€ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ”¾æˆ–ä¸æ”¾ï¼ˆè¿™ä¸€æ¡ä»¶åœ¨åé¢èƒŒåŒ…é—®é¢˜çš„å»¶ä¼¸ä¸­ä¼šæœ‰æ‰€å˜åŒ–ï¼Œè¿™é‡Œæ˜¯æœ€å…¸å‹æœ€åŸºç¡€çš„èƒŒåŒ…é—®é¢˜ã€‚</p><p>ç”¨å­é—®é¢˜å®šä¹‰çŠ¶æ€ï¼šå³f [ i ] [ j ]è¡¨ç¤ºå‰  i ä»¶ç‰©å“æ°æ”¾å…¥ä¸€ä¸ªå®¹é‡ä¸º  j çš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ï¼ˆè¿™é‡ŒåŸæ–‡ä¸­ä½¿ç”¨äº†â€œæ°â€ï¼Œä½†å®é™…å¹¶ä¸éœ€è¦æ­£å¥½è£…æ»¡ï¼Œåœ¨åˆå§‹åŒ–å¯ä»¥åŒºåˆ†å¼€è¿™ä¸¤ç§æƒ…å†µï¼Œä¸‹æ–‡æœ‰æåŠï¼‰ã€‚åˆ™å…¶çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¾¿æ˜¯ï¼š</p><figure class="highlight inform7"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs inform7">f<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>=max(f<span class="hljs-comment">[iâˆ’1]</span><span class="hljs-comment">[j]</span>,f<span class="hljs-comment">[iâˆ’1]</span><span class="hljs-comment">[jâˆ’c<span class="hljs-comment">[i]</span>]</span>+w<span class="hljs-comment">[i]</span>)<br></code></pre></div></td></tr></table></figure><p>è¿™ä¸ªæ–¹ç¨‹éå¸¸é‡è¦ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰è·ŸèƒŒåŒ…ç›¸å…³çš„é—®é¢˜çš„æ–¹ç¨‹éƒ½æ˜¯ç”±å®ƒè¡ç”Ÿå‡ºæ¥çš„ï¼Œå› æ­¤æœ‰å¿…è¦è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼šâ€œå°†å‰ i ä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸º j çš„èƒŒåŒ…ä¸­â€è¿™ä¸ªå­é—®é¢˜ï¼Œè‹¥åªè€ƒè™‘ç¬¬ i ä»¶ç‰©å“çš„ç­–ç•¥ï¼ˆæ”¾æˆ–ä¸æ”¾ï¼‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªåªä¸å‰ i - 1 ä»¶ç‰©å“çš„é—®é¢˜ã€‚å¦‚æœä¸æ”¾ç¬¬ i ä»¶ç‰©å“ï¼Œé‚£ä¹ˆå°±è½¬åŒ–ä¸ºâ€œå‰ i- 1 ä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸º j çš„èƒŒåŒ…ä¸­â€ï¼Œå…¶æœ€å¤§ä»·å€¼ä¸º <em>f</em> [i-1] [j]; å¦‚æœæ”¾ç¬¬ i ä»¶ç‰©å“ï¼Œé‚£ä¹ˆé—®é¢˜å°±è½¬åŒ–ä¸ºâ€œå‰ i -1ä»¶ç‰©å“æ”¾å…¥å‰©ä¸‹çš„å®¹é‡ä¸º j - c[j]çš„èƒŒåŒ…ä¸­â€ï¼Œæ­¤æ—¶èƒ½è·å–çš„æœ€å¤§ä»·å€¼å°±æ˜¯ <em>f</em> [i-1] [ j - c[ i ]]å†åŠ ä¸Šç¬¬ i ä»¶ç‰©å“è·å¾—çš„ä»·å€¼ w[i]ã€‚å…¶ä¼ªä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">F</span>[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>..V ] â† <span class="hljs-number">0</span> //åˆå§‹å€¼ä¸º<span class="hljs-number">0</span>ï¼Œè¿™ä¸å…·ä½“é—®é¢˜æœ‰å…³ï¼Œä¸‹é¢ä¼šè¯¦ç»†è§£é‡Š<br><span class="hljs-attribute">for</span> i â† <span class="hljs-number">1</span> to N //ç¬¬<span class="hljs-number">1</span>ä¸ªè£…å…¥Vï¼Œç¬¬<span class="hljs-number">2</span>ä¸ªè£…å…¥V......<br><span class="hljs-attribute">for</span> v â† Ci to V //ç¬¬iä¸ªè£…å…¥vï¼Œè£…å…¥v-<span class="hljs-number">1</span>.....<br><span class="hljs-attribute">F</span>[i, v] â† max&#123;F[i âˆ’ <span class="hljs-number">1</span>, v], F[i âˆ’ <span class="hljs-number">1</span>, v âˆ’ Ci] + Wi&#125;<br><br></code></pre></div></td></tr></table></figure><p><strong>ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦</strong></p><p>ä¸Šè¿°æ–¹æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º<em>O</em>ï¼ˆV *Nï¼‰,å…¶ä¸­æ—¶é—´å¤æ‚åº¦å·²ç»æ— æ³•ç»§ç»­ä¼˜åŒ–ï¼Œä½†ç©ºé—´å¤æ‚åº¦å¯ä»¥ä¼˜åŒ–åˆ° <em>O</em>(N)ã€‚</p><p>å› ä¸ºæ¯æ¬¡å¾ªç¯çš„å†…éƒ¨éƒ½æ˜¯ï¼š<code>f[i][j]=max(f[iâˆ’1][j],f[iâˆ’1][jâˆ’c[i]]+w[i])</code>ï¼Œå› æ­¤åœ¨å¤–å±‚å¾ªç¯ä¸­ï¼Œæ˜¯å˜é‡iåœ¨å·²çŸ¥è¿›è¡Œ+1çš„å¾ªç¯ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬åªç”¨<em>f</em> [ j ]ç”¨æ¥è¡¨ç¤ºæ¯æ¬¡å¾ªç¯æ—¶ï¼Œå½“å‰å¾ªç¯ç¬¬ i æ¬¡æ—¶å‘å®¹é‡ä¸º j çš„èƒŒåŒ…ä¸­è¿›è¡Œé€‰æ‹©ï¼ˆé’ˆå¯¹ç¬¬ i ä¸ªç‰©å“æ”¾ä¸ä¸æ”¾çš„é€‰æ‹©ï¼‰ï¼Œé‚£ä¹ˆä¸Šä¸€æ¬¡å¾ªç¯ï¼ˆç¬¬ i -1æ¬¡ï¼Œç¬¬ i - 1ä¸ªç‰©å“ï¼‰è®¡ç®—çš„ç»“æœï¼Œåˆ°å½“å‰å¾ªç¯ï¼ˆç¬¬ i æ¬¡ï¼Œç¬¬ i ä¸ªç‰©å“ï¼‰æ—¶ï¼Œåœ¨ç¬¬äºŒæ¬¡å¾ªç¯åˆ° j æ—¶ï¼Œæˆ‘ä»¬çš„ <em>f</em> [ j ]çš„å€¼ï¼Œå…¶å®å°±æ˜¯ <em>f</em> [ i-1] [ j ]ï¼Œ<em>f</em> [ j - c[i]]çš„å€¼å…¶å®å°±æ˜¯ä¸Šä¸€è½®çš„ <em>f</em> [ i-1] [ j - c[i]]ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬åœ¨ç¬¬äºŒå±‚å¾ªç¯ä¸­ä½¿ç”¨å€’åºï¼šj ä»Våˆ° c [ i ]ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è®¡ç®—æ—¶ï¼Œå°±å¯ä»¥åˆ©ç”¨ä¸Šä¸€è½®çš„è®¡ç®—å€¼ï¼Œå°†å¾ªç¯è¯­å¥æ”¹ä¸ºï¼š<code> f[j] = max(f[j], f[j - c[i]] + w[i]);</code>ï¼Œå› ä¸ºæ˜¯å€’åºï¼Œæ‰€ä»¥åœ¨æœªæ”¹å˜å‰é¢çš„å€¼ä¹‹å‰ï¼Œä»–ä»¬ä¿å­˜çš„æ˜¯ä¸Šä¸€è½®ï¼ˆç¬¬ i - 1è½®ï¼‰çš„ç»“æœï¼Œæ‰€ä»¥æ ¸å¿ƒä»£ç å¯ä¼˜åŒ–ä¸ºï¼š</p><figure class="highlight inform7"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs inform7">for (int i = 1; i &lt;= n; i++)<br>    for (int j = V; j &gt;= c<span class="hljs-comment">[i]</span>; j--)<br>        f<span class="hljs-comment">[j]</span> = max(f<span class="hljs-comment">[j]</span>, f<span class="hljs-comment">[j - c<span class="hljs-comment">[i]</span>]</span> + w<span class="hljs-comment">[i]</span>);<br></code></pre></div></td></tr></table></figure><p>å› ä¸ºæ¯æ¬¡å¾ªç¯éƒ½è¦åˆ©ç”¨ä¸Šä¸€æ¬¡å¾ªç¯è¿ç®—ç»“æœå‰é¢çš„é‚£äº›å€¼ï¼ˆ j è¦ç”¨åˆ°ä¸Šä¸€æ¬¡çš„ j å’Œ j - c [i] )ï¼Œæ‰€ä»¥è¦ä½¿ç”¨å€’åºæ¥åˆ©ç”¨ä¸Šä¸€è½®çš„å€¼ï¼Œå¦‚æœä½¿ç”¨é¡ºåºçš„è¯ï¼Œå½“å‰å€¼æ”¹å˜ä¹‹åï¼Œåé¢çš„å€¼å°±æ— æ³•åˆ©ç”¨å½“å‰å€¼ä¸Šä¸€è½®çš„ç»“æœäº†ï¼Œå› ä¸ºå·²ç»å‘ç”Ÿäº†æ”¹å˜ã€‚</p><p><strong>åˆå§‹åŒ–çš„ç»†èŠ‚é—®é¢˜</strong></p><p>è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå·§å¦™çš„é—®é¢˜ï¼Œå°±æ˜¯åœ¨åˆå§‹åŒ–<em>f</em> [ 0 ] [ j ] ( j ä» 0 åˆ° V) æˆ– <em>f</em> [ j ] ( j ä» 0 åˆ° V ) æ—¶ï¼Œæ˜¯åˆå§‹åŒ–ä¸º 0 è¿˜æ˜¯åˆå§‹åŒ–ä¸º è´Ÿæ— ç©·ï¼Œè¿™ä¸¤ä¸ªå€¼å…¶å®æ˜¯é’ˆå¯¹ä¸åŒçš„é—®é¢˜çš„ï¼š</p><ul><li>å¦‚æœæˆ‘ä»¬è¦æ±‚æœ€ç»ˆæ°å¥½è£…æ»¡èƒŒåŒ…ï¼Œé‚£ä¹ˆé™¤äº†<em>f</em> [ 0 ]ä»¥å¤–çš„æ•°ç»„å€¼ï¼Œå…¶åˆå§‹åŒ–çš„å€¼åº”è¯¥è®¾ç½®ä¸ºè´Ÿæ— ç©·ï¼›</li></ul><ul><li>å¦‚æœæˆ‘ä»¬è¦æ±‚åœ¨èƒŒåŒ…å®¹é‡çš„é™åˆ¶ä¸‹è£…ä»·å€¼æœ€å¤§å°±è¡Œï¼Œå¹¶ä¸è¦æ±‚è£…æ»¡ï¼Œé‚£ä¹ˆåˆå§‹åŒ–çš„å€¼åº”è¯¥è®¾ç½®ä¸º 0ï¼›</li></ul><p>é€ æˆè¯¥å·®åˆ«çš„åŸå› ä¾ç„¶åœ¨å¾ªç¯è¯­å¥ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»”ç»†åˆ†æä¸€ä¸‹è¿™å¥ï¼š</p><figure class="highlight inform7"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs inform7">f<span class="hljs-comment">[j]</span> = max(f<span class="hljs-comment">[j]</span>, f<span class="hljs-comment">[j - c<span class="hljs-comment">[i]</span>]</span> + w<span class="hljs-comment">[i]</span>);<br></code></pre></div></td></tr></table></figure><p>å½“æˆ‘ä»¬æŠŠå€¼è®¾ä¸ºè´Ÿæ— ç©·æ—¶ï¼Œåœ¨æœ€åˆï¼Œ<em>f</em> [ j ]æ˜¯è´Ÿæ— ç©·ï¼Œå½“æˆ‘ä»¬è£…å…¥ç¬¬ i ä»¶ç‰©å“æ—¶ï¼Œå¦‚æœæ°å¥½è£…æ»¡ï¼Œé‚£ä¹ˆæ­¤æ—¶ j  - c [ i ] ç­‰äº0ï¼Œè¿™ä¸ªæ—¶å€™æ‰å¯ä»¥åˆ©ç”¨ <em>f</em> [0] = 0ï¼Œå†åŠ ä¸Šw[i]ï¼Œä½¿å¾—<em>f</em> [ j ]çš„å€¼è¢«æ›´æ–°ä¸ºæ­£çš„ï¼Œæ‰èƒ½ä¿è¯åç»­ä¹Ÿæ°å¥½è£…æ»¡çš„æ—¶å€™ï¼Œå€¼ä¸ºæ­£çš„ã€‚å€˜è‹¥ä¸èƒ½æ°å¥½è£…æ»¡ï¼Œæˆ‘ä»¬æ˜¯æ²¡æœ‰åŠæ³•å‡‘å‡ºæ‰€æœ‰ i çš„å®¹é‡åŠ èµ·æ¥ç­‰äºVï¼Œé‚£ä¹ˆåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ j  - c [ i ] æ°¸è¿œæ— æ³•ç­‰äº0ï¼Œé‚£å°±ç®—åŠ ä¸Šäº†w[ i ]ï¼Œä¹Ÿæ˜¯åœ¨è´Ÿæ— ç©·ä¸ŠåŠ ä¸€ä¸ªæ•°è¿˜æ˜¯è´Ÿçš„ï¼Œå› æ­¤åªæœ‰æ°å¥½è£…æ»¡æ—¶ï¼Œæœ€åå†èƒ½å¾—åˆ°æ­£çš„ä»·å€¼å€¼ã€‚</p><p>ä½†å¦‚æœæˆ‘ä»¬å°†åˆå§‹å€¼éƒ½è®¾ç½®ä¸º 0 æ—¶ï¼Œä¸ç®¡æœ‰æ²¡æœ‰æ°å¥½è£…æ»¡ï¼Œåªè¦å¯ä»¥è£…è¿›å»å°±è¡Œï¼Œæˆ‘ä»¬å°±èƒ½åœ¨f[j] å’Œf[j - c[i]]ä¹‹é—´é€‰æ‹©ä¸€ä¸ªæœ€å¤§çš„ï¼Œå³åœ¨å½“å‰å®¹é‡ä¸‹ï¼Œé’ˆå¯¹ i ä»¶ç‰©å“æ‰€èƒ½è£…çš„æœ€å¤§ä»·å€¼å€¼ï¼Œè¿™æ—¶æ˜¯å¦æ°å¥½è£…æ»¡å°†ä¸å†äº§ç”Ÿå½±å“ã€‚</p><p><strong>å°ç»“</strong></p><p>01èƒŒåŒ…é—®é¢˜æ˜¯æœ€åŸºæœ¬çš„èƒŒåŒ…é—®é¢˜ï¼Œå®ƒåŒ…å«äº†èƒŒåŒ…é—®é¢˜ä¸­è®¾è®¡çŠ¶æ€ã€æ–¹ç¨‹çš„æœ€åŸºæœ¬æ€æƒ³ï¼Œå¦å¤–ï¼Œåˆ«çš„ç±»å‹çš„èƒŒåŒ…é—®é¢˜å¾€å¾€ä¹Ÿå¯ä»¥è½¬æ¢æˆ01èƒŒåŒ…é—®é¢˜æ±‚è§£ã€‚æ•…ä¸€å®šè¦ä»”ç»†ä½“ä¼šä¸Šé¢åŸºæœ¬æ€è·¯çš„å¾—å‡ºæ–¹æ³•ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ„ä¹‰ï¼Œä»¥åŠæœ€åæ€æ ·ä¼˜åŒ–çš„ç©ºé—´å¤æ‚åº¦ã€‚</p><p><strong>ä¾‹é¢˜</strong></p><p><a href="https://www.acwing.com/problem/content/2/">AcWing 01èƒŒåŒ…é—®é¢˜</a><br><a href="https://www.luogu.org/problemnew/show/P2925">Luogu P2925å¹²è‰å‡ºå”®</a><br><a href="https://www.luogu.org/problemnew/show/P1616">Luogu P1616ç–¯ç‹‚çš„é‡‡è¯</a><br><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3466">HDU 3466 Proud Merchants</a></p><h2 id="2-å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰"><a href="#2-å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰" class="headerlink" title="2.å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰"></a>2.å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰</h2><h2 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h2><p><a href="https://blog.csdn.net/yandaoqiusheng/article/details/84782655">èƒŒåŒ…ä¹è®²é€šä¿—æ˜“æ‡‚ç‰ˆâ€”æˆ‘å°±æ˜¯æŠ„äººå®¶çš„ï¼Œå†™çš„çœŸå¥½</a></p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•ä¸åˆ·é¢˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>èƒŒåŒ…é—®é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è‡ªæ—‹é”</title>
    <link href="/2021/10/18/%E8%87%AA%E6%97%8B%E9%94%81/"/>
    <url>/2021/10/18/%E8%87%AA%E6%97%8B%E9%94%81/</url>
    
    <content type="html"><![CDATA[<h1 id="è‡ªæ—‹é”"><a href="#è‡ªæ—‹é”" class="headerlink" title="è‡ªæ—‹é”"></a>è‡ªæ—‹é”</h1><h2 id="1-æå‡ºèƒŒæ™¯ï¼š"><a href="#1-æå‡ºèƒŒæ™¯ï¼š" class="headerlink" title="1.æå‡ºèƒŒæ™¯ï¼š"></a>1.æå‡ºèƒŒæ™¯ï¼š</h2><p>â€‹    ç”±äºå¤šå¤„ç†å™¨ç¯å¢ƒä¸­ï¼ŒæŸäº›èµ„æºçš„æœ‰é™æ€§ï¼Œå¯¹äºå¤šä¸ªçº¿ç¨‹å…±äº«çš„èµ„æºè¿›è¡Œè®¿é—®æ—¶ï¼Œéœ€è¦è¿›è¡Œäº’æ–¥è®¿é—®ï¼Œä¾¿éœ€è¦å¼•å…¥é”çš„æ¦‚å¿µï¼Œåªæœ‰è·å–äº†é”çš„çº¿ç¨‹æ‰å¯ä»¥å¯¹èµ„æºè¿›è¡Œè®¿é—®ï¼Œç”±äºå¤šçº¿ç¨‹çš„æ ¸å¿ƒæ˜¯CPUçš„æ—¶é—´åˆ†ç‰‡ï¼Œæ‰€ä»¥åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è·å–é”ã€‚</p><p>â€‹    å½“é”æ²¡æœ‰è¢«å ç”¨æ—¶ï¼Œå°è¯•è·å–é”çš„çº¿ç¨‹æˆåŠŸè·å–åˆ°é”ï¼Œä¹‹åè‹¥æœ‰å¦å¤–çš„çº¿ç¨‹å°è¯•è·å–é”ï¼Œé€šå¸¸æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š</p><p>â€‹        1.æ²¡æœ‰è·å–åˆ°é”çš„çº¿ç¨‹å°±ä¸€ç›´å¾ªç¯ç­‰å¾…åˆ¤æ–­è¯¥èµ„æºæ˜¯å¦å·²ç»é‡Šæ”¾é”ï¼Œè¿™ç§é”å«åšè‡ªæ—‹é”ã€‚</p><p>â€‹        2.æ²¡æœ‰è·å–åˆ°é”çš„çº¿ç¨‹å°†è‡ªå·±é˜»å¡èµ·æ¥ï¼Œç­‰å¾…é‡æ–°è°ƒåº¦è¯·æ±‚ï¼Œè¿™ç§é”å«äº’æ–¥é”ã€‚</p><h2 id="2-è‡ªæ—‹é”çš„å®šä¹‰"><a href="#2-è‡ªæ—‹é”çš„å®šä¹‰" class="headerlink" title="2.è‡ªæ—‹é”çš„å®šä¹‰"></a>2.è‡ªæ—‹é”çš„å®šä¹‰</h2><p>â€‹    è‡ªæ—‹é”çš„å®šä¹‰ï¼šå½“ä¸€ä¸ªçº¿ç¨‹å°è¯•å»è·å–æŸä¸€æŠŠé”çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªé”æ­¤æ—¶å·²ç»è¢«åˆ«äººè·å–(å ç”¨)ï¼Œé‚£ä¹ˆæ­¤çº¿ç¨‹å°±æ— æ³•è·å–åˆ°è¿™æŠŠé”ï¼Œè¯¥çº¿ç¨‹å°†ä¼šç­‰å¾…ï¼Œé—´éš”ä¸€æ®µæ—¶é—´åä¼šå†æ¬¡å°è¯•è·å–ã€‚è¿™ç§é‡‡ç”¨å¾ªç¯åŠ é” -&gt; ç­‰å¾…çš„æœºåˆ¶è¢«ç§°ä¸º<code>è‡ªæ—‹é”(spinlock)</code>ã€‚</p><h2 id="3-è‡ªæ—‹é”çš„åŸç†"><a href="#3-è‡ªæ—‹é”çš„åŸç†" class="headerlink" title="3.è‡ªæ—‹é”çš„åŸç†"></a>3.è‡ªæ—‹é”çš„åŸç†</h2><p>â€‹    å¦‚æœæŒæœ‰é”çš„çº¿ç¨‹èƒ½åœ¨çŸ­æ—¶é—´å†…é‡Šæ”¾èµ„æºï¼Œé‚£ä¹ˆé‚£äº›ç­‰å¾…ç«äº‰é”çš„çº¿ç¨‹å°±ä¸éœ€è¦è¿›è¡Œå†…æ ¸æ€å’Œç”¨æˆ·æ€ä¹‹é—´çš„åˆ‡æ¢è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œåªéœ€è¦ç­‰å¾…é”çš„é‡Šæ”¾ï¼ˆè‡ªæ—‹ä¸€å°æ®µæ—¶é—´ï¼‰ï¼Œç­‰åˆ°æŒæœ‰é”çš„çº¿ç¨‹é‡Šæ”¾é”ä¹‹åå³å¯è·å–åˆ°é”ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯é¿å…äº†ç”¨æˆ·è¿›ç¨‹å’Œå†…æ ¸æ€åˆ‡æ¢çš„æ¶ˆè€—ã€‚</p><p>â€‹    è‡ªæ—‹é”é€‚ç”¨äºä¸´ç•ŒåŒºä»£ç æ‰§è¡Œæ—¶é—´è¾ƒçŸ­çš„æƒ…å†µï¼Œå…¶ä»–ç«äº‰çº¿ç¨‹åªéœ€è¦ç­‰å¾…ä¸€å°ä¼šå„¿ä¾¿å¯ä»¥è·å–åˆ°é”ï¼Œè€Œä¸ç”¨åœ¨æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ä¸‹è¿›å…¥é˜»å¡çŠ¶æ€ç„¶åå†åˆ‡æ¢å›æ¥ï¼Œå‡å°‘äº†ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ï¼Œå› æ­¤è·å–è‡ªæ—‹é”çš„è¿›ç¨‹å®é™…ä¸Šä¸€ç›´å¤„äºç”¨æˆ·æ€ï¼Œå¹¶æœªè¿›è¡Œç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„åˆ‡æ¢ã€‚ä½†å¦‚æœè·å–é”çš„çº¿ç¨‹éœ€è¦é•¿æ—¶é—´çš„å ç”¨é”ï¼Œåˆ™æ­¤æ—¶ä½¿ç”¨è‡ªæ—‹é”çš„æ•ˆç‡å¹¶ä¸é«˜ï¼Œå¤§é‡çº¿ç¨‹ç«äº‰ä¸€ä¸ªé”ï¼Œä¼šå¯¼è‡´è·å–é”çš„æ—¶é—´å¾ˆé•¿ï¼Œçº¿ç¨‹è‡ªæ—‹çš„æ¶ˆè€—å¤§äºçº¿ç¨‹é˜»å¡æŒ‚èµ·çš„æ¶ˆè€—ï¼Œå…¶ä»–éœ€è¦CPUçš„çº¿ç¨‹æœ‰ä¸èƒ½è·å–åˆ°CPUï¼Œä¼šé€ æˆCPUçš„æµªè´¹ã€‚</p><p>â€‹    è‡ªæ—‹é”å¹¿æ³›çš„åº”ç”¨äºæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œæ˜¯ä¸€ç§è½»é‡çº§çš„äº’æ–¥é”ï¼Œä½†æ˜¯æœªç”³è¯·åˆ°é”çš„çº¿ç¨‹ä¸ä¼šè¢«æŒ‚èµ·ï¼Œè€Œæ˜¯è¿›å…¥å¿™ç­‰å¾…çŠ¶æ€ã€‚</p><p>â€‹    é‡ç‚¹ï¼šè‡ªæ—‹é”åœ¨ä½¿ç”¨æ˜¯ä¼šè‡ªåŠ¨ç¦æ­¢æŠ¢å ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦çš„åŸå› ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªçº¿ç¨‹ä¸€ç›´åœ¨è‡ªæ—‹ç­‰å¾…é”è¢«é‡Šæ”¾ï¼Œé‚£ä¹ˆè¿™æ®µæ—¶é—´ä»–è¿˜æ˜¯ä¸€ç›´åœ¨å ç”¨CPUï¼Œå…¶ä»–çš„çº¿ç¨‹æ— æ³•æŠ¢å ä»–çš„CPUã€‚</p><h2 id="4-ä½¿ç”¨è‡ªæ—‹é”çš„æ³¨æ„äº‹é¡¹"><a href="#4-ä½¿ç”¨è‡ªæ—‹é”çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="4.ä½¿ç”¨è‡ªæ—‹é”çš„æ³¨æ„äº‹é¡¹"></a>4.ä½¿ç”¨è‡ªæ—‹é”çš„æ³¨æ„äº‹é¡¹</h2><ul><li><p>ä¸åº”ç”¨äºé•¿æ—¶é—´åŠ é”</p></li><li><p>è¢«è‡ªæ—‹é”ä¿æŠ¤çš„ä¸´ç•ŒåŒºä¸èƒ½è°ƒç”¨å¼•èµ·ç¡çœ å’Œé˜»å¡çš„APIå‡½æ•°ï¼Œå¦åˆ™ä¼šé€ æˆæ­»é”ï¼š</p><p>å¦‚æœçº¿ç¨‹ A åœ¨æŒæœ‰é”æœŸé—´è¿›å…¥äº†ä¼‘çœ çŠ¶æ€ï¼Œé‚£ä¹ˆçº¿ç¨‹ A ä¼šè‡ªåŠ¨æ”¾å¼ƒ CPU ä½¿ç”¨æƒã€‚çº¿ç¨‹ B å¼€å§‹è¿è¡Œï¼Œçº¿ç¨‹ B ä¹Ÿæƒ³è¦è·å–é”ï¼Œä½†æ˜¯æ­¤æ—¶é”è¢« A çº¿ç¨‹æŒæœ‰ï¼Œè€Œä¸”å†…æ ¸æŠ¢å è¿˜è¢«ç¦æ­¢äº†ï¼çº¿ç¨‹ B æ— æ³•è¢«è°ƒåº¦å‡ºå»ï¼Œé‚£ä¹ˆçº¿ç¨‹ A å°±æ— æ³•è¿è¡Œï¼Œé”ä¹Ÿå°±æ— æ³•é‡Šæ”¾ï¼Œå¥½äº†ï¼Œæ­»é”å‘ç”Ÿäº†ï¼</p></li><li><p>ä¸èƒ½é€’å½’ç”³è¯·è‡ªæ—‹é”ï¼Œå› ä¸ºä¸€æ—¦é€šè¿‡é€’å½’çš„æ–¹å¼ç”³è¯·ä¸€ä¸ªä½ æ­£åœ¨æŒæœ‰çš„é”ï¼Œé‚£ä¹ˆä½ å°±å¿…é¡»â€œè‡ªæ—‹â€ï¼Œç­‰å¾…é”è¢«é‡Šæ”¾ï¼Œç„¶è€Œä½ æ­£å¤„äºâ€œè‡ªæ—‹â€çŠ¶æ€ï¼Œæ ¹æœ¬æ²¡æ³•é‡Šæ”¾é”ã€‚ç»“æœå°±æ˜¯è‡ªå·±æŠŠè‡ªå·±é”æ­»äº†ï¼</p></li><li><p>åœ¨è·å–é”ä¹‹å‰ä¸€å®šè¦è¿›è¡Œä¹‹æœ¬åœ°ä¸­æ–­ï¼ˆå½“å‰CPUä¸­æ–­ï¼‰</p><p>ä¸­æ–­ä¸­å¯ä»¥ä½¿ç”¨è‡ªæ—‹é”ï¼Œä½†æ˜¯åœ¨è¿›å…¥è‡ªæ—‹é”çš„ä¸´ç•ŒåŒºåï¼Œåˆå‘ç”Ÿäº†ä¸­æ–­ï¼Œæ­¤æ—¶æ–°çš„ä¸­æ–­å°è¯•è·å–é”ï¼Œä½†é”æ­£åœ¨è¢«åŸä¸­æ–­æŒæœ‰ï¼Œç°ä¸­æ–­æ— æ³•è·å–é”ï¼ŒåŸä¸­æ–­åˆè¢«æ‰“æ–­ï¼Œæ— æ³•é‡Šæ”¾é”ï¼Œåˆ™ä¼šé€ æˆæ­»é”ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20210704161013832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjA5NzEwOA==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="æœ¬åœ°ä¸­æ–­å¯¼è‡´æ­»é”"></p></li></ul><h2 id="5-å…·ä½“å®ç°ä¾‹å­å¾…è¡¥å……â€¦â€¦"><a href="#5-å…·ä½“å®ç°ä¾‹å­å¾…è¡¥å……â€¦â€¦" class="headerlink" title="5.å…·ä½“å®ç°ä¾‹å­å¾…è¡¥å……â€¦â€¦.."></a>5.å…·ä½“å®ç°ä¾‹å­å¾…è¡¥å……â€¦â€¦..</h2><h2 id="6-å‚è€ƒé“¾æ¥ï¼ˆçº¯æ¬ç –ï¼‰"><a href="#6-å‚è€ƒé“¾æ¥ï¼ˆçº¯æ¬ç –ï¼‰" class="headerlink" title="6.å‚è€ƒé“¾æ¥ï¼ˆçº¯æ¬ç –ï¼‰"></a>6.å‚è€ƒé“¾æ¥ï¼ˆçº¯æ¬ç –ï¼‰</h2><p><a href="http://www.blogjava.net/jinfeng_wang/archive/2016/12/14/432088.html">Javaçº¿ç¨‹ - CASè‡ªæ—‹é”(spin-lock)</a></p><p><a href="https://blog.csdn.net/zhoutianzi12/article/details/103373976"> ä»€ä¹ˆæ˜¯è‡ªæ—‹é”+è‡ªæ—‹é”å’Œäº’æ–¥é”çš„åŒºåˆ«</a></p><p><a href="https://www.cnblogs.com/cxuanBlog/p/11679883.html">çœ‹å®Œä½ å°±æ˜ç™½çš„é”ç³»åˆ—ä¹‹è‡ªæ—‹é”</a></p>]]></content>
    
    
    <categories>
      
      <category>OS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡32-1</title>
    <link href="/2021/09/24/%E5%89%91%E6%8C%8732-1/"/>
    <url>/2021/09/24/%E5%89%91%E6%8C%8732-1/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰‘æŒ‡-Offer32-I-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘"><a href="#å‰‘æŒ‡-Offer32-I-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘" class="headerlink" title="å‰‘æŒ‡ Offer32-I.ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘"></a>å‰‘æŒ‡ Offer32-I.ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</h1><hr><p><strong>é¢˜ç›®è¦æ±‚ï¼š</strong></p><p>ä»ä¸Šåˆ°ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°.</p><p>ä¾‹å¦‚ï¼šç»™å®šäºŒå‰æ ‘[3,9,20,null,null,15,7]</p><div class="hljs code-wrapper"><pre><code>    3   / \  9  20     / \    15 7 </code></pre></div><p>è¿”å›ï¼š[3,9,20,15,7]</p><p><strong>é¢˜ç›®åˆ†æ:</strong></p><ul><li>å¯¹äºŒå‰æ ‘è¿›è¡Œæ‰“å°å®é™…å°±æ˜¯å¯¹å…¶è¿›è¡Œéå†ï¼Œæ ¹æ®é¢˜ç›®è¦æ±‚ï¼ŒåŒä¸€å±‚èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºè¿›è¡Œéå†ï¼Œæ‰€ä»¥åº”é‡‡ç”¨å±‚åºéå†çš„æ–¹æ³•å»éå†ã€‚</li><li>å±‚åºéå†ï¼šå€ŸåŠ©é˜Ÿåˆ—è¿›è¡Œå®ç°ï¼Œè¦ä¿è¯è¯»å–å½“å‰èŠ‚ç‚¹åï¼Œæ¥ä¸‹é‡Œè¯»å–å™¨å·¦å³èŠ‚ç‚¹ï¼Œç„¶åæ˜¯å·¦å­èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ï¼Œç„¶åæ˜¯å³å­èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ã€‚èµ·åˆæ€è·¯æœ‰äº›é”™è¯¯ï¼Œæƒ³é€šè¿‡é€’å½’å»è¿›è¡Œè¯»å–ï¼Œä½†æ˜¯é€’å½’ä¸€æ—¦æ·±å…¥åˆ°ä¸€æ£µå­æ ‘ä¸­ï¼Œä¾¿ä¼šç»§ç»­æ·±å…¥ä¸‹å»ï¼Œæ˜¯æ— æ³•è¿”å›ä¿è¯æŒ‰å±‚è¯»å–çš„ï¼Œå®é™…ä¸Šå¹¶ä¸éœ€è¦é€’å½’å¤„ç†ã€‚</li><li>é€šè¿‡é˜Ÿåˆ—å®ç°å±‚åºéå†ï¼šé¦–å…ˆå°†æ ¹èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œç„¶åå½“é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶è¿›å…¥å¾ªç¯ï¼Œæ¯ä¸€æ¬¡å¾ªç¯ï¼Œå–å‡ºé˜Ÿåˆ—å¤´ç»“ç‚¹ï¼Œå¹¶è¯»å–èŠ‚ç‚¹æ•°æ®ï¼Œç„¶åå°†å…¶å·¦å³èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼ˆå­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼‰ï¼Œè¿™æ ·çš„è¯ï¼Œä¸‹ä¸€æ¬¡å·¦å­èŠ‚ç‚¹ä»é˜Ÿåˆ—å¤´å–å‡ºï¼ŒåŒæ—¶å°†å…¶å·¦å³å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œè¿™æ ·å°±ä¿è¯äº†é˜Ÿåˆ—ä¸­çš„æ•°æ®é¡ºåºæ˜¯æŒ‰ç…§å±‚åºéå†çš„é¡ºåºå¼¹å‡ºçš„ã€‚</li><li>æ³¨æ„äº‹é¡¹ï¼šé’ˆå¯¹æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåšå‡ºé’ˆå¯¹å¤„ç†ã€‚é˜Ÿåˆ—é›†åˆå¯¹è±¡ä¸ºInteger,å…ˆç”¨Integeræ•°ç»„ä¿å­˜æ•°æ®ï¼Œç„¶åè½¬åŒ–æˆint[],è¿”å›æ•°ç»„ã€‚</li></ul><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="hljs code-wrapper"><pre><code>class Solution &#123;ArrayList&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(1004);Queue&lt;TreeNode&gt; q = new ArrayDeque&lt;&gt;(1004);public int[] levelOrder(TreeNode root) &#123;    if(root == null) &#123;        int[] a = new int[0];        return a;    &#125;    q.add(root);    int i = 0;    TreeNode tem  =  new TreeNode(0) ;    while(!(q.isEmpty()))&#123;        tem = q.remove();        b.add(tem.val);        if(tem.left != null)&#123;            q.add(tem.left);        &#125;        if(tem.right != null)&#123;            q.add(tem.right);        &#125;    &#125;    int[] a = new int[b.size()];    Iterator&lt;Integer&gt; in = b.iterator();    while(in.hasNext())&#123;        a[i++] = in.next();    &#125;    return a;    &#125;&#125;</code></pre></div><p>é€šè¿‡æœ¬é¢˜ä¸»è¦å¤ä¹ ä¸€ä¸‹ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå±‚åºéå†ï¼Œä»¥åŠç†Ÿæ‚‰Markdownå†™æ³•ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•ä¸åˆ·é¢˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜ç¬”è®°</tag>
      
      <tag>äºŒå‰æ ‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
