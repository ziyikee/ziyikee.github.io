<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>å››.Redisæ•°æ®ç±»å‹</title>
    <link href="/2021/11/11/%E5%9B%9B-Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
    <url>/2021/11/11/%E5%9B%9B-Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="Redisæ•°æ®ç±»å‹"><a href="#Redisæ•°æ®ç±»å‹" class="headerlink" title="Redisæ•°æ®ç±»å‹"></a>Redisæ•°æ®ç±»å‹</h1><h2 id="ä¸€-Stringå­—ç¬¦ä¸²ç±»å‹"><a href="#ä¸€-Stringå­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="ä¸€.Stringå­—ç¬¦ä¸²ç±»å‹"></a>ä¸€.Stringå­—ç¬¦ä¸²ç±»å‹</h2><figure class="highlight clean"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs clean">########################################################################<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys *<br>(empty array)<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; set key1 v1  #è®¾ç½®key1çš„å€¼ä¸ºv1<br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key1 #è·å–key1çš„å€¼<br><span class="hljs-string">&quot;v1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; exists key1  #åˆ¤æ–­æ˜¯å¦å­˜åœ¨åä¸ºkey1çš„é”®<br>(integer) <span class="hljs-number">1</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; append key1 <span class="hljs-string">&quot;hello&quot;</span>  #åœ¨key1ä¸Šè¿½åŠ å­—ç¬¦ä¸²ï¼Œè‹¥keyä¸å­˜åœ¨ï¼Œç›¸å½“äºset key value<br>(integer) <span class="hljs-number">7</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys *<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;key1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; append key2 <span class="hljs-string">&quot;abcde&quot;</span> #key2ä¸å­˜åœ¨ï¼Œå› æ­¤æ–°å»ºkey2ï¼Œå¹¶è®¾ç½®value<br>(integer) <span class="hljs-number">5</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys *<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;key2&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;key1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; strlen key1  #è·å–keyçš„é•¿åº¦<br>(integer) <span class="hljs-number">7</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; append key1 <span class="hljs-string">&quot;12345&quot;</span><br>(integer) <span class="hljs-number">12</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; strlen key1<br>(integer) <span class="hljs-number">12</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key1<br><span class="hljs-string">&quot;v1hello12345&quot;</span><br>#########################################################################<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; set views <span class="hljs-number">0</span><br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;0&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; incr views #è‡ªå¢<span class="hljs-number">1</span><br>(integer) <span class="hljs-number">1</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; decr views<br>(integer) <span class="hljs-number">0</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;0&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; decr views #è‡ªå‡<span class="hljs-number">1</span><br>(integer) <span class="hljs-number">-1</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;-1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; incrby views <span class="hljs-number">10</span> #è®¾ç½®æ­¥é•¿ï¼Œç›¸å½“äºviews = views+<span class="hljs-number">10</span><br>(integer) <span class="hljs-number">9</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;9&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; decrby views <span class="hljs-number">8</span> #è®¾ç½®æ­¥é•¿ï¼Œç›¸å½“äºviews = views<span class="hljs-number">-10</span><br>(integer) <span class="hljs-number">1</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get views<br><span class="hljs-string">&quot;1&quot;</span><br>################################################################<br>#è·å–ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡å®šèŒƒå›´çš„å­—ä¸²  getrange key start end  <span class="hljs-comment">//endä¸ºè´Ÿçš„å°±è·å–å…¨éƒ¨ä¸²</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; set key1 helloworld<br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key1<br><span class="hljs-string">&quot;helloworld&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; getrange key1 <span class="hljs-number">0</span> <span class="hljs-number">3</span>  #æˆªå–å­—ä¸²[<span class="hljs-number">0</span>,<span class="hljs-number">3</span>]<br><span class="hljs-string">&quot;hell&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; getrange key1 <span class="hljs-number">0</span> <span class="hljs-number">-1</span><br><span class="hljs-string">&quot;helloworld&quot;</span><br><br>#æ›¿æ¢æŒ‡å®šèŒƒå›´çš„å­—ä¸²  setrange key offset new_value ä»æŒ‡å®šçš„åç§»é‡å¼€å§‹å°†keyçš„å€¼æ›¿æ¢ä¸ºnew_value<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; set key2 abcdefg<br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key2<br><span class="hljs-string">&quot;abcdefg&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; setrange key2 <span class="hljs-number">2</span> <span class="hljs-number">123</span><br>(integer) <span class="hljs-number">7</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key2<br><span class="hljs-string">&quot;ab123fg&quot;</span><br>###############################################################<br>#setex (set <span class="hljs-keyword">with</span> expire) è®¾ç½®è¿‡æœŸæ—¶é—´<br>#setnx (set <span class="hljs-keyword">if</span> not exist) å¦‚æœä¸å­˜åœ¨å†è®¾ç½®<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; setex key3 <span class="hljs-number">30</span> <span class="hljs-string">&quot;hello&quot;</span>  <span class="hljs-comment">//è®¾ç½®keysçš„å€¼ä¸ºhelloï¼Œä¸”è¿‡æœŸæ—¶é—´ä¸º30ç§’</span><br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get key3 <span class="hljs-comment">//æœªè¾¾åˆ°è¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥æŸ¥åˆ°key3</span><br><span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; ttl key3 <span class="hljs-comment">//key3çš„å‰©ä½™æ—¶é—´</span><br>(integer) <span class="hljs-number">23</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; setnx mykey <span class="hljs-number">123456</span>  <span class="hljs-comment">//å¦‚æœmykeyä¸å­˜åœ¨ï¼Œè®¾ç½®mykeyçš„å€¼</span><br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; ttl key3  <span class="hljs-comment">//key3å·²ç»è¿‡æœŸ</span><br>(integer) <span class="hljs-number">-2</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys * <span class="hljs-comment">//æŸ¥çœ‹æ‰€æœ‰keysï¼Œå› ä¸ºkey3å·²å°†è¿‡æœŸï¼Œæ‰€ä»¥ä¸å­˜åœ¨key3</span><br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;mykey&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;key2&quot;</span><br><span class="hljs-number">3</span>) <span class="hljs-string">&quot;key1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; setnx mykey <span class="hljs-string">&quot;566868&quot;</span> <span class="hljs-comment">//å¦‚æœmykeyä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè®¾ç½®å€¼ä¸º566868</span><br>(integer) <span class="hljs-number">0</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get mykey <span class="hljs-comment">//å› ä¸ºmykeyä¸€ç›´å­˜åœ¨ï¼Œæ‰€ä»¥ä¸Šé¢çš„setnxæ²¡æœ‰æˆåŠŸï¼Œè¿”å›å€¼ä¸º0ï¼Œ</span><br><span class="hljs-string">&quot;123456&quot;</span>                  <span class="hljs-comment">//mykeyè¿˜æ˜¯åŸæ¥çš„å€¼</span><br>###############################################################<br>mset key1 value1 key2 value2 ...... æ‰¹é‡è®¾ç½®é”®å€¼<br>mget key1 key2......æ‰¹é‡è·å–é”®å€¼<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; mset k1 v1 k2 v2 k3 v3<br>OK<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; keys *<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;k3&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;k2&quot;</span><br><span class="hljs-number">3</span>) <span class="hljs-string">&quot;k1&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; mget k1 k2 k3<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;v1&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;v2&quot;</span><br><span class="hljs-number">3</span>) <span class="hljs-string">&quot;v3&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; msetnx k1 m1 k4 v4  <span class="hljs-comment">//msetæ˜¯åŸå­æ€§æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œç±»ä¼¼äº‹åŠ¡ï¼Œå› ä¸ºk1å­˜åœ¨ï¼Œsetå¤±è´¥ï¼Œæ‰€ä»¥k4çš„è®¾ç½®ä¹Ÿå¤±è´¥ï¼Œä¸‹é¢çœ‹åˆ°è¿”å›å€¼ä¸º0ï¼Œkey4ä¸ºnullï¼Œk1çš„å€¼ä¸å˜</span><br>(integer) <span class="hljs-number">0</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get k4<br>(nil)<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get k1<br><span class="hljs-string">&quot;v1&quot;</span><br><br>##è®¾ç½®ä¸€ä¸ªå¯¹è±¡<br>set user:<span class="hljs-number">1</span> &#123;name:zhangsan,age:<span class="hljs-number">18</span>&#125;  #è®¾ç½®ä¸€ä¸ªuser:<span class="hljs-number">1</span>å¯¹è±¡çš„å€¼ä¸ºjsonå­—ç¬¦ä¸²æ¥ä¿å­˜ä¸€ä¸ªå¯¹è±¡<br>#è¿™é‡Œçš„keyå¾ˆå·§å¦™ï¼Œuser:&#123;uid&#125;:&#123;å±æ€§&#125;,å¦‚æ­¤è®¾ç½®åœ¨redisä¸­å®Œå…¨ok<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; mset user:<span class="hljs-number">1</span>:name zhangsan  user:<span class="hljs-number">1</span>:age <span class="hljs-number">18</span><br>OK    <span class="hljs-comment">//ä»–æŠŠuser:1:nameå½“åšä¸€ä¸ªkeyæ¥å­˜ï¼Œuser:1:ageå½“åšä¸€ä¸ªkeyæ¥å­˜</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; mget user:<span class="hljs-number">1</span>:name user:<span class="hljs-number">1</span>:age<br><span class="hljs-number">1</span>) <span class="hljs-string">&quot;zhangsan&quot;</span><br><span class="hljs-number">2</span>) <span class="hljs-string">&quot;18&quot;</span><br><br><span class="hljs-comment">//getset ç»„åˆå‘½ä»¤ï¼Œå…ˆè·å–å†è®¾ç½®</span><br><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; getset db redis   <span class="hljs-comment">//å¦‚æœäº‹å…ˆæ²¡æœ‰å€¼ï¼Œåˆ™è¿”å›null</span><br>(nil)<br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; getset db mongodb  <span class="hljs-comment">//å¦‚æœå½“å‰å­˜åœ¨å€¼ï¼Œåˆ™è¿”å›å½“å‰å€¼åœ¨è®¾ç½®</span><br><span class="hljs-string">&quot;redis&quot;</span><br><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span>&gt; get db<br><span class="hljs-string">&quot;mongodb&quot;</span><br>###################################################<br></code></pre></div></td></tr></table></figure><p>Stringç±»çš„ä½¿ç”¨åœºæ™¯ï¼š valueå¯ä»¥ä½¿å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥æ˜¯æ•°å­—</p><ul><li>åšè®¡æ•°å™¨</li><li>ç»Ÿè®¡å¤šå•ä½çš„æ•°é‡  uid:123455:follower 0</li><li>ç²‰ä¸æ•°</li><li>å¯¹è±¡ç¼“å­˜å­˜å‚¨</li></ul>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HUSTæ•°æ®åº“å®éªŒ</title>
    <link href="/2021/11/11/HUST%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C/"/>
    <url>/2021/11/11/HUST%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="HUSTç½‘å®‰æ•°æ®åº“å®éªŒ"><a href="#HUSTç½‘å®‰æ•°æ®åº“å®éªŒ" class="headerlink" title="HUSTç½‘å®‰æ•°æ®åº“å®éªŒ"></a>HUSTç½‘å®‰æ•°æ®åº“å®éªŒ</h1><div class="note note-success">            <p>å•çº¯çš„sqlè¯­å¥ç»ƒä¹ ã€‚ã€‚ã€‚</p>          </div><div class="note note-danger">            <p>å¦‚æœ‰é”™è¯¯ï¼Œè¿˜è¯·æŒ‡æ­£ï¼Œä¸èƒœæ„Ÿæ¿€ï¼ğŸ¤£</p>          </div><h2 id="å®éªŒä¸€-SQLåŸºç¡€ç»ƒä¹ "><a href="#å®éªŒä¸€-SQLåŸºç¡€ç»ƒä¹ " class="headerlink" title="å®éªŒä¸€.SQLåŸºç¡€ç»ƒä¹ "></a>å®éªŒä¸€.SQLåŸºç¡€ç»ƒä¹ </h2><figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">1.create database CSEDB_å­¦å·;<br><span class="hljs-comment">//2-8ä¸ºå‰é¢å‡ ä¸ªè¡¨æ“ä½œè¯­å¥çš„è”ç³»ï¼Œä½†ä¸€é¡¿æä¹‹åå¾—åˆ°çš„è¡¨ç»“æ„å¯èƒ½ä¸æŒ‡å¯¼ä¹¦ä¸Šçš„ç»“æ„ä¸ä¸€è‡´</span><br><span class="hljs-comment">//åœ¨è¿›è¡Œinsertä¹‹å‰ï¼Œå¯ä»¥å…ˆæŠŠåº“åˆ äº†ï¼Œé‡æ–°å»ºåº“ï¼Œç›´æ¥ä½¿ç”¨4.5.(1)é‡Œçš„ä¸‰ä¸ªå»ºè¡¨è¯­å¥</span><br>2.åˆ›å»ºè¡¨student(å…·ä½“æ•°æ®ç±»å‹charçš„å¤§å°æ„Ÿè§‰å¤šå°‘å°±è¡Œï¼Œå½±å“ä¸å¤§)<br>mysql&gt; create table Student(<br><span class="hljs-code">    -&gt; Sno char(9) primary key,</span><br><span class="hljs-code">    -&gt; Sname char(20) unique,</span><br><span class="hljs-code">    -&gt; Ssex char(2),</span><br><span class="hljs-code">    -&gt; Sage  int,</span><br><span class="hljs-code">    -&gt; Sdept char(20),</span><br><span class="hljs-code">    -&gt; Scholarshhip char(2))</span><br><span class="hljs-code">    -&gt; ;</span><br>Query OK, 0 rows affected (0.12 sec)<br><br><span class="hljs-section">mysql&gt; show columns from student;</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field        | Type     | Null | Key | Default | Extra |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>| Sno          | char(9)  | NO   | PRI | NULL    |       |<br>| Sname        | char(20) | YES  | UNI | NULL    |       |<br>| Ssex         | char(2)  | YES  |     | NULL    |       |<br>| Sage         | int      | YES  |     | NULL    |       |<br>| Sdept        | char(20) | YES  |     | NULL    |       |<br><span class="hljs-section">| Scholarshhip | char(2)  | YES  |     | NULL    |       |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>6 rows in set (0.02 sec)<br><br>ps: å”¯ä¸€é”®å¯ä»¥ä¸ºç©ºï¼Œä¸»é”®ä¸èƒ½ä¸ºç©º<br><br>3.åˆ›å»ºè¡¨course<br>mysql&gt; create table Course(<br><span class="hljs-code">    -&gt; Cno char(4) primary key,</span><br><span class="hljs-code">    -&gt; Cname char(40) unique,</span><br><span class="hljs-code">    -&gt; Cpno char(4),</span><br><span class="hljs-code">    -&gt; Ccredit int)</span><br><span class="hljs-code">    -&gt; ;</span><br>Query OK, 0 rows affected (0.07 sec)<br><br><span class="hljs-section">mysql&gt; show columns from course;</span><br><span class="hljs-section">+---------+----------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field   | Type     | Null | Key | Default | Extra |</span><br><span class="hljs-section">+---------+----------+------+-----+---------+-------+</span><br>| Cno     | char(4)  | NO   | PRI | NULL    |       |<br>| Cname   | char(40) | YES  | UNI | NULL    |       |<br>| Cpno    | char(4)  | YES  |     | NULL    |       |<br><span class="hljs-section">| Ccredit | int      | YES  |     | NULL    |       |</span><br><span class="hljs-section">+---------+----------+------+-----+---------+-------+</span><br>4 rows in set (0.00 sec)<br><br>4.åˆ›å»ºè¡¨sc<br>mysql&gt; create table sc(<br><span class="hljs-code">    -&gt; sno char(5),</span><br><span class="hljs-code">    -&gt; cno char(3),</span><br><span class="hljs-code">    -&gt; grade int,</span><br><span class="hljs-code">    -&gt; primary key (sno,cno)</span><br><span class="hljs-code">    -&gt; );</span><br>Query OK, 0 rows affected (0.03 sec)<br><br><span class="hljs-section">mysql&gt; show columns from Sc;</span><br><span class="hljs-section">+-------+---------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="hljs-section">+-------+---------+------+-----+---------+-------+</span><br>| Sno   | char(9) | NO   | PRI | NULL    |       |<br>| Cno   | char(4) | NO   | PRI | NULL    |       |<br><span class="hljs-section">| Grade | int     | YES  |     | NULL    |       |</span><br><span class="hljs-section">+-------+---------+------+-----+---------+-------+</span><br>3 rows in set (0.00 sec)<br><br>5ï¼Œåˆ é™¤è¡¨<br><span class="hljs-section">mysql&gt; show tables;</span><br><span class="hljs-section">+----------------------------+</span><br><span class="hljs-section">| Tables_in_csedb_u201911749 |</span><br><span class="hljs-section">+----------------------------+</span><br>| course                     |<br>| sc                         |<br><span class="hljs-section">| student                    |</span><br><span class="hljs-section">+----------------------------+</span><br>3 rows in set (0.00 sec)<br><br>mysql&gt; drop tables sc;<br>Query OK, 0 rows affected (0.02 sec)<br><br><span class="hljs-section">mysql&gt; show tables;</span><br><span class="hljs-section">+----------------------------+</span><br><span class="hljs-section">| Tables_in_csedb_u201911749 |</span><br><span class="hljs-section">+----------------------------+</span><br>| course                     |<br><span class="hljs-section">| student                    |</span><br><span class="hljs-section">+----------------------------+</span><br>2 rows in set (0.00 sec)<br><br>6.æ›´æ”¹è¡¨ç»“æ„ï¼ˆå¢åŠ /åˆ é™¤ä¸€åˆ—ï¼Œæ›´æ”¹è¡¨å­—æ®µç±»å‹ï¼‰<br><span class="hljs-section">mysql&gt; show columns from student;</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field        | Type     | Null | Key | Default | Extra |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>| Sno          | char(9)  | NO   | PRI | NULL    |       |<br>| Sname        | char(20) | YES  | UNI | NULL    |       |<br>| Ssex         | char(2)  | YES  |     | NULL    |       |<br>| Sage         | int      | YES  |     | NULL    |       |<br>| Sdept        | char(20) | YES  |     | NULL    |       |<br><span class="hljs-section">| Scholarshhip | char(2)  | YES  |     | NULL    |       |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>6 rows in set (0.00 sec)<br><span class="hljs-comment">//æ·»åŠ åˆ— alter table è¡¨å add column(åŠ ä¸åŠ éƒ½è¡Œ) åˆ—å  åˆ—å±æ€§;</span><br>mysql&gt; alter table student add Scome datetime;<br>Query OK, 0 rows affected (0.04 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><span class="hljs-comment">//åˆ é™¤åˆ— alter table è¡¨å drop column(åŠ ä¸åŠ éƒ½è¡Œ) åˆ—å;</span><br>mysql&gt; alter table student drop column scome;<br>Query OK, 0 rows affected (0.08 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><span class="hljs-comment">//ä¿®æ”¹åˆ—å±æ€§ alter table è¡¨å modify column(åŠ ä¸åŠ éƒ½è¡Œ) åˆ—å  åˆ—å±æ€§;</span><br>mysql&gt; alter table student modify column sage smallint;<br>Query OK, 0 rows affected (0.12 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><br><span class="hljs-section">mysql&gt; show columns from student;</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br><span class="hljs-section">| Field        | Type     | Null | Key | Default | Extra |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>| Sno          | char(9)  | NO   | PRI | NULL    |       |<br>| Sname        | char(20) | YES  | UNI | NULL    |       |<br>| Ssex         | char(2)  | YES  |     | NULL    |       |<br>| Sage         | smallint | YES  |     | NULL    |       |<br>| Sdept        | char(20) | YES  |     | NULL    |       |<br>| Scholarshhip | char(2)  | YES  |     | NULL    |       |<br><span class="hljs-section">| Scome        | datetime | YES  |     | NULL    |       |</span><br><span class="hljs-section">+--------------+----------+------+-----+---------+-------+</span><br>7 rows in set (0.00 sec)<br><br>7.åˆ›å»ºç´¢å¼•ï¼Œåˆ é™¤ç´¢å¼•<br>mysql&gt; create unique index stusno on student(sno);<br>Query OK, 0 rows affected, 1 warning (0.04 sec)<br>Records: 0  Duplicates: 0  Warnings: 1<br>##ç¬¬ä¸€ç§åˆ é™¤æ–¹å¼<br>mysql&gt; drop index stusno on student;<br>Query OK, 0 rows affected (0.02 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br>##ç¬¬äºŒç§åˆ é™¤æ–¹å¼<br>mysql&gt; alter table student drop index stusno;<br>Query OK, 0 rows affected (0.02 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br>##ç¬¬ä¸‰ç§åˆ é™¤æ–¹å¼ï¼Œåˆ é™¤ä¸»é”®ç´¢å¼•<br>alter table è¡¨å drop primary key;<br>##ç¬¬å››ç§åˆ é™¤æ–¹å¼ï¼Œåˆ é™¤å¤–é”®ç´¢å¼•<br>alter table è¡¨å drop foreign key å¤–é”®åï¼›//æœªæ£€éªŒ<br><br>8.æŒ‰ç…§æŒ‡å¯¼ä¹¦çš„è¦æ±‚ï¼Œå»ºç«‹ä¸‰ä¸ªè¡¨ä¹‹é—´çš„å…³ç³»ï¼Œå°±æ˜¯è®¾ç½®å¤–é”®<br>mysql&gt; alter table course add foreign key (cpno) references course(cno);<br>Query OK, 0 rows affected (0.11 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><br>mysql&gt; alter table sc add foreign key (sno) references student(sno);<br>Query OK, 0 rows affected (0.09 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><br>mysql&gt; alter table sc add foreign key (cno) references course(cno);<br>Query OK, 0 rows affected (0.13 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br>æ³¨æ„å¤–é”®çº¦æŸï¼ï¼ï¼<br>ps:è®¾ç½®å¤–é”®ä¹‹åï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹çˆ¶è¡¨çš„è¯ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªçº§è”æ“ä½œå‘½ä»¤ï¼Œå½“åœ¨æ“ä½œçˆ¶è¡¨æ—¶ï¼Œå­è¡¨ä¼šå—åˆ°ç›¸åŒçš„å½±å“ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®çº§è”æ“ä½œï¼Œæ›´æ”¹çˆ¶è¡¨ä¼šæŠ¥é”™ã€‚<br>çº§è”æ“ä½œï¼š<br><span class="hljs-code">ä¸»è¡¨æ›´æ–°</span><br><span class="hljs-code">è¯­æ³•å½¢å¼ä¸ºï¼šon update[çº§è”æ“ä½œ]</span><br><span class="hljs-code">ä¸»è¡¨åˆ é™¤</span><br><span class="hljs-code">è¯­æ³•å½¢å¼ä¸ºï¼šon delete[çº§è”æ“ä½œ]</span><br><span class="hljs-code">è¿™é‡Œçš„çº§è”æ“ä½œå¸¸è§çš„æœ‰ä¸‰ç§å½¢å¼ï¼š</span><br><span class="hljs-code">cascadeï¼šåŒæ­¥æ“ä½œï¼Œæˆ–è€…ä¸²è”æ“ä½œï¼ä¹Ÿå°±æ˜¯å½“ä¸»è¡¨è®°å½•åˆ é™¤æˆ–æ›´æ–°çš„æ—¶å€™ï¼Œä»è¡¨ä¹Ÿè¿›è¡Œç›¸åº”çš„åˆ é™¤   æ›´æ–°ï¼</span><br><span class="hljs-code">set nullï¼šè®¾ç½®ä¸ºnullï¼Œä¹Ÿå°±æ˜¯å½“ä¸»è¡¨è®°å½•åˆ é™¤æˆ–æ›´æ–°çš„æ—¶å€™ï¼Œä»è¡¨ä¸­çš„å¤–é”®å­—æ®µè®¾ç½®ä¸ºç©º</span><br><span class="hljs-code">restrictï¼šæ‹’ç»ä¸»è¡¨çš„æ›´æ–°æˆ–åˆ é™¤</span><br><span class="hljs-code"></span><br>9.æ·»åŠ æ•°æ®(insert)<br>è¯­æ³•è§„åˆ™ï¼š<br><span class="hljs-code">1. æŒ‡å®šå‘é‚£äº›åˆ—æ’å…¥å€¼ï¼š</span><br><span class="hljs-code">insert into table_name ( field1, field2,...fieldN )</span><br><span class="hljs-code">                       values</span><br><span class="hljs-code">                       ( value1, value2,...valueN );</span><br><span class="hljs-code">    2. å¦‚æœæ’å…¥çš„æ•°æ®è¦†ç›–æ‰€æœ‰çš„åˆ—ï¼Œåˆ™ä¸ç”¨æŒ‡å®šæ’å…¥åˆ—çš„èŒƒå›´</span><br><span class="hljs-code">    insert into table_name</span><br><span class="hljs-code">       values</span><br><span class="hljs-code">       ( value1, value2,...valueN );</span><br>ps: æ‰€æœ‰ç¬¦å·éƒ½å¿…é¡»æ˜¯è‹±æ–‡ç¬¦å·<br>å‘studentè¡¨ä¸­æ’å…¥æ•°æ®ï¼š<br>mysql&gt; insert into student values(<span class="hljs-emphasis">&#x27;200215121&#x27;</span>,<span class="hljs-emphasis">&#x27;æå‹‡&#x27;</span>,<span class="hljs-emphasis">&#x27;ç”·&#x27;</span>,20,<span class="hljs-emphasis">&#x27;CS&#x27;</span>,<span class="hljs-emphasis">&#x27;å¦&#x27;</span>);<br>Query OK, 1 row affected (0.01 sec)<br><br>mysql&gt; insert into student values(<span class="hljs-emphasis">&#x27;200215122&#x27;</span>,<span class="hljs-emphasis">&#x27;åˆ˜æ™¨&#x27;</span>,<span class="hljs-emphasis">&#x27;å¥³&#x27;</span>,19,<span class="hljs-emphasis">&#x27;CS&#x27;</span>,<span class="hljs-emphasis">&#x27;å¦&#x27;</span>);<br>Query OK, 1 row affected (0.00 sec)<br><br>mysql&gt; insert into student values(<span class="hljs-emphasis">&#x27;200215123&#x27;</span>,<span class="hljs-emphasis">&#x27;ç‹æ•&#x27;</span>,<span class="hljs-emphasis">&#x27;å¥³&#x27;</span>,18,<span class="hljs-emphasis">&#x27;MA&#x27;</span>,<span class="hljs-emphasis">&#x27;å¦&#x27;</span>);<br>Query OK, 1 row affected (0.00 sec)<br><br>mysql&gt; insert into student values(<span class="hljs-emphasis">&#x27;200215125&#x27;</span>,<span class="hljs-emphasis">&#x27;å¼ ç«‹&#x27;</span>,<span class="hljs-emphasis">&#x27;ç”·&#x27;</span>,19,<span class="hljs-emphasis">&#x27;IS&#x27;</span>,<span class="hljs-emphasis">&#x27;å¦&#x27;</span>);<br>Query OK, 1 row affected (0.01 sec)<br><br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   20 | CS    | å¦          |<br>| 200215122 | åˆ˜æ™¨  | å¥³   |   19 | CS    | å¦          |<br>| 200215123 | ç‹æ•  | å¥³   |   18 | MA    | å¦          |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  | ç”·   |   19 | IS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>4 rows in set (0.01 sec)<br>å‘courseè¡¨ä¸­æ’å…¥æ•°æ®ï¼š<br>insert into course values(<span class="hljs-emphasis">&#x27;1&#x27;</span>,<span class="hljs-emphasis">&#x27;æ•°æ®åº“&#x27;</span>,NULL,4);<br>insert into course values(<span class="hljs-emphasis">&#x27;2&#x27;</span>,<span class="hljs-emphasis">&#x27;æ•°å­¦&#x27;</span>,NULL,2);<br>insert into course values(<span class="hljs-emphasis">&#x27;3&#x27;</span>,<span class="hljs-emphasis">&#x27;ä¿¡æ¯ç³»ç»Ÿ&#x27;</span>,NULL,4);<br>insert into course values(<span class="hljs-emphasis">&#x27;4&#x27;</span>,<span class="hljs-emphasis">&#x27;æ“ä½œç³»ç»Ÿ&#x27;</span>,NULL,3);<br>insert into course values(<span class="hljs-emphasis">&#x27;5&#x27;</span>,<span class="hljs-emphasis">&#x27;æ•°æ®ç»“æ„&#x27;</span>,NULL,4);<br>insert into course values(<span class="hljs-emphasis">&#x27;6&#x27;</span>,<span class="hljs-emphasis">&#x27;æ•°æ®å¤„ç†&#x27;</span>,NULL,2);<br>insert into course values(<span class="hljs-emphasis">&#x27;7&#x27;</span>,<span class="hljs-emphasis">&#x27;java&#x27;</span>,NULL,4);<br>å‘scè¡¨ä¸­æ’å…¥æ•°æ®ï¼š<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215121&#x27;</span>,<span class="hljs-emphasis">&#x27;1&#x27;</span>,92);<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215121&#x27;</span>,<span class="hljs-emphasis">&#x27;2&#x27;</span>,85);<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215121&#x27;</span>,<span class="hljs-emphasis">&#x27;3&#x27;</span>,88);<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215122&#x27;</span>,<span class="hljs-emphasis">&#x27;2&#x27;</span>,90);<br>insert into SC values(<span class="hljs-emphasis">&#x27;200215122&#x27;</span>,<span class="hljs-emphasis">&#x27;3&#x27;</span>,80);<br><br>10.æ›´æ–°æ•°æ®(update)<br>è¯­æ³•è§„åˆ™ï¼š<br><span class="hljs-code">UPDATE [LOW_PRIORITY] [IGNORE] table_name </span><br><span class="hljs-code">SET field1=new-value1, field2=new-value2</span><br><span class="hljs-code">[WHERE Clause]</span><br><span class="hljs-code">[ORDER BY ...]</span><br><span class="hljs-code">[LIMIT ROW_COUNT]</span><br>æ›´æ–°coursebè¡¨æ•°æ®ï¼š<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;5&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;1&#x27;</span>;<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;1&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;3&#x27;</span>;<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;6&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;4&#x27;</span>;<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;7&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;5&#x27;</span>;<br>update Course set Cpno = <span class="hljs-emphasis">&#x27;6&#x27;</span> where Cno = <span class="hljs-emphasis">&#x27;7&#x27;</span>;<br><br>11.åˆ é™¤æ•°æ®(delete)<br>è¯­æ³•è§„åˆ™ï¼š<br><span class="hljs-code">delete from table_name [where clause]</span><br><span class="hljs-code">å¦‚æœæ²¡æœ‰æŒ‡å®šwhereï¼Œåˆ™åˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®</span><br><br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   20 | CS    | å¦          |<br><span class="hljs-section">| 200215122 | åˆ˜æ™¨  | å¥³   |   19 | CS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>2 rows in set (0.01 sec)<br><br>mysql&gt; delete from student;<br>Query OK, 2 rows affected (0.02 sec)<br><br>mysql&gt; select * from student;<br>Empty set (0.00 sec)<br><br>12.æ‰©å±•ç»ƒä¹ ï¼š<br>ï¼ˆ1ï¼‰æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹´é¾„ï¼›<br>mysql&gt; select sno,sname,sage<br><span class="hljs-section">    -&gt; from student;</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215121 | æå‹‡  |   20 |<br>| 200215122 | åˆ˜æ™¨  |   19 |<br>| 200215123 | ç‹æ•  |   18 |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>4 rows in set (0.00 sec)<br>ï¼ˆ2ï¼‰æŸ¥è¯¢æ‰€æœ‰è®¡ç®—æœºç³»å­¦ç”Ÿçš„è¯¦ç»†è®°å½•ï¼›<br>mysql&gt; select *<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where sdept = &#x27;CS&#x27;;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   20 | CS    | å¦          |<br><span class="hljs-section">| 200215122 | åˆ˜æ™¨  | å¥³   |   19 | CS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>2 rows in set (0.00 sec)<br>ï¼ˆ3ï¼‰æ‰¾å‡ºè€ƒè¯•æˆç»©ä¸ºä¼˜ç§€ï¼ˆ90 åˆ†åŠä»¥ä¸Šï¼‰æˆ–ä¸åŠæ ¼çš„å­¦ç”Ÿçš„å­¦å·ã€è¯¾ç¨‹å·åŠæˆç»©ï¼›<br>mysql&gt; select *<br><span class="hljs-code">    -&gt; from sc</span><br><span class="hljs-section">    -&gt; where grade &gt;= 90 or grade &lt;60;</span><br><span class="hljs-section">+-----------+-----+-------+</span><br><span class="hljs-section">| Sno       | Cno | Grade |</span><br><span class="hljs-section">+-----------+-----+-------+</span><br>| 200215121 | 1   |    92 |<br><span class="hljs-section">| 200215122 | 2   |    90 |</span><br><span class="hljs-section">+-----------+-----+-------+</span><br>2 rows in set (0.00 sec)<br>ï¼ˆ4ï¼‰æŸ¥è¯¢å¹´é¾„ä¸åœ¨ 19~20 å²ä¹‹é—´çš„å­¦ç”Ÿå§“åã€æ€§åˆ«å’Œå¹´é¾„ï¼›<br>mysql&gt; select sname,ssex,sage<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where sage not in (19,20);</span><br><span class="hljs-section">+-------+------+------+</span><br><span class="hljs-section">| sname | ssex | sage |</span><br><span class="hljs-section">+-------+------+------+</span><br><span class="hljs-section">| ç‹æ•  | å¥³   |   18 |</span><br><span class="hljs-section">+-------+------+------+</span><br>1 row in set (0.00 sec)<br>ï¼ˆ5ï¼‰æŸ¥è¯¢æ•°å­¦ç³»ï¼ˆMAï¼‰ã€ä¿¡æ¯ç³»ï¼ˆIS)çš„å­¦ç”Ÿçš„å§“åå’Œæ‰€åœ¨ç³»ï¼›<br>mysql&gt; select sname,sdept<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where sdept in (&#x27;CS&#x27;,&#x27;MA&#x27;);</span><br><span class="hljs-section">+-------+-------+</span><br><span class="hljs-section">| sname | sdept |</span><br><span class="hljs-section">+-------+-------+</span><br>| æå‹‡  | CS    |<br>| åˆ˜æ™¨  | CS    |<br><span class="hljs-section">| ç‹æ•  | MA    |</span><br><span class="hljs-section">+-------+-------+</span><br>3 rows in set (0.00 sec)<br>ï¼ˆ6ï¼‰æŸ¥è¯¢åç§°ä¸­åŒ…å«â€œæ•°æ®â€çš„æ‰€æœ‰è¯¾ç¨‹çš„è¯¾ç¨‹å·ã€è¯¾ç¨‹ååŠå…¶å­¦åˆ†ï¼›<br>mysql&gt; select cno,cname,ccredit<br><span class="hljs-code">    -&gt; from course</span><br><span class="hljs-section">    -&gt; where cname like &#x27;%æ•°æ®%&#x27;;</span><br><span class="hljs-section">+-----+----------+---------+</span><br><span class="hljs-section">| cno | cname    | ccredit |</span><br><span class="hljs-section">+-----+----------+---------+</span><br>| 1   | æ•°æ®åº“   |       4 |<br>| 5   | æ•°æ®ç»“æ„ |       4 |<br><span class="hljs-section">| 6   | æ•°æ®å¤„ç† |       2 |</span><br><span class="hljs-section">+-----+----------+---------+</span><br>3 rows in set (0.00 sec)<br>ï¼ˆ7) æ‰¾å‡ºæ‰€æœ‰æ²¡æœ‰é€‰ä¿®è¯¾æˆç»©çš„å­¦ç”Ÿå­¦å·å’Œè¯¾ç¨‹å·ï¼›<br>mysql&gt; select distinct sno,cno<br><span class="hljs-code">    -&gt; from student,course</span><br><span class="hljs-section">    -&gt; where sno not in(select distinct sno from sc) and cno not in (select distinct cno from sc);</span><br><span class="hljs-section">+-----------+-----+</span><br><span class="hljs-section">| sno       | cno |</span><br><span class="hljs-section">+-----------+-----+</span><br>| 200215123 | 6   |<br>| 200215125 | 6   |<br>| 200215123 | 4   |<br>| 200215125 | 4   |<br>| 200215123 | 7   |<br>| 200215125 | 7   |<br>| 200215123 | 5   |<br><span class="hljs-section">| 200215125 | 5   |</span><br><span class="hljs-section">+-----------+-----+</span><br>8 rows in set (0.00 sec)<br>ï¼ˆ8ï¼‰æŸ¥è¯¢å­¦ç”Ÿ 200215121 é€‰ä¿®è¯¾çš„æœ€é«˜åˆ†ã€æœ€ä½åˆ†ä»¥åŠå¹³å‡æˆç»©ï¼›<br>mysql&gt; select max(grade),min(grade),avg(grade)<br><span class="hljs-code">    -&gt; from sc</span><br><span class="hljs-section">    -&gt; where sno = &#x27;200215121&#x27;;</span><br><span class="hljs-section">+------------+------------+------------+</span><br><span class="hljs-section">| max(grade) | min(grade) | avg(grade) |</span><br><span class="hljs-section">+------------+------------+------------+</span><br><span class="hljs-section">|         92 |         85 |    88.3333 |</span><br><span class="hljs-section">+------------+------------+------------+</span><br>1 row in set (0.01 sec)<br>ï¼ˆ9ï¼‰æŸ¥è¯¢é€‰ä¿®äº† 2 å·è¯¾ç¨‹çš„å­¦ç”Ÿçš„å­¦å·åŠå…¶æˆç»©ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰æˆç»©å‡åºæ’åˆ—ï¼›<br>mysql&gt; select sno,grade<br><span class="hljs-code">    -&gt; from sc</span><br><span class="hljs-code">    -&gt; where cno = &#x27;2&#x27;</span><br><span class="hljs-section">    -&gt; order by grade;</span><br><span class="hljs-section">+-----------+-------+</span><br><span class="hljs-section">| sno       | grade |</span><br><span class="hljs-section">+-----------+-------+</span><br>| 200215121 |    85 |<br><span class="hljs-section">| 200215122 |    90 |</span><br><span class="hljs-section">+-----------+-------+</span><br>2 rows in set (0.00 sec)<br>ï¼ˆ10ï¼‰æŸ¥è¯¢æ¯ä¸ªç³»ååŠå…¶å­¦ç”Ÿçš„å¹³å‡å¹´é¾„ã€‚<br>mysql&gt; select sdept,avg(sage)<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; group by sdept;</span><br><span class="hljs-section">+-------+-----------+</span><br><span class="hljs-section">| sdept | avg(sage) |</span><br><span class="hljs-section">+-------+-----------+</span><br>| CS    |   19.5000 |<br>| MA    |   18.0000 |<br><span class="hljs-section">| IS    |   19.0000 |</span><br><span class="hljs-section">+-------+-----------+</span><br>3 rows in set (0.01 sec)<br><span class="hljs-code"> ï¼ˆæ€è€ƒï¼šå¦‚ä½•æŸ¥è¯¢å­¦ç”Ÿå¹³å‡å¹´é¾„åœ¨ 19 å²ä»¥ä¸‹ï¼ˆå« 19 å²ï¼‰çš„ç³»åˆ«åŠå…¶å­¦ç”Ÿçš„å¹³å‡å¹´é¾„ï¼Ÿï¼‰</span><br><span class="hljs-code"> mysql&gt; select sdept,avg(sage)</span><br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-code">    -&gt; group by sdept</span><br><span class="hljs-section">    -&gt; having avg(sage)&lt;=19;</span><br><span class="hljs-section">+-------+-----------+</span><br><span class="hljs-section">| sdept | avg(sage) |</span><br><span class="hljs-section">+-------+-----------+</span><br>| MA    |   18.0000 |<br><span class="hljs-section">| IS    |   19.0000 |</span><br><span class="hljs-section">+-------+-----------+</span><br>2 rows in set (0.01 sec)<br><br>psï¼šwhereç”¨äºè¿‡æ»¤æŒ‡å®šçš„è¡Œï¼Œå®ƒåé¢çš„åˆ¤æ–­æ•°æ®å¿…é¡»æ˜¯å­˜åœ¨çš„è¡Œï¼Œhavingç”¨äºå¯¹å‰é¢selectçš„ç»“æœè¿›è¡Œç­›é€‰ï¼Œä½†havingä¸ä¸€å®šéè¦é…åˆgroup byä½¿ç”¨ï¼Œå¦‚æœæˆ‘å‰é¢selectçš„ç»“æœä¸­æ²¡æœ‰ï¼Œå°±ä¸èƒ½ç”¨having<br>æ€»çš„æ¥è¯´ï¼Œwhereç›´æ¥å¯¹æ•°æ®è¡¨ä¸­çš„å­—æ®µè¿›è¡Œç›´æ¥ç­›é€‰ï¼Œè€Œhavingæ˜¯å¯¹å‰é¢ç­›é€‰çš„ç»“æœè¿›è¡Œç­›é€‰<br>å‚è€ƒé“¾æ¥:https://blog.csdn.net/yexudengzhidao/article/details/54924471<br>å‚è€ƒé“¾æ¥:https://www.jianshu.com/p/e66abfadcdca<br></code></pre></div></td></tr></table></figure><h2 id="å®éªŒäºŒ-SQLå¤æ‚æ“ä½œç»ƒä¹ "><a href="#å®éªŒäºŒ-SQLå¤æ‚æ“ä½œç»ƒä¹ " class="headerlink" title="å®éªŒäºŒ.SQLå¤æ‚æ“ä½œç»ƒä¹ "></a>å®éªŒäºŒ.SQLå¤æ‚æ“ä½œç»ƒä¹ </h2><p><img src="/2021/11/11/HUST%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C/1.png" srcset="/img/loading.gif" lazyload alt="1"></p><figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">ï¼ˆ1ï¼‰æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹åŠå…¶è¢«é€‰æƒ…å†µï¼ˆè¾“å‡ºæ‰€æœ‰è¯¾ç¨‹ä¸­æ¯é—¨è¯¾çš„è¯¾ç¨‹å·ã€è¯¾ç¨‹åç§°ã€é€‰ä¿®è¯¥è¯¾ç¨‹çš„å­¦ç”Ÿ<br>å­¦å·åŠæˆç»©--å¦‚æœæ²¡æœ‰å­¦ç”Ÿé€‰æ‹©è¯¥è¯¾ï¼Œåˆ™ç›¸åº”çš„å­¦ç”Ÿå­¦å·åŠæˆç»©ä¸ºç©ºå€¼ï¼‰ã€‚<br>mysql&gt; select course.cno,cname,sno,grade<br><span class="hljs-section">    -&gt; from course left outer join sc on (course.cno = sc.cno);</span><br><span class="hljs-section">+-----+----------+-----------+-------+</span><br><span class="hljs-section">| cno | cname    | sno       | grade |</span><br><span class="hljs-section">+-----+----------+-----------+-------+</span><br>| 1   | æ•°æ®åº“   | 200215121 |    92 |<br>| 2   | æ•°å­¦     | 200215122 |    90 |<br>| 2   | æ•°å­¦     | 200215121 |    85 |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 200215122 |    80 |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 200215121 |    88 |<br>| 4   | æ“ä½œç³»ç»Ÿ | NULL      |  NULL |<br>| 5   | æ•°æ®ç»“æ„ | NULL      |  NULL |<br>| 6   | æ•°æ®å¤„ç† | NULL      |  NULL |<br><span class="hljs-section">| 7   | java     | NULL      |  NULL |</span><br><span class="hljs-section">+-----+----------+-----------+-------+</span><br>9 rows in set (0.00 sec)<br><br>ï¼ˆ2ï¼‰æŸ¥è¯¢ä¸â€œå¼ ç«‹â€åŒå²çš„å­¦ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹´é¾„ã€‚ï¼ˆè¦æ±‚ä½¿ç”¨è‡³å°‘ 3 ç§æ–¹æ³•æ±‚è§£ï¼‰<br>ç¬¬ä¸€ç§ï¼š<br>mysql&gt; select sno,sname,sage<br><span class="hljs-code">-&gt; from student</span><br><span class="hljs-section">-&gt; where sage = (select sage from student where sname = &#x27;å¼ ç«‹&#x27;);</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215122 | åˆ˜æ™¨  |   19 |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>ç¬¬äºŒç§ï¼š<br>mysql&gt; select sno,sname,sage<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-section">    -&gt; where sage in(select sage from student where sname = &#x27;å¼ ç«‹&#x27;);</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215122 | åˆ˜æ™¨  |   19 |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>2 rows in set (0.00 sec)<br>2 rows in set (0.01 sec)<br>ç¬¬ä¸‰ç§ï¼š(æ— è¯­-_-)<br>mysql&gt; select s1.sno,s1.sname,s1.sage<br><span class="hljs-code">    -&gt; from student s1,student s2</span><br><span class="hljs-section">    -&gt; where s1.sage = s2.sage and s2.sname = &#x27;å¼ ç«‹&#x27;;</span><br><span class="hljs-section">+-----------+-------+------+</span><br><span class="hljs-section">| sno       | sname | sage |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>| 200215122 | åˆ˜æ™¨  |   19 |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  |   19 |</span><br><span class="hljs-section">+-----------+-------+------+</span><br>2 rows in set (0.00 sec)<br><br>ï¼ˆ3ï¼‰æŸ¥è¯¢é€‰ä¿®äº† 3 å·è¯¾ç¨‹è€Œä¸”æˆç»©ä¸ºè‰¯å¥½ï¼ˆ80~89 åˆ†ï¼‰çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·å’Œå§“åã€‚<br>mysql&gt; select student.sno,student.sname<br><span class="hljs-code">    -&gt; from student,sc</span><br><span class="hljs-section">    -&gt; where student.sno = sc.sno and sc.cno = &#x27;3&#x27; and sc.grade &gt;=80 and sc.grade &lt;=89;</span><br><span class="hljs-section">+-----------+-------+</span><br><span class="hljs-section">| sno       | sname |</span><br><span class="hljs-section">+-----------+-------+</span><br>| 200215121 | æå‹‡  |<br><span class="hljs-section">| 200215122 | åˆ˜æ™¨  |</span><br><span class="hljs-section">+-----------+-------+</span><br>2 rows in set (0.00 sec)<br><br>ï¼ˆ4ï¼‰æŸ¥è¯¢å­¦ç”Ÿ 200215122 é€‰ä¿®çš„è¯¾ç¨‹å·ã€è¯¾ç¨‹å<br>mysql&gt; select course.cno,course.cname<br><span class="hljs-code">    -&gt; from course,sc</span><br><span class="hljs-section">    -&gt; where course.cno = sc.cno and sc.sno = &#x27;200215122&#x27;;</span><br><span class="hljs-section">+-----+----------+</span><br><span class="hljs-section">| cno | cname    |</span><br><span class="hljs-section">+-----+----------+</span><br>| 2   | æ•°å­¦     |<br><span class="hljs-section">| 3   | ä¿¡æ¯ç³»ç»Ÿ |</span><br><span class="hljs-section">+-----+----------+</span><br>2 rows in set (0.00 sec)<br><span class="hljs-code"> ï¼ˆæ€è€ƒï¼šå¦‚ä½•æŸ¥è¯¢å­¦ç”Ÿ 200215122 é€‰ä¿®çš„è¯¾ç¨‹å·ã€è¯¾ç¨‹ååŠæˆç»©ï¼Ÿï¼‰</span><br><span class="hljs-code"> mysql&gt; select course.cno,course.cname,sc.grade</span><br><span class="hljs-code">    -&gt; from course,sc</span><br><span class="hljs-section">    -&gt; where course.cno = sc.cno and sc.sno = &#x27;200215122&#x27;;</span><br><span class="hljs-section">+-----+----------+-------+</span><br><span class="hljs-section">| cno | cname    | grade |</span><br><span class="hljs-section">+-----+----------+-------+</span><br>| 2   | æ•°å­¦     |    90 |<br><span class="hljs-section">| 3   | ä¿¡æ¯ç³»ç»Ÿ |    80 |</span><br><span class="hljs-section">+-----+----------+-------+</span><br>2 rows in set (0.00 sec)<br><br>ï¼ˆ5ï¼‰æ‰¾å‡ºæ¯ä¸ªå­¦ç”Ÿä½äºä»–æ‰€é€‰ä¿®è¯¾ç¨‹å¹³å‡æˆç»© 5 åˆ†ä»¥ä¸Šçš„è¯¾ç¨‹å·ã€‚ï¼ˆè¾“å‡ºå­¦å·å’Œè¯¾ç¨‹å·ï¼‰<br>mysql&gt; select sno,cno<br><span class="hljs-code">    -&gt; from sc s1</span><br><span class="hljs-code">    -&gt; where s1.grade+5&lt; (select avg(grade) from sc s2 where s1.sno = s2.sno);</span><br>Empty set (0.00 sec)<br><br>mysql&gt; select sno,cno<br><span class="hljs-code">    -&gt; from sc s1</span><br><span class="hljs-section">    -&gt; where s1.grade+5&lt;= (select avg(grade) from sc s2 where s1.sno = s2.sno);</span><br><span class="hljs-section">+-----------+-----+</span><br><span class="hljs-section">| sno       | cno |</span><br><span class="hljs-section">+-----------+-----+</span><br><span class="hljs-section">| 200215122 | 3   |</span><br><span class="hljs-section">+-----------+-----+</span><br>1 row in set (0.00 sec)<br><br>ï¼ˆ6ï¼‰æŸ¥è¯¢æ¯”æ‰€æœ‰ç”·ç”Ÿå¹´é¾„éƒ½å°çš„å¥³ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹´é¾„ã€‚<br>mysql&gt; select sno,sname,sage<br><span class="hljs-code">    -&gt; from student</span><br><span class="hljs-code">    -&gt; where ssex = &#x27;ç”·&#x27; and sage &lt;(select avg(sage) from student where ssex = &#x27;å¥³&#x27;);</span><br>Empty set (0.00 sec)<br><br>ï¼ˆ7ï¼‰æŸ¥è¯¢æ‰€æœ‰é€‰ä¿®äº† 2 å·è¯¾ç¨‹çš„å­¦ç”Ÿå§“ååŠæ‰€åœ¨ç³»ã€‚<br>mysql&gt; select sname,sdept<br><span class="hljs-code">    -&gt; from student,sc</span><br><span class="hljs-section">    -&gt; where sc.cno = &#x27;2&#x27; and student.sno = sc.sno;</span><br><span class="hljs-section">+-------+-------+</span><br><span class="hljs-section">| sname | sdept |</span><br><span class="hljs-section">+-------+-------+</span><br>| æå‹‡  | CS    |<br><span class="hljs-section">| åˆ˜æ™¨  | CS    |</span><br><span class="hljs-section">+-------+-------+</span><br>2 rows in set (0.00 sec)<br><br>ï¼ˆ8ï¼‰ä½¿ç”¨ update è¯­å¥æŠŠæˆç»©ä¸ºè‰¯çš„å­¦ç”Ÿçš„å¹´é¾„å¢åŠ  2 å²ï¼Œå¹¶æŸ¥è¯¢å‡ºæ¥ã€‚<br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   20 | CS    | å¦          |<br>| 200215122 | åˆ˜æ™¨  | å¥³   |   19 | CS    | å¦          |<br>| 200215123 | ç‹æ•  | å¥³   |   18 | MA    | å¦          |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  | ç”·   |   19 | IS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>4 rows in set (0.00 sec)<br><br><span class="hljs-section">mysql&gt; select * from sc;</span><br><span class="hljs-section">+-----------+-----+-------+</span><br><span class="hljs-section">| Sno       | Cno | Grade |</span><br><span class="hljs-section">+-----------+-----+-------+</span><br>| 200215121 | 1   |    92 |<br>| 200215121 | 2   |    85 |<br>| 200215121 | 3   |    88 |<br>| 200215122 | 2   |    90 |<br><span class="hljs-section">| 200215122 | 3   |    80 |</span><br><span class="hljs-section">+-----------+-----+-------+</span><br>5 rows in set (0.00 sec)<br><br>mysql&gt; update student<br><span class="hljs-code">    -&gt; set student.sage = student.sage+2</span><br><span class="hljs-code">    -&gt; where student.sno in(</span><br><span class="hljs-code">    -&gt; select sc.sno</span><br><span class="hljs-code">    -&gt; from sc</span><br><span class="hljs-code">    -&gt; where sc.grade &gt;=80 and sc.grade&lt;=89);</span><br>Query OK, 2 rows affected (0.01 sec)<br>Rows matched: 2  Changed: 2  Warnings: 0<br><br><span class="hljs-section">mysql&gt; select * from student;</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br><span class="hljs-section">| Sno       | Sname | Ssex | Sage | Sdept | Scholarship |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>| 200215121 | æå‹‡  | ç”·   |   22 | CS    | å¦          |<br>| 200215122 | åˆ˜æ™¨  | å¥³   |   21 | CS    | å¦          |<br>| 200215123 | ç‹æ•  | å¥³   |   18 | MA    | å¦          |<br><span class="hljs-section">| 200215125 | å¼ ç«‹  | ç”·   |   19 | IS    | å¦          |</span><br><span class="hljs-section">+-----------+-------+------+------+-------+-------------+</span><br>4 rows in set (0.00 sec)<br><br>ï¼ˆ9ï¼‰ä½¿ç”¨ insert è¯­å¥å¢åŠ ä¸¤é—¨è¯¾ç¨‹ï¼šC è¯­è¨€å’Œäººå·¥æ™ºèƒ½ï¼Œå¹¶æŸ¥è¯¢å‡ºæ¥<br><span class="hljs-section">mysql&gt; select * from course;</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br><span class="hljs-section">| Cno | Cname    | Cpno | Ccredit |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>| 1   | æ•°æ®åº“   | 5    |       4 |<br>| 2   | æ•°å­¦     | NULL |       2 |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 1    |       4 |<br>| 4   | æ“ä½œç³»ç»Ÿ | 6    |       3 |<br>| 5   | æ•°æ®ç»“æ„ | 7    |       4 |<br>| 6   | æ•°æ®å¤„ç† | NULL |       2 |<br><span class="hljs-section">| 7   | java     | 6    |       4 |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>7 rows in set (0.00 sec)<br><br>mysql&gt; insert into course(cno,cname)<br><span class="hljs-code">    -&gt; values (&#x27;22&#x27;,&#x27;Cè¯­è¨€&#x27;);</span><br>Query OK, 1 row affected (0.00 sec)<br><br>mysql&gt; insert into course(cno,cname)<br><span class="hljs-code">    -&gt; values (&#x27;88&#x27;,&#x27;äººå·¥æ™ºèƒ½&#x27;);</span><br>Query OK, 1 row affected (0.00 sec)<br><br><span class="hljs-section">mysql&gt; select * from course;</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br><span class="hljs-section">| Cno | Cname    | Cpno | Ccredit |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>| 1   | æ•°æ®åº“   | 5    |       4 |<br>| 2   | æ•°å­¦     | NULL |       2 |<br>| 22  | Cè¯­è¨€    | NULL |    NULL |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 1    |       4 |<br>| 4   | æ“ä½œç³»ç»Ÿ | 6    |       3 |<br>| 5   | æ•°æ®ç»“æ„ | 7    |       4 |<br>| 6   | æ•°æ®å¤„ç† | NULL |       2 |<br>| 7   | java     | 6    |       4 |<br><span class="hljs-section">| 88  | äººå·¥æ™ºèƒ½ | NULL |    NULL |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>9 rows in set (0.00 sec)<br><br>ï¼ˆ10ï¼‰ä½¿ç”¨ delete è¯­å¥æŠŠäººå·¥æ™ºèƒ½è¯¾ç¨‹åˆ é™¤ï¼Œå¹¶æŸ¥è¯¢å‡ºæ¥ã€‚<br>mysql&gt; delete from course<br><span class="hljs-code">    -&gt; where cname = &#x27;äººå·¥æ™ºèƒ½&#x27;;</span><br>Query OK, 1 row affected (0.00 sec)<br><br><span class="hljs-section">mysql&gt; select * from course;</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br><span class="hljs-section">| Cno | Cname    | Cpno | Ccredit |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>| 1   | æ•°æ®åº“   | 5    |       4 |<br>| 2   | æ•°å­¦     | NULL |       2 |<br>| 22  | Cè¯­è¨€    | NULL |    NULL |<br>| 3   | ä¿¡æ¯ç³»ç»Ÿ | 1    |       4 |<br>| 4   | æ“ä½œç³»ç»Ÿ | 6    |       3 |<br>| 5   | æ•°æ®ç»“æ„ | 7    |       4 |<br>| 6   | æ•°æ®å¤„ç† | NULL |       2 |<br><span class="hljs-section">| 7   | java     | 6    |       4 |</span><br><span class="hljs-section">+-----+----------+------+---------+</span><br>8 rows in set (0.00 sec)<br></code></pre></div></td></tr></table></figure><h2 id="å®éªŒä¸‰-SQLé«˜çº§å®éªŒ"><a href="#å®éªŒä¸‰-SQLé«˜çº§å®éªŒ" class="headerlink" title="å®éªŒä¸‰.SQLé«˜çº§å®éªŒ"></a>å®éªŒä¸‰.SQLé«˜çº§å®éªŒ</h2><figure class="highlight gherkin"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gherkin">(1)åˆ›å»º CS ç³»çš„è§†å›¾ CS_View<br><br>mysql&gt; create view cs_view as<br>    -&gt; select <span class="hljs-symbol">*</span><br>    -&gt; from student<br>    -&gt; where sdept = &#x27;CS&#x27;;<br>Query OK, 0 rows affected (0.04 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from cs_view;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>2 rows in set (0.02 sec)<br>(2)åœ¨è§†å›¾ CS_View ä¸ŠæŸ¥è¯¢ CS ç³»é€‰ä¿®äº† 1 å·è¯¾ç¨‹çš„å­¦ç”Ÿ<br><br>mysql&gt; select cs_view.sno,sname,sage<br>    -&gt; from cs_view,sc<br>    -&gt; where cs_view.sno = sc.sno and sc.cno = &#x27;1&#x27;;<br>+-----------+-------+------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Sage </span>|<br>+-----------+-------+------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string">   20 </span>|<br>+-----------+-------+------+<br>1 row in set (0.02 sec)<br>(3)åˆ›å»º IS ç³»æˆç»©å¤§äº 80 çš„å­¦ç”Ÿçš„è§†å›¾ IS_View<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   18 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    92 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>8 rows in set (0.00 sec)<br><br>mysql&gt; create view is_view as<br>    -&gt; select student.sno,sname,sage,ssex,sdept,cno,grade<br>    -&gt; from student,sc<br>    -&gt; where sdept = &#x27;IS&#x27; and student.sno = sc.sno and sc.grade &gt;=80;<br>Query OK, 0 rows affected (0.02 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from is_view;<br>+-----------+-------+------+------+-------+-----+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> sage </span>|<span class="hljs-string"> ssex </span>|<span class="hljs-string"> sdept </span>|<span class="hljs-string"> cno </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+------+-------+-----+-------+<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-------+------+------+-------+-----+-------+<br>2 rows in set (0.01 sec)<br>(4)åœ¨è§†å›¾ IS_View æŸ¥è¯¢ IS ç³»æˆç»©å¤§äº 80 çš„å­¦ç”Ÿ<br>mysql&gt; select <span class="hljs-symbol">*</span> from is_view where grade &gt;=80;<br>+-----------+-------+------+------+-------+-----+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> sage </span>|<span class="hljs-string"> ssex </span>|<span class="hljs-string"> sdept </span>|<span class="hljs-string"> cno </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+------+-------+-----+-------+<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-------+------+------+-------+-----+-------+<br>2 rows in set (0.01 sec)<br>(5)åˆ é™¤è§†å›¾ IS_View<br>mysql&gt; drop view is_view;<br>Query OK, 0 rows affected (0.02 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from is_view;<br>ERROR 1146 (42S02): Table &#x27;csedb_u201911749.is_view&#x27; doesn&#x27;t exist<br>(6) åˆ©ç”¨å¯è§†åŒ–çª—å£åˆ›å»º 2 ä¸ªä¸åŒçš„ç”¨æˆ· U1 å’Œ U2,åˆ©ç”¨ç³»ç»Ÿç®¡ç†å‘˜ç»™ U1 æˆäºˆ Student è¡¨çš„<br>æŸ¥è¯¢å’Œæ›´æ–°çš„æƒé™ï¼Œç»™ U2 å¯¹ SC è¡¨æˆäºˆæ’å…¥çš„æƒé™ã€‚ç„¶åç”¨ U1 ç™»å½•ï¼Œåˆ†åˆ« 1ï¼‰æŸ¥è¯¢å­¦ç”Ÿè¡¨<br>çš„ä¿¡æ¯ï¼›2ï¼‰æŠŠæ‰€æœ‰å­¦ç”Ÿçš„å¹´é¾„å¢åŠ  1 å²ï¼Œç„¶åæŸ¥è¯¢ï¼›3ï¼‰åˆ é™¤ IS ç³»çš„å­¦ç”Ÿï¼›4ï¼‰æŸ¥è¯¢ CS ç³»<br>çš„é€‰è¯¾ä¿¡æ¯ã€‚ç”¨ U2 ç™»å½•ï¼Œåˆ†åˆ« 1ï¼‰åœ¨ SC è¡¨ä¸­æ’å…¥ 1 æ¡è®°å½•ï¼ˆâ€˜200215122â€™ï¼Œâ€˜1â€™ï¼Œ75ï¼‰ï¼›2ï¼‰<br>æŸ¥è¯¢ SC è¡¨çš„ä¿¡æ¯ï¼Œ3ï¼‰æŸ¥è¯¢è§†å›¾ CS_View çš„ä¿¡æ¯ã€‚<br>//åˆ›å»ºç”¨æˆ·u1<br>mysql&gt; create user &#x27;u1&#x27;<span class="hljs-meta">@&#x27;%&#x27;</span> identified by &#x27;123456&#x27;;<br>Query OK, 0 rows affected (0.05 sec)<br>//åˆ›å»ºç”¨æˆ·u2<br>mysql&gt; create user &#x27;u2&#x27;<span class="hljs-meta">@&#x27;%&#x27;</span> identified by &#x27;123456&#x27;;<br>Query OK, 0 rows affected (0.01 sec)<br>//ä¸ºu1è®¾ç½®æƒé™<br>mysql&gt; grant select,update on student to &#x27;u1&#x27;<span class="hljs-meta">@&#x27;%&#x27;;</span><br>Query OK, 0 rows affected (0.01 sec)<br>//ä¸ºu2è®¾ç½®æƒé™<br>mysql&gt; grant insert on sc to &#x27;u2&#x27;<span class="hljs-meta">@&#x27;%&#x27;;</span><br>Query OK, 0 rows affected (0.01 sec)<br>//åˆ·æ–°æƒé™<br>mysql&gt; flush privileges;<br>Query OK, 0 rows affected (0.02 sec)<br>//æŸ¥çœ‹ç”¨æˆ·<br>mysql&gt; SELECT DISTINCT CONCAT(&#x27;User: &#x27;&#x27;&#x27;,user,&#x27;&#x27;&#x27;<span class="hljs-meta">@&#x27;&#x27;&#x27;,host,&#x27;&#x27;&#x27;;&#x27;)</span> AS query FROM mysql.user;<br>+---------------------------------------+<br>|<span class="hljs-string"> query                                 </span>|<br>+---------------------------------------+<br>|<span class="hljs-string"> User: &#x27;u1&#x27;@&#x27;%&#x27;;                       </span>|<br>|<span class="hljs-string"> User: &#x27;u2&#x27;@&#x27;%&#x27;;                       </span>|<br>|<span class="hljs-string"> User: &#x27;mysql.infoschema&#x27;@&#x27;localhost&#x27;; </span>|<br>|<span class="hljs-string"> User: &#x27;mysql.session&#x27;@&#x27;localhost&#x27;;    </span>|<br>|<span class="hljs-string"> User: &#x27;mysql.sys&#x27;@&#x27;localhost&#x27;;        </span>|<br>|<span class="hljs-string"> User: &#x27;root&#x27;@&#x27;localhost&#x27;;             </span>|<br>+---------------------------------------+<br>6 rows in set (0.00 sec)<br>//å‘½ä»¤è¡Œä»¥ä¸åŒçš„ç”¨æˆ·ç™»å½•ï¼Œå…ˆè®¾ç½®mysqlç¯å¢ƒå˜é‡ï¼Œcmdå‘½ä»¤è¡Œä½¿ç”¨ï¼šmysql -u u1 -p å¯†ç  ä»¥ç”¨æˆ·u1ç™»å½•<br><span class="hljs-comment">###############################################################################</span><br>C:\Users\Ke&gt;mysql -u u1 -p<br>Enter password: <span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 12<br><br>mysql&gt; show databases;<br>+--------------------+<br>|<span class="hljs-string"> Database           </span>|<br>+--------------------+<br>|<span class="hljs-string"> csedb_u201911749   </span>|<br>|<span class="hljs-string"> information_schema </span>|<br>+--------------------+<br>2 rows in set (0.01 sec)<br><br>mysql&gt; use csedb_u201911749<br>Database changed<br>mysql&gt; show tables;   //å¯ä»¥çœ‹åˆ°ï¼Œu1ç”¨æˆ·ç”±äºç®¡ç†å‘˜è®¾ç½®çš„æƒé™ï¼Œåªèƒ½çœ‹åˆ°student<br>+----------------------------+<br>|<span class="hljs-string"> Tables_in_csedb_u201911749 </span>|<br>+----------------------------+<br>|<span class="hljs-string"> student                    </span>|<br>+----------------------------+<br>1 row in set (0.00 sec)<br>//u1æŸ¥è¯¢studentè¡¨<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+--------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname  </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+--------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡   </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨   </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•   </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   18 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹   </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰   </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   18 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››   </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>+-----------+--------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br>//u1æ›´æ–°å¹´é¾„<br>mysql&gt; update student<br>    -&gt; set sage = sage+1;<br>Query OK, 6 rows affected (0.01 sec)<br>Rows matched: 6  Changed: 6  Warnings: 0<br>//u1é‡æ–°æŸ¥è¯¢student<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+--------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname  </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+--------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡   </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨   </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•   </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹   </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰   </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››   </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> NULL        </span>|<br>+-----------+--------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br><br>mysql&gt; delete from student<br>    -&gt; where sdept = &#x27;IS&#x27;;<br>ERROR 1142 (42000): DELETE command denied to user &#x27;u1&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;student&#x27;   //u1æ²¡æœ‰æƒé™<br>mysql&gt; select sc.sno,sc.cno<br>    -&gt; from student,sc<br>    -&gt; where student.sno = sc.sno;<br>ERROR 1142 (42000): SELECT command denied to user &#x27;u1&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;sc&#x27;  //u1æ²¡æœ‰æƒé™<br><span class="hljs-comment">##############################################################################</span><br>C:\Users\Ke&gt;mysql -u u2 -p   //ä»¥u2çš„èº«ä»½ç™»å½•<br>Enter password: <span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 13<br><br>mysql&gt; show databases;<br>+--------------------+<br>|<span class="hljs-string"> Database           </span>|<br>+--------------------+<br>|<span class="hljs-string"> csedb_u201911749   </span>|<br>|<span class="hljs-string"> information_schema </span>|<br>+--------------------+<br>2 rows in set (0.00 sec)<br><br>mysql&gt; use csedb_u201911749;<br>Database changed<br>mysql&gt; show tables;   //u2åªèƒ½çœ‹åˆ°scè¡¨<br>+----------------------------+<br>|<span class="hljs-string"> Tables_in_csedb_u201911749 </span>|<br>+----------------------------+<br>|<span class="hljs-string"> sc                         </span>|<br>+----------------------------+<br>1 row in set (0.00 sec)<br><br>mysql&gt; insert into sc<br>    -&gt; values(&#x27;200215122&#x27;,&#x27;1&#x27;,75);<br>Query OK, 1 row affected (0.01 sec)   //u2å…·æœ‰æ’å…¥æƒé™ï¼Œæ’å…¥æˆåŠŸ<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>ERROR 1142 (42000): SELECT command denied to user &#x27;u2&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;sc&#x27;  //u2æ²¡æœ‰æƒé™<br>mysql&gt; select <span class="hljs-symbol">*</span> from view cs_view;<br>ERROR 1142 (42000): SELECT command denied to user &#x27;u2&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;view&#x27;  //u2æ²¡æœ‰æƒé™<br><span class="hljs-comment">############################################################################</span><br>(7) ç”¨ç³»ç»Ÿç®¡ç†å‘˜ç™»å½•ï¼Œæ”¶å› U1 çš„æ‰€æœ‰æƒé™<br>mysql&gt; revoke select,update on student from &#x27;u1&#x27;<span class="hljs-meta">@&#x27;%&#x27;;</span><br>Query OK, 0 rows affected (0.01 sec)<br>(8) ç”¨ U1 ç™»å½•ï¼ŒæŸ¥è¯¢å­¦ç”Ÿè¡¨çš„ä¿¡æ¯<br><span class="hljs-comment">##########################################################################</span><br>C:\Users\Ke&gt;mysql -u u1 -p<br>Enter password: <span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><br>Welcome to the MySQL monitor.  Commands end with ; or \g.<br>Your MySQL connection id is 18<br><br>mysql&gt; use csedb_u201911749<br>Database changed<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>ERROR 1142 (42000): SELECT command denied to user &#x27;u1&#x27;<span class="hljs-meta">@&#x27;localhost&#x27;</span> for table &#x27;student&#x27; //u1å·²ç»æ²¡æœ‰çš„selectæƒé™<br><span class="hljs-comment">###########################################################################</span><br>(9) ç”¨ç³»ç»Ÿç®¡ç†å‘˜ç™»å½•<br>(10) å¯¹ SC è¡¨å»ºç«‹ä¸€ä¸ªæ›´æ–°è§¦å‘å™¨ï¼Œå½“æ›´æ–°äº† SC è¡¨çš„æˆç»©æ—¶ï¼Œå¦‚æœæ›´æ–°åçš„æˆç»©å¤§äºç­‰äº<br>95ï¼Œåˆ™æ£€æŸ¥è¯¥æˆç»©çš„å­¦ç”Ÿæ˜¯å¦æœ‰å¥–å­¦é‡‘ï¼Œå¦‚æœå¥–å­¦é‡‘æ˜¯â€œå¦â€ï¼Œåˆ™ä¿®æ”¹ä¸ºâ€œæ˜¯â€ã€‚å¦‚æœä¿®æ”¹åçš„<br>æˆç»©å°äº 95ï¼Œåˆ™æ£€æŸ¥è¯¥å­¦ç”Ÿçš„å…¶ä»–æˆç»©æ˜¯ä¸æ˜¯æœ‰å¤§äº 95 çš„ï¼Œå¦‚æœéƒ½æ²¡æœ‰ï¼Œä¸”ä¿®æ”¹å‰çš„æˆç»©<br>æ˜¯å¤§äº 95 æ—¶ï¼Œåˆ™æŠŠå…¶å¥–å­¦é‡‘ä¿®æ”¹ä¸ºâ€å¦â€ã€‚ç„¶åè¿›è¡Œæˆç»©ä¿®æ”¹ï¼Œå¹¶è¿›è¡ŒéªŒè¯æ˜¯å¦è§¦å‘å™¨æ­£ç¡®<br>æ‰§è¡Œã€‚1ï¼‰é¦–å…ˆæŠŠæŸä¸ªå­¦ç”Ÿæˆç»©ä¿®æ”¹ä¸º 98ï¼ŒæŸ¥è¯¢å…¶å¥–å­¦é‡‘ã€‚2ï¼‰å†æŠŠåˆšæ‰çš„æˆç»©ä¿®æ”¹ä¸º 80ï¼Œ<br>å†æŸ¥è¯¢å…¶å¥–å­¦é‡‘ã€‚<br>//å®šä¹‰è§¦å‘å™¨<br>mysql&gt; delimiter $  //æŠŠç»ˆç»“ç¬¦æ”¹ä¸º$,è¿™æ ·beginå’Œendä¹‹é—´ä½¿ç”¨çš„â€˜;â€™ä¼šè¢«å­˜å‚¨è¿›å»<br>mysql&gt; create trigger sctr after update on sc<br>    -&gt; for each row<br>    -&gt; begin<br>    -&gt; declare max_grade int;<br>    -&gt; set max_grade = (select max(grade) from sc where sc.sno=new.sno);<br>    -&gt; update student set student.scholarship = &#x27;æ˜¯&#x27; where student.sno = new.sno and max_grade &gt;=95;<br>    -&gt; update student set student.scholarship = &#x27;å¦&#x27; where student.sno = new.sno and max_grade <span class="hljs-variable">&lt;95;</span><br><span class="hljs-variable">    -&gt;</span> end$<br>Query OK, 0 rows affected (0.03 sec)<br><br>mysql&gt; delimiter ;<br>//åˆå§‹æ•°æ®å¦‚ä¸‹ï¼š<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    92 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>9 rows in set (0.00 sec)<br>//ä¿®æ”¹200215121çš„1å·è¯¾æˆç»©ä¸º98<br>mysql&gt; update sc set grade = 98 where sno = &#x27;200215121&#x27; and cno = &#x27;1&#x27;;<br>Query OK, 1 row affected (0.02 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br>//æŸ¥çœ‹studentï¼Œå¥–å­¦é‡‘ç”±å¦æ”¹ä¸ºäº†æ˜¯<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> æ˜¯          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br>//ä¿®æ”¹åˆšæ‰çš„æˆç»©ä¸º88<br>mysql&gt; update sc set grade = 88 where sno = &#x27;200215121&#x27; and cno = &#x27;1&#x27;;<br>Query OK, 1 row affected (0.01 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br>//ä¿®æ”¹é¡¹çš„å¥–å­¦é‡‘ç”±æ˜¯æ”¹æˆäº†å¦<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br>ï¼ˆ11ï¼‰åˆ é™¤åˆšå®šä¹‰çš„è§¦å‘å™¨<br>//åˆ é™¤å‰æŸ¥è¯¢è§¦å‘å™¨<br>mysql&gt; show triggers from csedb_u201911749\G;<br><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span> 1. row <span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><span class="hljs-symbol">*</span><br>             Trigger: sctr<br>               Event: UPDATE<br>               Table: sc<br>           Statement: begin<br>declare max_grade int;<br>set max_grade = (select max(grade) from sc where sc.sno=new.sno);<br>update student set student.scholarship = &#x27;æ˜¯&#x27; where student.sno = new.sno and max_grade &gt;=95;<br>update student set student.scholarship = &#x27;å¦&#x27; where student.sno = new.sno and max_grade <span class="hljs-variable">&lt;95;</span><br><span class="hljs-variable">end</span><br><span class="hljs-variable">              Timing: AFTER</span><br><span class="hljs-variable">             Created: 2021-11-12 21:32:29.26</span><br><span class="hljs-variable">            sql_mode: ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span><br><span class="hljs-variable">             Definer: root@localhost</span><br><span class="hljs-variable">character_set_client: gbk</span><br><span class="hljs-variable">collation_connection: gbk_chinese_ci</span><br><span class="hljs-variable">  Database Collation: utf8mb4_0900_ai_ci</span><br><span class="hljs-variable">1 row in set (0.00 sec)</span><br><span class="hljs-variable"></span><br><span class="hljs-variable">ERROR:</span><br><span class="hljs-variable">No query specified</span><br><span class="hljs-variable">//åˆ é™¤è§¦å‘å™¨</span><br><span class="hljs-variable">mysql&gt;</span> drop trigger sctr;<br>Query OK, 0 rows affected (0.02 sec)<br>//é‡æ–°æŸ¥è¯¢ï¼Œè§¦å‘å™¨å·²è¢«åˆ é™¤<br>mysql&gt; show triggers from csedb_u201911749\G;<br>Empty set (0.00 sec)<br><br>ERROR:<br>No query specified<br>ï¼ˆ12ï¼‰å®šä¹‰ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹è®¡ç®— CS ç³»çš„è¯¾ç¨‹çš„å¹³å‡æˆç»©å’Œæœ€é«˜æˆç»©ï¼Œåœ¨æŸ¥è¯¢åˆ†æå™¨æˆ–æŸ¥è¯¢ç¼–<br>è¾‘å™¨ä¸­æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ï¼ŒæŸ¥çœ‹ç»“æœã€‚<br>mysql&gt; select <span class="hljs-symbol">*</span> from student;<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Sname </span>|<span class="hljs-string"> Ssex </span>|<span class="hljs-string"> Sage </span>|<span class="hljs-string"> Sdept </span>|<span class="hljs-string"> Scholarship </span>|<br>+-----------+-------+------+------+-------+-------------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> CS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215123 </span>|<span class="hljs-string"> ç‹æ•  </span>|<span class="hljs-string"> å¥³   </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> MA    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> å¼ ç«‹  </span>|<span class="hljs-string"> ç”·   </span>|<span class="hljs-string">   20 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> å¼ ä¸‰  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   19 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> æå››  </span>|<span class="hljs-string"> NULL </span>|<span class="hljs-string">   21 </span>|<span class="hljs-string"> IS    </span>|<span class="hljs-string"> å¦          </span>|<br>+-----------+-------+------+------+-------+-------------+<br>6 rows in set (0.00 sec)<br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>9 rows in set (0.00 sec)<br>mysql&gt; delimiter $ //åˆ›å»ºå­˜å‚¨è¿‡ç¨‹<br>mysql&gt; create procedure cs_grade(<br>    -&gt; out avg_grade int,<br>    -&gt; out max_grade int)<br>    -&gt; begin<br>    -&gt; select avg(grade)<br>    -&gt; into avg_grade<br>    -&gt; from student,sc<br>    -&gt; where student.sdept = &#x27;cs&#x27; and student.sno = sc.sno;<br>    -&gt; select max(grade)<br>    -&gt; into max_grade<br>    -&gt; from student,sc<br>    -&gt; where student.sdept = &#x27;cs&#x27; and student.sno = sc.sno;<br>    -&gt; end $<br>Query OK, 0 rows affected (0.01 sec)<br>mysql&gt; delimiter ; //é‡æ–°å®šä¹‰ç»ˆç»“ç¬¦ä¸º&#x27;;&#x27;<br>mysql&gt; call cs_grade(<span class="hljs-meta">@avg_grade,</span><span class="hljs-meta">@max_grade);//è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</span><br>Query OK, 1 row affected (0.00 sec)<br><br>mysql&gt; select <span class="hljs-meta">@avg_grade,</span><span class="hljs-meta">@max_grade;</span><br>+------------+------------+<br>|<span class="hljs-string"> @avg_grade </span>|<span class="hljs-string"> @max_grade </span>|<br>+------------+------------+<br>|<span class="hljs-string">         84 </span>|<span class="hljs-string">         90 </span>|<br>+------------+------------+<br>1 row in set (0.00 sec)<br><br>ï¼ˆ13ï¼‰å®šä¹‰ä¸€ä¸ªå¸¦å­¦å·ä¸ºå‚æ•°çš„æŸ¥çœ‹æŸä¸ªå­¦å·çš„æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ï¼ŒæŸ¥è¯¢ç»“æœè¦åŒ…å«å­¦ç”Ÿå§“<br>åã€‚è¿›è¡ŒéªŒè¯ã€‚<br>//å…ˆåˆ›å»ºä¸´æ—¶è¡¨ä¿å­˜æ•°æ®<br>mysql&gt; create temporary table stu_info(<br>    -&gt; sno  char(9) null,<br>    -&gt; sname char(20) null,<br>    -&gt; cno char(5) null,<br>    -&gt; cname char(20)null,<br>    -&gt; grade int);<br>Query OK, 0 rows affected (0.00 sec)<br>mysql&gt; delimiter $  //æ”¹å˜ç»ˆç»“ç¬¦<br>//å»ºç«‹å­˜å‚¨è¿‡ç¨‹ï¼Œä¼ å…¥sid char(9) ,insert into table select.....æŠŠselectçš„ç»“æœæ’å…¥table<br>mysql&gt; create procedure stu_grade(<br>    -&gt; in sid char(9))<br>    -&gt; begin<br>    -&gt; insert into stu_info<br>    -&gt; select sc.sno,sname,sc.cno,cname,grade from student,course,sc where sid = sc.sno and sc.sno = student.sno and sc.cno =course.cno;<br>    -&gt; end$<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; delimiter ;  //æœªè°ƒç”¨å­˜å‚¨è¿‡ç¨‹å‰ï¼Œä¸´æ—¶è¡¨ä¸ºç©º<br>mysql&gt; select <span class="hljs-symbol">*</span> from stu_info;<br>Empty set (0.00 sec)<br>//è°ƒç”¨å­˜å‚¨è¿‡ç¨‹<br>mysql&gt; call stu_grade(&#x27;200215121&#x27;);<br>Query OK, 3 rows affected (0.01 sec)<br>//æŸ¥çœ‹ä¸´æ—¶è¡¨ç»“æœ<br>mysql&gt; select <span class="hljs-symbol">*</span> from stu_info;<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> cno  </span>|<span class="hljs-string"> cname    </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 1    </span>|<span class="hljs-string"> æ•°æ®åº“   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 2    </span>|<span class="hljs-string"> æ•°å­¦     </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 3    </span>|<span class="hljs-string"> ä¿¡æ¯ç³»ç»Ÿ </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-------+------+----------+-------+<br>3 rows in set (0.00 sec)<br>ï¼ˆ14ï¼‰æŠŠä¸Šä¸€é¢˜æ”¹æˆå‡½æ•°ã€‚å†è¿›è¡ŒéªŒè¯ã€‚<br>//å…ˆæŠŠåˆ›å»ºå‡½æ•°çš„åŠŸèƒ½æ‰“å¼€ï¼Œæ£€æŸ¥ä¸‹é¢çš„å˜é‡æ˜¯ä¸æ˜¯on<br>mysql&gt; show variables like &#x27;%func%&#x27;;<br>+---------------------------------+-------+<br>|<span class="hljs-string"> Variable_name                   </span>|<span class="hljs-string"> Value </span>|<br>+---------------------------------+-------+<br>|<span class="hljs-string"> log_bin_trust_function_creators </span>|<span class="hljs-string"> OFF   </span>|<br>+---------------------------------+-------+<br>1 row in set, 1 warning (0.01 sec)<br><br>mysql&gt; set global log_bin_trust_function_creators =1;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; show variables like &#x27;%func%&#x27;;<br>+---------------------------------+-------+<br>|<span class="hljs-string"> Variable_name                   </span>|<span class="hljs-string"> Value </span>|<br>+---------------------------------+-------+<br>|<span class="hljs-string"> log_bin_trust_function_creators </span>|<span class="hljs-string"> ON    </span>|<br>+---------------------------------+-------+<br>1 row in set, 1 warning (0.00 sec)<br>//åˆ›å»ºå‡½æ•°ï¼Œä¼ å…¥sid<br>mysql&gt; delimiter $<br>mysql&gt; create function stu_grade2(sid char(9))<br>    -&gt; returns tinyint<br>    -&gt; begin<br>    -&gt; insert into stu_info<br>    -&gt; select sc.sno,sname,sc.cno,cname,grade from student,course,sc where sid = sc.sno and sc.sno = student.sno and sc.cno =course.cno;<br>    -&gt; return 1;<br>    -&gt; end$<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; delimiter ;<br>mysql&gt; select <span class="hljs-symbol">*</span> from stu_info; //æœªè°ƒç”¨å‡½æ•°å‰çš„ä¸´æ—¶è¡¨<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> cno  </span>|<span class="hljs-string"> cname    </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 1    </span>|<span class="hljs-string"> æ•°æ®åº“   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 2    </span>|<span class="hljs-string"> æ•°å­¦     </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 3    </span>|<span class="hljs-string"> ä¿¡æ¯ç³»ç»Ÿ </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-------+------+----------+-------+<br>3 rows in set (0.00 sec)<br>//æ‰§è¡Œå‡½æ•°ï¼Œæ˜¾ç¤ºçš„1æ—¶è¿”å›å€¼1<br>mysql&gt; select stu_grade2(&#x27;200215122&#x27;);<br>+-------------------------+<br>|<span class="hljs-string"> stu_grade2(&#x27;200215122&#x27;) </span>|<br>+-------------------------+<br>|<span class="hljs-string">                       1 </span>|<br>+-------------------------+<br>1 row in set (0.01 sec)<br>//å†æ¬¡æŸ¥çœ‹ä¸´æ—¶è¡¨<br>mysql&gt; select <span class="hljs-symbol">*</span> from stu_info;<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> sno       </span>|<span class="hljs-string"> sname </span>|<span class="hljs-string"> cno  </span>|<span class="hljs-string"> cname    </span>|<span class="hljs-string"> grade </span>|<br>+-----------+-------+------+----------+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 1    </span>|<span class="hljs-string"> æ•°æ®åº“   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 2    </span>|<span class="hljs-string"> æ•°å­¦     </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> æå‹‡  </span>|<span class="hljs-string"> 3    </span>|<span class="hljs-string"> ä¿¡æ¯ç³»ç»Ÿ </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> 1    </span>|<span class="hljs-string"> æ•°æ®åº“   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> 2    </span>|<span class="hljs-string"> æ•°å­¦     </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> åˆ˜æ™¨  </span>|<span class="hljs-string"> 3    </span>|<span class="hljs-string"> ä¿¡æ¯ç³»ç»Ÿ </span>|<span class="hljs-string">    80 </span>|<br>+-----------+-------+------+----------+-------+<br>6 rows in set (0.00 sec)<br>ï¼ˆ15ï¼‰åœ¨ SC è¡¨ä¸Šå®šä¹‰ä¸€ä¸ªå®Œæ•´æ€§çº¦æŸï¼Œè¦æ±‚æˆç»©å† 0-100 ä¹‹é—´ã€‚å®šä¹‰çº¦æŸå‰ï¼Œå…ˆæŠŠæŸä¸ªå­¦<br>ç”Ÿçš„æˆç»©ä¿®æ”¹æˆ 120ï¼Œè¿›è¡ŒæŸ¥è¯¢ï¼Œå†ä¿®æ”¹å›æ¥ã€‚å®šä¹‰çº¦æŸåï¼Œå†æŠŠè¯¥å­¦ç”Ÿæˆç»©ä¿®æ”¹ä¸º 120ï¼Œ<br>ç„¶åè¿›è¡ŒæŸ¥è¯¢<br><br>mysql&gt; update sc set grade = 120<br>    -&gt; where sno = &#x27;200215121&#x27; and cno =&#x27;1&#x27;;<br>Query OK, 1 row affected (0.01 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">   120 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>9 rows in set (0.00 sec)<br><br>mysql&gt; update sc set grade = 88<br>    -&gt; where sno = &#x27;200215121&#x27; and cno =&#x27;1&#x27;;<br>Query OK, 1 row affected (0.01 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br><br>mysql&gt; select <span class="hljs-symbol">*</span> from sc;<br>+-----------+-----+-------+<br>|<span class="hljs-string"> Sno       </span>|<span class="hljs-string"> Cno </span>|<span class="hljs-string"> Grade </span>|<br>+-----------+-----+-------+<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    85 </span>|<br>|<span class="hljs-string"> 200215121 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    88 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    75 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 2   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215122 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    80 </span>|<br>|<span class="hljs-string"> 200215125 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    79 </span>|<br>|<span class="hljs-string"> 200215126 </span>|<span class="hljs-string"> 3   </span>|<span class="hljs-string">    90 </span>|<br>|<span class="hljs-string"> 200215128 </span>|<span class="hljs-string"> 1   </span>|<span class="hljs-string">    88 </span>|<br>+-----------+-----+-------+<br>9 rows in set (0.00 sec)<br>//è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰çº¦æŸ<br>mysql&gt; alter table sc add constraint check_grade check(grade &gt;=0 and grade <span class="hljs-variable">&lt;=100);</span><br><span class="hljs-variable">Query OK, 9 rows affected (0.09 sec)</span><br><span class="hljs-variable">Records: 9  Duplicates: 0  Warnings: 0</span><br><span class="hljs-variable">//æ›´æ–°å¤±è´¥ï¼Œæç¤ºæ£€æŸ¥çº¦æŸä¸é€šè¿‡</span><br><span class="hljs-variable">mysql&gt;</span> update sc set grade = 120<br>    -&gt; where sno = &#x27;200215121&#x27; and cno =&#x27;1&#x27;;<br>ERROR 3819 (HY000): Check constraint &#x27;check_grade&#x27; is violated.<br></code></pre></div></td></tr></table></figure><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://www.runoob.com/mysql/mysql-tutorial.html">MySQL æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p><a href="https://www.cnblogs.com/qlqwjy/p/7842647.html">ã€è§¦å‘å™¨ã€‘MySQLè§¦å‘å™¨ä½¿ç”¨è¯¦è§£ - QiaoZhi - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://www.jianshu.com/p/7b2d74701ccd">mysqlå­˜å‚¨è¿‡ç¨‹è¯¦ç»†æ•™ç¨‹ - ç®€ä¹¦ (jianshu.com)</a></p><p><a href="https://www.yiibai.com/mysql/getting-started-with-mysql-stored-procedures.html">MySQLå­˜å‚¨è¿‡ç¨‹å…¥é—¨ - MySQLæ•™ç¨‹â„¢ (yiibai.com)</a></p><p><a href="https://www.runoob.com/sql/sql-insert-into-select.html">SQL INSERT INTO SELECT è¯­å¥ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p>[mysqlé‡Œæ€æ ·åˆ›å»ºå‡½æ•°-mysqlæ•™ç¨‹-PHPä¸­æ–‡ç½‘](<a href="https://www.php.cn/mysql-tutorials-460561.html#:~:text=mysql%E9%87%8C%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9A%E9%A6%96%E5%85%88%E6%9F%A5%E7%9C%8B%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E7%9A%84%E5%8A%9F%E8%83%BD%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF%EF%BC%9B%E7%84%B6%E5%90%8E%E5%A6%82%E6%9E%9CValue%E5%A4%84%E5%80%BC%E4%B8%BAOFF%EF%BC%8C%E5%88%99%E9%9C%80%E5%B0%86%E5%85%B6%E5%BC%80%E5%90%AF%EF%BC%9B%E6%8E%A5%E7%9D%80%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E6%97%B6%EF%BC%8C%E5%85%88%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9B%E6%9C%80%E5%90%8E%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95%E5%8D%B3%E5%8F%AF%E3%80%82,%E4%BA%8C%E3%80%81%E5%A6%82%E6%9E%9CValue%E5%A4%84%E5%80%BC%E4%B8%BAOFF%EF%BC%8C%E5%88%99%E9%9C%80%E5%B0%86%E5%85%B6%E5%BC%80%E5%90%AF%E3%80%82">https://www.php.cn/mysql-tutorials-460561.html#:~:text=mysqlé‡Œåˆ›å»ºå‡½æ•°çš„æ–¹æ³•ï¼šé¦–å…ˆæŸ¥çœ‹åˆ›å»ºå‡½æ•°çš„åŠŸèƒ½æ˜¯å¦å¼€å¯ï¼›ç„¶åå¦‚æœValueå¤„å€¼ä¸ºOFFï¼Œåˆ™éœ€å°†å…¶å¼€å¯ï¼›æ¥ç€åˆ›å»ºå‡½æ•°æ—¶ï¼Œå…ˆé€‰æ‹©æ•°æ®åº“ï¼›æœ€åè¿›è¡Œæµ‹è¯•å³å¯ã€‚,äºŒã€å¦‚æœValueå¤„å€¼ä¸ºOFFï¼Œåˆ™éœ€å°†å…¶å¼€å¯ã€‚</a> å‡½æ•°åˆ›å»ºæˆåŠŸåéœ€æ¢å¤åˆ†å·ä¸ºå‘½ä»¤ç»ˆæ­¢ç¬¦å·ã€‚)</p><p><a href="https://blog.csdn.net/liyazhen2011/article/details/82870406"> MySqlåˆ›å»ºè‡ªå®šä¹‰å‡½æ•°ï¼ˆFunctionï¼‰_ä¸‡é‡Œå½’æ¥å°‘å¹´å¿ƒ-CSDNåšå®¢_mysql è‡ªå®šä¹‰å‡½æ•°</a></p>]]></content>
    
    
    <categories>
      
      <category>HUST</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HUST</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸‰.RedisåŸºç¡€</title>
    <link href="/2021/11/10/Redis%E5%9F%BA%E7%A1%80/"/>
    <url>/2021/11/10/Redis%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="RedisåŸºç¡€"><a href="#RedisåŸºç¡€" class="headerlink" title="RedisåŸºç¡€"></a>RedisåŸºç¡€</h1><h2 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h2><ul><li>redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œåœ¨redis.confä¸­ç”±<code>database 16</code>æ ‡è¯†</li><li>é»˜è®¤ä½¿ç”¨ç¬¬0ä¸ªæ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨<code>select num</code>åˆ‡æ¢æ•°æ®åº“</li><li>é€‰æ‹©æ•°æ®åº“åï¼Œä½¿ç”¨å‘½ä»¤<code>DBSIZE</code>å¯æŸ¥çœ‹å½“å‰åº“ä¸­çš„æ•°æ®é‡</li><li><code>keys *</code>,æŸ¥çœ‹å½“å‰åº“ä¸­çš„æ‰€æœ‰keyçš„name</li><li><code>flushdb</code>  æ¸…é™¤å½“å‰åº“ï¼›<code>FLUSHALL</code>  æ¸…ç©ºå…¨éƒ¨æ•°æ®åº“å†…å®¹</li><li><code>EXIST  [key-name]</code>,åˆ¤æ–­ä¸€ä¸ªkeyæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›1ï¼Œä¸å­˜åœ¨è¿”å›0</li><li><code>MOVE [key-name]</code>ï¼Œç§»é™¤ä¸€ä¸ªkey</li><li><code>set  [key-name]  [key-value]</code>ï¼Œä¸ºä¸€ä¸ªkeyè®¾ç½®å…·ä½“å€¼</li><li><code>get  [key-name]</code>ï¼Œè·å–keyçš„å…·ä½“å€¼</li><li><code>EXPIRE  [key-name]  [int]</code>ï¼Œè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´</li><li><code>ttl  [key-name]</code>ï¼ŒæŸ¥è¯¢keyå½“å‰çš„å‰©ä½™æ—¶é—´ï¼Œè¿‡æœŸä¹‹ågetçš„å€¼ä¸ºnul</li><li><code>type  [key-name]</code>ï¼ŒæŸ¥çœ‹å½“å‰keyçš„ç±»å‹</li></ul><h2 id="Redisæ˜¯å•çº¿ç¨‹çš„"><a href="#Redisæ˜¯å•çº¿ç¨‹çš„" class="headerlink" title="Redisæ˜¯å•çº¿ç¨‹çš„"></a>Redisæ˜¯å•çº¿ç¨‹çš„</h2><p>å®˜æ–¹è¡¨ç¤ºï¼ŒRedisæ˜¯åŸºäºå†…å­˜æ“ä½œï¼ŒCPUä¸æ˜¯Redisçš„æ€§èƒ½ç“¶é¢ˆï¼ŒRedisçš„ç“¶é¢ˆæ¥æºäºæœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½ï¼Œæ—¢ç„¶å¯ä»¥ä½¿ç”¨å•çº¿ç¨‹æ¥å®ç°ï¼Œé‚£å°±ä½¿ç”¨å•çº¿ç¨‹ã€‚</p><p>Redisæ˜¯ç”±Cç¼–å†™ï¼Œå®˜æ–¹æ•°æ®è¯´æ˜Redisçš„QPSå¯è¾¾åˆ°100000+ï¼Œå®Œå…¨ä¸æ¯”åŒæ ·æ˜¯KVå­˜å‚¨çš„Memcachedå·®ã€‚</p><h2 id="Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ"><a href="#Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ" class="headerlink" title="Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ"></a>Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ</h2><ul><li>è¯¯åŒº1ï¼šé«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ï¼Ÿ</li><li>è¯¯åŒº2ï¼šå¤šçº¿ç¨‹ï¼ˆå­˜åœ¨CPUä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ï¼‰ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜ï¼Ÿ</li><li>æ ¸å¿ƒï¼šRedisæ˜¯å°†æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥ä½¿ç”¨å•çº¿ç¨‹å»æ“ä½œçš„æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šçº¿ç¨‹åè€Œä¼šç”±äºCPUä¸Šä¸‹æ–‡åˆ‡æ¢äº§ç”Ÿè€—æ—¶æ“ä½œã€‚å¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé‚£æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šæ¬¡è¯»å†™éƒ½åœ¨ä¸€ä¸ªCPUä¸Šï¼Œåœ¨æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸Šæ˜¯ï¼Œå•çº¿ç¨‹å°±æ˜¯æœ€ä½³æ–¹æ¡ˆï¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒ.Rediså®‰è£…é…ç½®</title>
    <link href="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"/>
    <url>/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="Rediså®‰è£…ä¸é…ç½®"><a href="#Rediså®‰è£…ä¸é…ç½®" class="headerlink" title="Rediså®‰è£…ä¸é…ç½®"></a>Rediså®‰è£…ä¸é…ç½®</h1><ol><li><p>é¦–å…ˆé€šè¿‡sshè¿œç¨‹è¿æ¥æœåŠ¡å™¨æˆ–åœ¨è™šæ‹Ÿæœºä¸­å®‰è£…</p></li><li><p>æ‰§è¡Œå‘½ä»¤ï¼š<code>wget https://download.redis.io/releases/redis-6.2.6.tar.gz</code>ï¼Œä¸‹è½½å‹ç¼©åŒ…åˆ°æœ¬åœ°/optç›®å½•ä¸‹ï¼Œå¦‚å›¾ï¼š</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/1.png" srcset="/img/loading.gif" lazyload alt="1"></p></li><li><p> æ‰§è¡Œå‘½ä»¤:<code>tar  -zxvf  redis-6.2.6.tat.gz </code>,å°†å‹ç¼©åŒ…è§£å‹å¤§å½“å‰ç›®å½•</p></li><li><p>è§£å‹å®Œæˆä¹‹åï¼Œå¯è¿›å…¥è§£å‹ç›®å½•æŸ¥çœ‹å½“å‰æ–‡ä»¶ï¼š</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/2.png" srcset="/img/loading.gif" lazyload alt="2"></p><p>å…¶ä¸­<code>redis.conf</code>ä¸ºé…ç½®æ–‡ä»¶</p></li><li><p>åŸºæœ¬ç¯å¢ƒå®‰è£…ä¸rediså®‰è£…ï¼š</p><ul><li><p><code>yum install gcc-c++ </code>   å®‰è£… gcc ç¼–è¯‘å·¥å…·</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/3.png" srcset="/img/loading.gif" lazyload alt="3"></p></li><li><p>åœ¨redisç›®å½•ä¸‹æ‰§è¡Œ<code>make</code>ç¼–è¯‘å®‰è£…redisï¼Œå¯èƒ½ä¼šèŠ±è´¹ä¸€å®šçš„æ—¶é—´ï¼Œå› ä¸ºè¦å®‰è£…ä¸€ç³»åˆ—çš„ç¯å¢ƒ</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/4.png" srcset="/img/loading.gif" lazyload alt="4"></p><p><code>make</code>å®Œæˆåä¼šæ˜¾ç¤ºåœ¨srcç›®å½•ä¸‹å¢åŠ äº†å†…å®¹ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨<code>make</code>æˆ–<code>make install</code>è¿›è¡Œæ£€éªŒï¼Œå› ä¸ºç¯å¢ƒå·²ç»é…ç½®å¥½ï¼Œæ‰€ä»¥ä¹‹åçš„<code>make</code>é€Ÿåº¦å¾ˆå¿«</p></li><li><p>redisçš„é»˜è®¤å®‰è£…è·¯å¾„åœ¨<code>/usr/local/bin</code></p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/5.png" srcset="/img/loading.gif" lazyload alt="5"></p></li></ul></li><li><p> å°†redisçš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°å½“å‰çš„ç¨‹åºç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªç›®å½•<code>kconfig</code>ï¼Œä¿å­˜é…ç½®æ–‡ä»¶</p></li></ol><p>   <img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/6.png" srcset="/img/loading.gif" lazyload alt="6"></p><ol start="7"><li> redisé»˜è®¤ä¸æ˜¯åå°å¯åŠ¨çš„ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨<code>vim  redis.conf</code>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°†å›¾ä¸­çš„é€‰é¡¹ç”±<code>no</code>ä¿®æ”¹ä¸ºâ€™yesâ€™</li></ol><p>   <img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/7.png" srcset="/img/loading.gif" lazyload alt="7"></p><ol start="8"><li><p>ç»è¿‡ä¸Šè¿°é…ç½®ä¹‹åï¼Œä¾¿å¯ä»¥å¯åŠ¨redisæœåŠ¡ï¼Œä½¿ç”¨å‘½ä»¤<code>redis-server /kconfig/redis.conf </code></p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/8.png" srcset="/img/loading.gif" lazyload alt="8"></p></li><li><p>å¯åŠ¨rediså®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯ï¼Œä½¿ç”¨å‘½ä»¤<code>redis-cli -p 6379</code>è¿æ¥ç«¯å£6379</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/9.png" srcset="/img/loading.gif" lazyload alt="9"></p></li><li><p>æŸ¥çœ‹redisçš„è¿›ç¨‹è¿è¡ŒçŠ¶æ€ï¼Œä½¿ç”¨å‘½ä»¤<code>ps -ef |grep redis</code></p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/10.png" srcset="/img/loading.gif" lazyload alt="10"></p></li><li><p>å¦‚ä½•å…³é—­redisæœåŠ¡ï¼Ÿåœ¨å®¢æˆ·ç«¯æ‰§è¡Œ<code>shutdown</code>å‘½ä»¤å…³é—­æœåŠ¡å™¨ï¼Œæ‰§è¡Œ<code>exit</code>é€€å‡ºå®¢æˆ·ç«¯</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/11.png" srcset="/img/loading.gif" lazyload alt="11"></p></li></ol><h1 id="redis-benchmark"><a href="#redis-benchmark" class="headerlink" title="redis-benchmark"></a>redis-benchmark</h1><p>â€‹    å®˜æ–¹è‡ªå¸¦çš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå¦‚ä½•ä½¿ç”¨? <code>redis-benchmark  [option]  [option value]</code>ï¼Œè¯¥å‘½ä»¤åœ¨redisçš„ç›®å½•ä¸‹æ‰§è¡Œï¼Œè€Œä¸æ˜¯å®¢æˆ·ç«¯çš„å†…éƒ¨ä¹‹çµï¼Œå…·ä½“å‚æ•°å¦‚ä¸‹ï¼š</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/13.png" srcset="/img/loading.gif" lazyload alt="12"></p><p>ç®€å•æµ‹è¯•ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-comment"># æµ‹è¯•100ä¸ªå¹¶å‘è¿æ¥ 100000ä¸ªè¯·æ±‚</span><br><span class="hljs-attribute">redis</span>-benchmark -h localhost -p <span class="hljs-number">6379</span> -c <span class="hljs-number">100</span> -n <span class="hljs-number">100000</span><br></code></pre></div></td></tr></table></figure><p>æµ‹è¯•ç»“æœä¸åˆ†æï¼š</p><p><img src="/2021/11/10/Redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/12.png" srcset="/img/loading.gif" lazyload alt="13"></p><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://www.runoob.com/redis/redis-tutorial.html">Redis æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€.Redisæ¦‚è¿°</title>
    <link href="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/"/>
    <url>/2021/11/09/Redis%E6%A6%82%E8%BF%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€-Redisæ¦‚è¿°"><a href="#ä¸€-Redisæ¦‚è¿°" class="headerlink" title="ä¸€.Redisæ¦‚è¿°"></a>ä¸€.Redisæ¦‚è¿°</h1><h2 id="1-æ•°æ®åº“å‘å±•æ¼”å˜"><a href="#1-æ•°æ®åº“å‘å±•æ¼”å˜" class="headerlink" title="1. æ•°æ®åº“å‘å±•æ¼”å˜"></a>1. æ•°æ®åº“å‘å±•æ¼”å˜</h2><ol><li><p>å•æœºMysqlçš„å¹´ä»£ï¼š</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/1.png" srcset="/img/loading.gif" lazyload alt="1"></p><p>èµ·åˆç½‘ç«™è®¿é—®é‡å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œå•ä¸ªæ•°æ®åº“å°±å¯ä»¥æ»¡è¶³éœ€æ±‚ï¼Œä¸”å½“æ—¶æ›´å¤šçš„ä½¿ç”¨é™æ€ç½‘é¡µHtmlï¼ŒæœåŠ¡å™¨å¹¶æ²¡æœ‰å¾ˆå¤§çš„å‹åŠ›ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨å¾ˆå¤šç“¶é¢ˆ:</p><ul><li>æ•°æ®é‡å¦‚æœå¤ªå¤§ï¼Œä¸€ä¸ªæœºå™¨æ”¾ä¸ä¸‹</li><li>æ•°æ®çš„ç´¢å¼•(B+ Tree)ï¼Œä¸€ä¸ªæœºå™¨çš„å†…å­˜ä¹Ÿæ”¾ä¸ä¸‹</li><li>è®¿é—®é‡(è¯»å†™æ··åˆ)ï¼Œä¸€ä¸ªæœåŠ¡å™¨æ‰¿å—ä¸äº†</li></ul><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„è¯ï¼Œå•æœºæ¨¡å¼æ— æ³•è§£å†³ã€‚</p></li><li><p>Memcached(ç¼“å­˜)+Mysql+å‚ç›´æ‹†åˆ†(è¯»å†™åˆ†ç¦»)</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/2.png" srcset="/img/loading.gif" lazyload alt="2"></p><p>æˆ‘ä»¬é‡‡ç”¨è¯»å†™åˆ†ç¦»ï¼Œç”±ä¸€ä¸ªåº“æ¥è¿›è¡Œå†™æ•°æ®ï¼Œå…¶ä»–æ•°æ®åº“åŒæ­¥å†™åº“çš„æ•°æ®ï¼Œæä¾›è¯»æ•°æ®æœåŠ¡ã€‚</p><p>å½“ç½‘ç«™å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯åœ¨è¯»æ—¶ï¼Œæ¯æ¬¡éƒ½è¦æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±å¾ˆéº»çƒ¦ï¼Œå› æ­¤å¸Œæœ›å‡è½»æ•°æ®åº“çš„è¯»å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜(Cache)æ¥ç¼“è§£è¯»å‹åŠ›ã€‚</p><p>å‘å±•è¿‡ç¨‹ï¼šä¼˜åŒ–æ•°æ®ç»“æ„å’Œç´¢å¼•â€”&gt;æ–‡ä»¶ç¼“å­˜(ä½†æ–‡ä»¶è¯»å†™(IO)å‹åŠ›å¢å¤§ï¼Œä¹Ÿä¼šé™ä½æ•ˆç‡)â€”&gt;Memchched(å½“æ—¶çš„çƒ­é—¨æŠ€æœ¯)ã€‚</p></li><li><p>åˆ†åº“åˆ†è¡¨ + åˆ†åº“åˆ†è¡¨ + Mysqlé›†ç¾¤</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/3.png" srcset="/img/loading.gif" lazyload alt="3"></p><p>å°½ç®¡å®ç°äº†åˆ†åº“åˆ†è¡¨ï¼Œä½†æ˜¯ç”±äºæ•°æ®ç±»å‹ï¼Œæ•°æ®é‡çš„å¢åŠ (åœ°å›¾å®šä½ï¼ŒéŸ³ä¹ï¼Œçƒ­æ¦œç­‰æ•°æ®)</p><p>Mysqlç­‰å…³ç³»å‹æ•°æ®åº“å°±ä¸å¤Ÿç”¨äº†ï¼Œæ•°æ®é‡å¾ˆå¤šï¼Œå˜åŒ–å¾ˆå¤§ï¼Œä¾‹å¦‚ç»™ä¸€ä¸ª10ä¸‡è¡Œçš„æ•°æ®å¢åŠ ä¸€ä¸ªåˆ—å±æ€§ï¼Œå°†éœ€è¦ä¿®æ”¹æ‰€æœ‰10ä¸‡æ¡æ•°æ®ã€‚</p><p>å¦‚æœä½¿ç”¨Mysqlæ¥å­˜å‚¨æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œåšå®¢ï¼Œå›¾ç‰‡ç­‰ï¼Œæ•°æ®åº“çš„è¡¨å°†ä¼šå˜å¾—å¾ˆå¤§ï¼Œæ•ˆç‡ä¹Ÿä¼šé™ä½ï¼Œå¦‚æœæœ‰ä¸€ç§æ•°æ®åº“ä¸“é—¨æ¥å¤„ç†è¿™ç§æ•°æ®ï¼ŒMysqlçš„å‹åŠ›å°±ä¼šå˜å¾—ååˆ†å°ã€‚</p></li><li><p>å½“å‰æ—¶ä»£çš„äº’è”ç½‘é¡¹ç›®</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/4.png" srcset="/img/loading.gif" lazyload alt="4"></p></li></ol><h2 id="2-ä»€ä¹ˆæ˜¯NoSQLï¼Ÿ"><a href="#2-ä»€ä¹ˆæ˜¯NoSQLï¼Ÿ" class="headerlink" title="2. ä»€ä¹ˆæ˜¯NoSQLï¼Ÿ"></a>2. ä»€ä¹ˆæ˜¯NoSQLï¼Ÿ</h2><h3 id="2-1-NoSQLå®šä¹‰"><a href="#2-1-NoSQLå®šä¹‰" class="headerlink" title="2.1 NoSQLå®šä¹‰"></a>2.1 NoSQLå®šä¹‰</h3><p>â€‹    NoSQL = Not  Only  SQL(ä¸ä»…ä»…æ˜¯SQL)</p><p>â€‹    æ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“ï¼Œéšç€Web2.0äº’è”ç½‘çš„è¯ç”Ÿï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¾ˆéš¾åº”å¯¹Web2.0æ—¶ä»£ã€‚å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡çš„é«˜å¹¶å‘ç¤¾åŒºï¼Œæš´éœ²å‡º    å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ã€‚NoSQLåœ¨å½“ä»Šå¤§æ•°æ®ç¯å¢ƒä¸‹å‘å±•ååˆ†è¿…é€Ÿï¼ŒRedisæ˜¯å‘å±•æœ€å¿«çš„ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å½“ä¸‹å¿…é¡»è¦æŒæ¡çš„æŠ€æœ¯ã€‚</p><p>â€‹    å¾ˆå¤šæ•°æ®ç±»å‹ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤ç½‘ç»œï¼Œåœ°ç†ä½ç½®ï¼Œè¿™äº›æ•°æ®ç±»å‹çš„å­˜å‚¨ä¸éœ€è¦ä¸€ä¸ªç‰¹å®šçš„æ ¼å¼ï¼Œä¸éœ€è¦å¤šå°‘çš„æ“ä½œå°±å¯ä»¥æ¨ªå‘æ‰©å±•    çš„ã€‚ä¾‹å¦‚å¯ä»¥ä½¿ç”¨Map&lt;String,Object&gt;é”®å€¼å¯¹æ¥å­˜å‚¨ã€‚è€Œå…³ç³»å‹æ•°æ®åº“ä¸­çš„æ•°æ®ä¸€èˆ¬ä»¥è¡¨æ ¼çš„å½¢å¼å­˜åœ¨ï¼Œå…·æœ‰å›ºå®šçš„è¡Œå’Œåˆ—ã€‚</p><h3 id="2-2-NoSQLç‰¹ç‚¹"><a href="#2-2-NoSQLç‰¹ç‚¹" class="headerlink" title="2.2 NoSQLç‰¹ç‚¹"></a>2.2 NoSQLç‰¹ç‚¹</h3><p>â€‹    <strong>è§£è€¦ï¼</strong></p><ol><li><p>æ–¹ä¾¿æ‰©å±•ï¼ˆæ•°æ®ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œå¾ˆå¥½æ‰©å±•ï¼‰</p></li><li><p>å¤§æ•°æ®é‡çš„é«˜æ€§èƒ½ï¼ˆRedisä¸€ç§’å†™8ä¸‡æ¬¡ï¼Œè¯»å–11ä¸‡æ¬¡ï¼ŒNoSQLçš„ç¼“å­˜è®°å½•çº§ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„ç¼“å­˜ï¼Œæ€§èƒ½ä¼šæ¯”è¾ƒé«˜ï¼‰</p></li><li><p>æ•°æ®ç±»å‹æ˜¯å¤šæ ·æ€§çš„ï¼ˆä¸éœ€è¦å®ç°è®¾è®¡æ•°æ®åº“ï¼Œéšå–éšç”¨ï¼Œå¦‚æœæ•°æ®é‡å¾ˆå¤§ï¼Œè®¾è®¡è¡¨ç»“æ„æ˜¯å¾ˆéš¾çš„ï¼‰</p></li><li><p>ä¼ ç»ŸRDBMSä¸NoSQLçš„å¯¹æ¯”</p><figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">ä¼ ç»Ÿçš„RDBMSï¼š<br><span class="hljs-bullet">- </span>ç»“æ„åŒ–ç»„ç»‡<br><span class="hljs-bullet">- </span>SQL<br><span class="hljs-bullet">- </span>æ•°æ®ä¸å…³ç³»éƒ½å­˜å‚¨åœ¨å•ç‹¬çš„è¡¨ä¸­<br><span class="hljs-bullet">- </span>å…·æœ‰æ“ä½œè¯­è¨€ï¼Œæ•°æ®å®šä¹‰è¯­è¨€<br><span class="hljs-bullet">- </span>ä¸¥æ ¼çš„ä¸€è‡´æ€§<br><span class="hljs-bullet">- </span>åŸºç¡€çš„äº‹åŠ¡<br><span class="hljs-bullet">- </span>......<br></code></pre></div></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">NoSQL:<br><span class="hljs-bullet">- </span>ä¸ä»…ä»…æ˜¯æ•°æ®<br><span class="hljs-bullet">- </span>æ²¡æœ‰å›ºå®šçš„æŸ¥è¯¢è¯­è¨€ï¼Œå¯ä»¥å®šä¹‰è¯­æ³•<br><span class="hljs-bullet">- </span>é”®å€¼å¯¹å­˜å‚¨ï¼Œåˆ—å­˜å‚¨ï¼Œæ–‡æ¡£å­˜å‚¨ï¼Œå›¾å½¢æ•°æ®åº“ï¼ˆç¤¾äº¤å…³ç³»å­˜å‚¨ï¼‰<br><span class="hljs-bullet">- </span>æœ€ç»ˆä¸€è‡´æ€§<br><span class="hljs-bullet">- </span>CAPå®šç†å’ŒBASEï¼ˆå¼‚åœ°å¤šæ´»ï¼‰<br><span class="hljs-bullet">- </span>é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨ï¼Œé«˜å¯æ‰©å±•<br><span class="hljs-bullet">- </span>.....<br></code></pre></div></td></tr></table></figure></li><li><p>3vï¼šæµ·é‡ï¼Œå¤šæ ·ï¼Œå®æ—¶ï¼ˆå¤§æ•°æ®æ—¶ä»£é¢ä¸´çš„é—®é¢˜ï¼‰</p><p> 3é«˜ï¼šé«˜å¹¶å‘ï¼Œé«˜å¯æ‰©ï¼Œé«˜xingneng </p></li></ol><h2 id="3-NoSQLå››å¤§åˆ†ç±»"><a href="#3-NoSQLå››å¤§åˆ†ç±»" class="headerlink" title="3. NoSQLå››å¤§åˆ†ç±»"></a>3. NoSQLå››å¤§åˆ†ç±»</h2><ol><li><p>KVé”®å€¼å¯¹ï¼šRedisï¼ŒTairï¼ŒMemcachedâ€¦.</p></li><li><p>æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ ¼å¼ï¼Œä¸jsonç›¸åŒï¼‰ï¼š</p><ul><li>MongoDBï¼š<ul><li>ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼Œc++ç¼–å†™ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤§é‡çš„æ–‡æ¡£ã€‚</li><li>ä¸€ä¸ªä»‹äºå…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“ä¸­é—´çš„äº§å“ï¼Œæ˜¯éå…³ç³»è¡Œæ•°æ®åº“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæœ€åƒå…³ç³»å‹æ•°æ®åº“çš„ã€‚</li></ul></li><li>ConthDB</li></ul></li><li><p>åˆ—å­˜å‚¨æ•°æ®åº“ï¼šHBaseï¼Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</p></li><li><p>å›¾å…³ç³»æ•°æ®åº“(ä½¿ç”¨å›¾ç»“æ„å­˜å‚¨å…³ç³»)</p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/5.png" srcset="/img/loading.gif" lazyload alt="å›¾å…³ç³»"></p></li></ol><p><strong>å››ç§ç±»å‹å¯¹æ¯”:</strong></p><p><img src="/2021/11/09/Redis%E6%A6%82%E8%BF%B0/6.png" srcset="/img/loading.gif" lazyload alt="å››ç§NoSQLæ•°æ®åº“å¯¹æ¯”"></p><h2 id="4-Redisç®€ä»‹"><a href="#4-Redisç®€ä»‹" class="headerlink" title="4. Redisç®€ä»‹"></a>4. Redisç®€ä»‹</h2><ul><li><p>Redis(Remote Dictionary Server)ï¼Œè¿œç¨‹å­—å…¸æœåŠ¡ã€‚</p></li><li><p>æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSI <a href="https://baike.baidu.com/item/C%E8%AF%AD%E8%A8%80">Cè¯­è¨€</a>ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€Key-Value<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93/103728">æ•°æ®åº“</a>ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚</p></li><li><p>åŠŸèƒ½</p><ul><li>å†…å­˜å­˜å‚¨ï¼ŒæŒä¹…åŒ–ï¼Œå†…å­˜ä¸­æ˜¯æ–­ç”µå³å¤±ï¼Œå› æ­¤éœ€è¦åšæŒä¹…åŒ–ï¼ˆrbdï¼Œaof   ???)</li><li>æ•ˆç‡é«˜ï¼Œå¯ç”¨äºé«˜é€Ÿç¼“å­˜</li><li>å‘å¸ƒè®¢é˜…ç³»ç»Ÿ</li><li>åœ°å›¾ä¿¡æ¯åˆ†æ</li><li>è®¡æ—¶å™¨ï¼Œè®¡æ•°å™¨ï¼ˆç»Ÿè®¡æµè§ˆé‡â€¦ï¼‰</li><li>â€¦â€¦</li></ul></li><li><p>ç‰¹æ€§</p><ul><li>å¤šæ ·çš„æ•°æ®ç±»å‹</li><li>æŒä¹…åŒ–</li><li>é›†ç¾¤</li><li>äº‹åŠ¡</li><li>â€¦â€¦.</li></ul></li><li><p>å‚è€ƒ</p><ul><li><a href="https://redis.io/">Rediså®˜ç½‘</a></li><li><a href="http://www.redis.cn/">Redisä¸­æ–‡å®˜ç½‘</a></li></ul></li><li><p>ä¸€èˆ¬åœ¨LinuxæœåŠ¡å™¨ä¸Šéƒ¨ç½²Redis</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexoå¸¸ç”¨æ“ä½œ</title>
    <link href="/2021/11/09/Hexo%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"/>
    <url>/2021/11/09/Hexo%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h2 id="Hexoæ¡†æ¶æ“ä½œ"><a href="#Hexoæ¡†æ¶æ“ä½œ" class="headerlink" title="Hexoæ¡†æ¶æ“ä½œ"></a>Hexoæ¡†æ¶æ“ä½œ</h2><ul><li>hexo -clean    æ¸…é™¤æ—§æ–‡ä»¶</li><li>hexo -g           ç”Ÿæˆæœ€æ–°</li><li>hexo -d          æäº¤</li><li>hexo -s          å¯åŠ¨æœ¬åœ°é¢„è§ˆ</li><li>ssh -T  <a href="mailto:&#103;&#x69;&#x74;&#x40;&#x67;&#105;&#116;&#x68;&#117;&#98;&#46;&#99;&#111;&#109;">&#103;&#x69;&#x74;&#x40;&#x67;&#105;&#116;&#x68;&#117;&#98;&#46;&#99;&#111;&#109;</a>    éªŒè¯æ˜¯å¦ä¸æœåŠ¡å™¨è¿æ¥æˆåŠŸ</li></ul><h2 id="Front-matterå˜é‡"><a href="#Front-matterå˜é‡" class="headerlink" title="Front-matterå˜é‡"></a>Front-matterå˜é‡</h2><ul><li>title    æ–‡ç« æ ‡é¢˜</li><li>index_img     é¦–é¡µæ˜¾ç¤ºå›¾ç‰‡</li><li>date    æ—¥æœŸ</li><li>hide    æ–‡ç« æ˜¯å¦éšè—</li><li>tags      æ–‡ç« æ ‡ç­¾</li><li>categories    åˆ†ç±»</li><li>sticky    ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå¤§è¶Šé å‰</li><li>top    ä¸stickyåŠŸèƒ½ä¸€è‡´</li><li>banner_img    æ–‡ç« é¡µé¡¶éƒ¨æ”¾å¤§å›¾ï¼Œå›¾ç‰‡è·¯å¾„ä¸ºï¼ˆ/img/name.jpgï¼‰</li><li>excerpt    æ‘˜è¦ï¼Œé¦–é¡µæ˜¾ç¤º</li></ul><h2 id="æ·»åŠ ä¾¿ç­¾"><a href="#æ·»åŠ ä¾¿ç­¾" class="headerlink" title="æ·»åŠ ä¾¿ç­¾"></a>æ·»åŠ ä¾¿ç­¾</h2><p>â€‹    åœ¨markdownä¸­ä½¿ç”¨å¦‚ä¸‹ä»£ç æ·»åŠ ä¾¿ç­¾ï¼š</p><figure class="highlight mel"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mel">&#123;% note success %&#125;   <span class="hljs-comment">//å•ç‹¬ä¸€è¡Œï¼Œsuccessä¸ºä¾¿ç­¾ç±»åˆ«ï¼Œå…·ä½“ç§ç±»å¦‚ä¸‹</span><br>æ–‡å­— æˆ–è€… <span class="hljs-string">`markdown`</span> å‡å¯<br>&#123;% endnote %&#125;    <span class="hljs-comment">//å•ç‹¬ä¸€è¡Œ</span><br></code></pre></div></td></tr></table></figure><p>â€‹    ä¾¿ç­¾ç§ç±»å¦‚ä¸‹ï¼š<img src="/2021/11/09/Hexo%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/1.png" srcset="/img/loading.gif" lazyload alt="ä¾¿ç­¾ç§ç±»"></p><h2 id="è¡Œå†…ä¾¿ç­¾"><a href="#è¡Œå†…ä¾¿ç­¾" class="headerlink" title="è¡Œå†…ä¾¿ç­¾"></a>è¡Œå†…ä¾¿ç­¾</h2><p>â€‹    åœ¨markdownä¸­åŠ å…¥å¦‚ä¸‹ä»£ç æ¥ä½¿ç”¨Lable:</p><figure class="highlight pgsql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs pgsql">&#123;% label <span class="hljs-keyword">primary</span> @<span class="hljs-type">text</span> %&#125; //label  ***ä¸ºä¾¿ç­¾ç§ç±»ï¼Œ@+<span class="hljs-type">text</span>ä¸ºæ˜¾ç¤ºæ–‡å­—ï¼Œä½†<span class="hljs-type">text</span>ä¸èƒ½ä»¥@å¼€å¤´<br></code></pre></div></td></tr></table></figure><p>â€‹    Lableç§ç±»å¦‚ä¸‹ï¼š</p><p>â€‹    <span class="label label-primary">primary</span> <span class="label label-default">default</span> <span class="label label-info">info</span> <span class="label label-success">success</span> <span class="label label-warning">warning</span> <span class="label label-danger">danger</span></p><p>â€‹    ç¤ºä¾‹ï¼šå†™ä¸‹ä»£ç <code>&#123;% label primary @12345 %&#125;</code>ï¼Œå°†ä¼šå‡ºç°ä¸€ä¸ªLableï¼š<span class="label label-primary">12345</span></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¬¢è¿åˆ°è®¿ï¼</title>
    <link href="/2021/11/09/%E6%AC%A2%E8%BF%8E%E5%88%B0%E8%AE%BF%EF%BC%81/"/>
    <url>/2021/11/09/%E6%AC%A2%E8%BF%8E%E5%88%B0%E8%AE%BF%EF%BC%81/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p><strong>æ‰€è°“ç†æƒ³ï¼Œåªæ˜¯åŒæ—¶æ‹¥æœ‰å®åŠ›çš„äººæ‰èƒ½è¯´çš„â€œç°å®â€ã€‚</strong></p>          </div><h1 id="æœ¬ç«™æ›´æ–°è®°å½•"><a href="#æœ¬ç«™æ›´æ–°è®°å½•" class="headerlink" title="æœ¬ç«™æ›´æ–°è®°å½•"></a>æœ¬ç«™æ›´æ–°è®°å½•</h1><h2 id="2021-11-9"><a href="#2021-11-9" class="headerlink" title="2021.11.9"></a>2021.11.9</h2><ul><li>å­—ä½“ä¿®æ”¹å®Œæˆï¼Œæ•™ç¨‹åœ¨ä¸‹é¢</li><li>å¢åŠ ICPå¤‡æ¡ˆå·</li></ul><h2 id="2021-11-6"><a href="#2021-11-6" class="headerlink" title="2021.11.6"></a>2021.11.6</h2><ul><li>åˆ©ç”¨hexo-asset-imageæ’ä»¶è§£å†³äº†å›¾ç‰‡ä¸Šä¼ çš„é—®é¢˜ï¼Œå…·ä½“è§æ–‡ç« </li><li>ä¸ºåŸŸååŠ ä¸Šäº†SSLè¯ä¹¦ï¼ˆé˜¿é‡Œäº‘å¯å…è´¹ç”³è¯·ï¼Œç™¾åº¦æ•™ç¨‹ï¼Œå¾ˆå¿«è§£å†³ï¼‰ï¼Œå¹¶åœ¨githubä¸Šè®¾ç½®pagesä¸ºå¼ºåˆ¶HTTPSï¼Œè¿™æ ·å°±ç®—è¾“å…¥HTTPï¼Œä¹Ÿä¼šå¼ºè½¬ä¸ºHTTPSï¼Œç»ˆäºæ˜¯ä¸€ä¸ªå®‰å…¨çš„ç«™ç‚¹äº†</li></ul><h2 id="2021-10-20"><a href="#2021-10-20" class="headerlink" title="2021.10.20"></a>2021.10.20</h2><ul><li>å¢åŠ äº†è¿è¡Œæ—¶é—´</li><li>å¢åŠ äº†è½¬è½½ç‰ˆæƒæ ‡è¯†ï¼ˆé“¾æ¥å†…å®¹æœ‰é—®é¢˜ï¼Œæœªè§£å†³ï¼‰</li><li>é¡µé¢åº•éƒ¨å†…å®¹ä¿®æ”¹</li><li>å­—ä½“ä¿®æ”¹ï¼šå‚è€ƒï¼š<a href="https://bestzuo.cn/posts/notoserifsc.html">åšå®¢ç½‘ç«™å­—ä½“è®¾ç½®ï¼šæ€æºå®‹ä½“ (bestzuo.cn)</a>ï¼Œ<a href="https://www.erenship.com/posts/40222.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93">Hexoâ€™s Fluid ä¸»é¢˜ç§äººå®šåˆ¶ï¼ˆæŒç»­æ›´æ–°ï¼‰ - Eren ã® å®‡å®™èˆ¹ (erenship.com)</a></li></ul><h2 id="2021-10-19"><a href="#2021-10-19" class="headerlink" title="2021.10.19"></a>2021.10.19</h2><ul><li>å®Œå–„ä¸ªäººä¿¡æ¯</li><li>å¢åŠ äº†ç½‘é¡µè®¿é—®é‡ç»Ÿè®¡</li><li>å‘ç°é¦–é¡µçš„æ–‡ç« æ˜¯å¯ä»¥é…å›¾çš„ï¼ˆåŸæ¥ä¸æ˜¯ä¸»é¢˜ä¸å¥½ï¼Œæ˜¯æˆ‘å¤ªèœä¸ä¼šç”¨Ï€_Ï€ï¼‰</li><li>ä¸ä¼šåŠ è¯„è®ºåŠŸèƒ½ã€‚ã€‚ã€‚</li><li>wocï¼Œä¸¤ä¸ªå°æ—¶å€™è¯„è®ºåŠŸèƒ½æˆåŠŸäº†ï¼Œå…¶å®è®¾ç½®å¥½ç®€å•ã€‚ã€‚</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hexoè§£å†³å›¾ç‰‡é“¾æ¥é—®é¢˜</title>
    <link href="/2021/11/06/hexo%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E9%97%AE%E9%A2%98/"/>
    <url>/2021/11/06/hexo%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨ Hexo æ’°å†™åšæ–‡æ—¶ï¼Œæ—¶å¸¸éœ€è¦å°†å›¾ç‰‡åµŒå…¥ md æ–‡ç« ä¸­ï¼Œä½†å¾€å¾€ç”±äºå›¾ç‰‡ä¿å­˜åœ¨æœ¬åœ°ä¸»æœºï¼Œå› æ­¤åœ¨ç½‘é¡µä¸­é“¾æ¥å›¾ç‰‡æ—¶ï¼Œä¼šæ— æ³•è·å–æœ¬åœ°ä¸»æœºçš„å›¾ç‰‡ï¼Œå¯¼è‡´å›¾ç‰‡ä¸æ­£å¸¸æ˜¾ç¤ºï¼Œåœ¨è¿™é‡Œæˆ‘é€šè¿‡ä½¿ç”¨Hexoæ’ä»¶çš„æ–¹å¼ï¼Œä¿è¯å›¾ç‰‡å¯ä»¥æ­£å¸¸ä¸Šä¼ ã€‚</p><ol><li><p>é¦–å…ˆå®‰è£…ä¸€ä¸ªå›¾ç‰‡è·¯å¾„è½¬æ¢çš„æ’ä»¶ï¼š<code>hexo-asset-image</code>ï¼Œåœ¨Hexoä¸»æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><p><code>npm install https://github.com/CodeFalling/hexo-asset-image --save</code></p></li><li><p> æ‰“å¼€_config.ymlæ–‡ä»¶ï¼Œå°†<code>post_asset_folder: false</code>ä¿®æ”¹ä¸º<code>true</code></p></li><li><p> ç”±äºè¯¥æ’ä»¶æœ¬èº«å¯èƒ½ä¼šå­˜åœ¨ä¸€ä¸‹Bugï¼Œå› æ­¤å°†<code>/node_modules/hexo-asset-image/index.js</code>æ–‡ä»¶çš„å†…å®¹æ›´æ”¹ä¸ºå¦‚ä¸‹ä»£ç ï¼š</p></li></ol>   <figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">var</span> cheerio = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;cheerio&#x27;</span>);<br><br><span class="hljs-comment">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPosition</span>(<span class="hljs-params">str, m, i</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> str.split(m, i).join(m).length;<br>&#125;<br><br><span class="hljs-keyword">var</span> version = <span class="hljs-built_in">String</span>(hexo.version).split(<span class="hljs-string">&#x27;.&#x27;</span>);<br>hexo.extend.filter.register(<span class="hljs-string">&#x27;after_post_render&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;<br>  <span class="hljs-keyword">var</span> config = hexo.config;<br>  <span class="hljs-keyword">if</span>(config.post_asset_folder)&#123;<br>    <span class="hljs-keyword">var</span> link = data.permalink;<br><span class="hljs-keyword">if</span>(version.length &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">Number</span>(version[<span class="hljs-number">0</span>]) == <span class="hljs-number">3</span>)<br>   <span class="hljs-keyword">var</span> beginPos = getPosition(link, <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span><br>   <span class="hljs-keyword">var</span> beginPos = getPosition(link, <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">3</span>) + <span class="hljs-number">1</span>;<br><span class="hljs-comment">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span><br><span class="hljs-keyword">var</span> endPos = link.lastIndexOf(<span class="hljs-string">&#x27;/&#x27;</span>) + <span class="hljs-number">1</span>;<br>    link = link.substring(beginPos, endPos);<br><br>    <span class="hljs-keyword">var</span> toprocess = [<span class="hljs-string">&#x27;excerpt&#x27;</span>, <span class="hljs-string">&#x27;more&#x27;</span>, <span class="hljs-string">&#x27;content&#x27;</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; toprocess.length; i++)&#123;<br>      <span class="hljs-keyword">var</span> key = toprocess[i];<br> <br>      <span class="hljs-keyword">var</span> $ = cheerio.load(data[key], &#123;<br>        <span class="hljs-attr">ignoreWhitespace</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">xmlMode</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">lowerCaseTags</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">decodeEntities</span>: <span class="hljs-literal">false</span><br>      &#125;);<br><br>      $(<span class="hljs-string">&#x27;img&#x27;</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-keyword">if</span> ($(<span class="hljs-built_in">this</span>).attr(<span class="hljs-string">&#x27;src&#x27;</span>))&#123;<br><span class="hljs-comment">// For windows style path, we replace &#x27;\&#x27; to &#x27;/&#x27;.</span><br><span class="hljs-keyword">var</span> src = $(<span class="hljs-built_in">this</span>).attr(<span class="hljs-string">&#x27;src&#x27;</span>).replace(<span class="hljs-string">&#x27;\\&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>);<br><span class="hljs-keyword">if</span>(!<span class="hljs-regexp">/http[s]*.*|\/\/.*/</span>.test(src) &amp;&amp;<br>   !<span class="hljs-regexp">/^\s*\//</span>.test(src)) &#123;<br>  <span class="hljs-comment">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span><br>  <span class="hljs-comment">// In addition, to support multi-level local directory.</span><br>  <span class="hljs-keyword">var</span> linkArray = link.split(<span class="hljs-string">&#x27;/&#x27;</span>).filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>)</span>&#123;<br><span class="hljs-keyword">return</span> elem != <span class="hljs-string">&#x27;&#x27;</span>;<br>  &#125;);<br>  <span class="hljs-keyword">var</span> srcArray = src.split(<span class="hljs-string">&#x27;/&#x27;</span>).filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>)</span>&#123;<br><span class="hljs-keyword">return</span> elem != <span class="hljs-string">&#x27;&#x27;</span> &amp;&amp; elem != <span class="hljs-string">&#x27;.&#x27;</span>;<br>  &#125;);<br>  <span class="hljs-keyword">if</span>(srcArray.length &gt; <span class="hljs-number">1</span>)<br>srcArray.shift();<br>  src = srcArray.join(<span class="hljs-string">&#x27;/&#x27;</span>);<br>  $(<span class="hljs-built_in">this</span>).attr(<span class="hljs-string">&#x27;src&#x27;</span>, config.root + link + src);<br>  <span class="hljs-built_in">console</span>.info&amp;&amp;<span class="hljs-built_in">console</span>.info(<span class="hljs-string">&quot;update link as:--&gt;&quot;</span>+config.root + link + src);<br>&#125;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-built_in">console</span>.info&amp;&amp;<span class="hljs-built_in">console</span>.info(<span class="hljs-string">&quot;no src attr, skipped...&quot;</span>);<br><span class="hljs-built_in">console</span>.info&amp;&amp;<span class="hljs-built_in">console</span>.info($(<span class="hljs-built_in">this</span>));<br>&#125;<br>      &#125;);<br>      data[key] = $.html();<br>    &#125;<br>  &#125;<br>&#125;);<br><br><br></code></pre></div></td></tr></table></figure><ol start="4"><li><p>å°è¯•æ–°å»ºä¸€ä¸ªmdæ–‡ä»¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨åœ¨_postç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªä¸mdæ–‡ä»¶åŒåçš„ç›®å½•ï¼Œä¹‹åå‘mdæ–‡ä»¶ä¸­åŠ å…¥å›¾ç‰‡æ—¶ï¼Œéœ€è¦å°†è¯¥å›¾ç‰‡å…ˆæ”¾åˆ°åŒåç›®å½•ä¸‹ï¼Œç„¶åä½¿ç”¨å›¾ç‰‡é“¾æ¥åŠ å…¥å›¾ç‰‡ï¼Œå®ä¾‹ï¼š</p><ul><li><p><code>hexo -new &quot;hexoè§£å†³å›¾ç‰‡é“¾æ¥é—®é¢˜&quot;</code></p></li><li><p>æ¥ä¸‹æ¥ä¼šçœ‹åˆ°_postç›®å½•ä¸‹ç”Ÿæˆäº†mdæ–‡ä»¶å’ŒåŒåçš„æ–‡ä»¶å¤¹ï¼Œå¦‚å›¾ï¼š<img src="/2021/11/06/hexo%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E9%97%AE%E9%A2%98/1.png" srcset="/img/loading.gif" lazyload alt="ç”Ÿæˆç»“æœ"></p></li><li><p>ä½¿ç”¨è§„å®šçš„å›¾ç‰‡é“¾æ¥è¯­æ³•ä¾¿å¯ä»¥é“¾æ¥å›¾ç‰‡ï¼š<code>[ç”Ÿæˆç»“æœ](1.png)</code>ï¼Œä¸éœ€è¦å†™è·¯å¾„ï¼Œæ’ä»¶å¯ä»¥è‡ªå·±è½¬æ¢ï¼Œåªéœ€è¦æŠŠå›¾ç‰‡åå†™å‡ºæ¥å°±è¡Œã€‚</p></li></ul><p>å‚è€ƒé“¾æ¥ï¼š</p><p>â€‹    <a href="https://blog.csdn.net/xjm850552586/article/details/84101345?spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-5.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-5.no_search_link"> hexoå¼•ç”¨æœ¬åœ°å›¾ç‰‡æ— æ³•æ˜¾ç¤º_Ericam_-CSDNåšå®¢_hexo å›¾ç‰‡</a></p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Add Domain</title>
    <link href="/2021/10/23/add-domain/"/>
    <url>/2021/10/23/add-domain/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸŸåæ·»åŠ "><a href="#åŸŸåæ·»åŠ " class="headerlink" title="åŸŸåæ·»åŠ "></a>åŸŸåæ·»åŠ </h1><p>â€‹    åœ¨æˆåŠŸé…ç½®å¥½åšå®¢å¹¶éƒ¨ç½²åœ¨githubä¸Šä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>xxxxx.github.io</code>çš„æ–¹å¼å»è®¿é—®åšå®¢ï¼Œä½†æ˜¯æˆ‘æƒ³ä¸ºè‡ªå·±çš„åšå®¢é…ç½®ä¸€ä¸ªè‡ªå·±    çš„åŸŸåï¼Œä¾‹å¦‚æœ¬åšå®¢çš„åŸŸåï¼š<a href="www.ziyikee.fun">www.ziyikee.fun</a> ,å› æ­¤ä¾¿éœ€è¦å»é…ç½®ä¸€ä¸ªè‡ªå·±æƒ³è¦çš„åŸŸåã€‚</p><p>â€‹    é¦–å…ˆéœ€è¦åœ¨é˜¿é‡Œäº‘æˆ–è…¾è®¯äº‘ç­‰å‚å•†é‚£é‡Œå»ä¹°ä¸€ä¸ªåŸŸåï¼Œæ¯”å¦‚æˆ‘çš„åŸŸåæ˜¯åœ¨é˜¿é‡Œäº‘ä¸Šè´­ä¹°çš„ï¼Œåœ¨è´­ä¹°åŸŸåä¹‹åï¼Œæœ¬æ¥ä»¥ä¸ºéœ€è¦å¯¹åŸŸåè¿›è¡Œ    å¤‡æ¡ˆæ‰å¯ä»¥ä½¿ç”¨è¯¥åŸŸåï¼Œç„¶è€Œåœ¨è¿›è¡ŒIPCå¤‡æ¡ˆæ—¶ï¼Œå¯¹åŸŸåå¤‡æ¡ˆåˆéœ€è¦å¤‡æ¡ˆæœåŠ¡ç ï¼Œä½ å¿…é¡»æœ‰è‡ªå·±çš„æœåŠ¡å™¨æ‰èƒ½è·å¾—è¿™ä¸ªå¤‡æ¡ˆæœåŠ¡ç ï¼Œå›     æ­¤æˆ‘ä¸€ç›´ä»¥ä¸ºè¿˜éœ€è¦å†ä¹°ä¸€å°æœåŠ¡å™¨æ‰è¡Œï¼Œä½†æ˜¯ç”±äºæˆ‘çš„åšå®¢æ˜¯ç›´æ¥éƒ¨ç½²åœ¨githubä¸Šçš„ï¼Œå¹¶ä¸éœ€è¦è‡ªå·±é…ç½®æœåŠ¡å™¨ï¼Œç°åœ¨ä¹Ÿæ²¡æœ‰ä½¿ç”¨æœ    åŠ¡å™¨çš„éœ€æ±‚ï¼ˆæœåŠ¡å™¨è´µçš„ä¸€æ‰¹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¥ä¸ºé…ç½®åŸŸåä¼°è®¡è¦ggäº†ã€‚</p><p>â€‹    ä½†æ˜¯åœ¨çŸ¥ä¹æŸ¥æ•™ç¨‹å‘ç°ï¼Œå°†ä¸€ä¸ªåŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåå…¶å®å¹¶ä¸éœ€è¦å¤‡æ¡ˆï¼ˆÏ€â€”Ï€ï¼‰ï¼Œåªéœ€è¦ä¸‹é¢å‡ æ­¥ç®€å•çš„æ“ä½œå°±è¡Œäº†ï¼š</p><ul><li><p>é¦–å…ˆè¦è´­ä¹°ä¸€ä¸ªåŸŸåï¼Œå„å¤§å‚å•†éƒ½æœ‰å–ï¼Œç›´æ¥ç™¾åº¦æœç´¢å³å¯</p></li><li><p>åœ¨åŸŸåç®¡ç†å¤„è¿›è¡ŒåŸŸåè§£æï¼Œæ·»åŠ ä¸¤æ¡æ–°çš„è®°å½•</p><ol><li>è®°å½•ç±»å‹ä¸ºï¼šCNAMEï¼ˆå°†ä¸€ä¸ªåŸŸåæ‰§è¡Œå¦ä¸€ä¸ªåŸŸåï¼‰ï¼Œä¸»æœºè®°å½•ä¸ºï¼šwwwï¼Œè®°å½•å€¼ä¸ºï¼šxxxxx.github.ioï¼Œä¿å­˜è®°å½•</li><li>è®°å½•ç±»å‹ä¸ºï¼šCNAMEï¼ˆå°†ä¸€ä¸ªåŸŸåæ‰§è¡Œå¦ä¸€ä¸ªåŸŸåï¼‰ï¼Œä¸»æœºè®°å½•ä¸ºï¼š@ï¼Œè®°å½•å€¼ä¸ºï¼šxxxxx.github.ioï¼Œä¿å­˜è®°å½•</li></ol></li></ul><ul><li><p>ä¹‹åå†æœ¬åœ°hexoçš„sourceç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºä½ çš„åŸŸåï¼Œå¦‚ziyikee.funï¼Œä¿å­˜æ–‡ä»¶</p></li><li><p>hexo g   hexo dï¼Œéƒ¨ç½²åˆ°githubä¹‹åï¼Œä¾¿å¯ä»¥é€šè¿‡ä½ çš„åŸŸåç›´æ¥è®¿é—®åšå®¢ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>èƒŒåŒ…ä¹è®²-è‡ªè¯‘ç‰ˆèƒŒåŒ…</title>
    <link href="/2021/10/18/%E8%83%8C%E5%8C%85%E4%B9%9D%E8%AE%B2-%E8%87%AA%E8%AF%91%E7%89%88/"/>
    <url>/2021/10/18/%E8%83%8C%E5%8C%85%E4%B9%9D%E8%AE%B2-%E8%87%AA%E8%AF%91%E7%89%88/</url>
    
    <content type="html"><![CDATA[<h1 id="èƒŒåŒ…ä¹è®²â€”è‡ªè¯‘ç‰ˆ"><a href="#èƒŒåŒ…ä¹è®²â€”è‡ªè¯‘ç‰ˆ" class="headerlink" title="èƒŒåŒ…ä¹è®²â€”è‡ªè¯‘ç‰ˆ"></a>èƒŒåŒ…ä¹è®²â€”è‡ªè¯‘ç‰ˆ</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ‰€è°“è‡ªè¯‘ç‰ˆï¼Œå°±æ˜¯å°†æŸå´”å¤§ç¥çš„èƒŒåŒ…ä¹è®²ï¼Œç”¨è‡ªå·±ç†è§£çš„æ„æ€æŠ„ä¸€éÏ€ï¹Ï€ï¼ˆåŸºæœ¬ç»“æ„ä¸å†…å®¹ä¸åŸç‰ˆä¸€è‡´ï¼‰ï¼Œåœ¨æœ€åˆç†è§£èƒŒåŒ…é—®é¢˜æ—¶ï¼Œæ„Ÿè§‰ååˆ†éš¾æ‡‚ï¼Œçœ‹åŠå¤©ä¸çŸ¥æ‰€äº‘ï¼Œå› æ­¤æœ¬æ–‡ç”¨è‡ªå·±æ›´å®¹æ˜“ç†è§£çš„è¯­è¨€å¤è¿°ä¸€éâ€œèƒŒåŒ…ä¹è®²â€ï¼Œæ–¹ä¾¿æ—¥åå¤ä¹ æ—¶æ›´æ–¹ä¾¿å¿«æ·ã€‚</p><h2 id="1-01èƒŒåŒ…é—®é¢˜"><a href="#1-01èƒŒåŒ…é—®é¢˜" class="headerlink" title="1.01èƒŒåŒ…é—®é¢˜"></a>1.01èƒŒåŒ…é—®é¢˜</h2><p><strong>é¢˜ç›®</strong></p><p>æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ã€‚æ”¾å…¥ç¬¬iä»¶ç‰©å“æ‰€å ç”¨çš„å®¹é‡æ˜¯c [ i ] ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯w [ i ] ,æ±‚å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿ä»·å€¼æ€»å’Œæœ€å¤§.ï¼ˆç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ€ä¹ˆåœ¨å®¹é‡æœ‰é™çš„æƒ…å†µä¸‹ï¼Œä½¿å¾—è¿™ä¸ªèƒŒåŒ…é‡Œçš„ç‰©å“ä»·å€¼æ€»å’Œæœ€å¤§ï¼‰ã€‚</p><p><strong>åŸºæœ¬æ€è·¯</strong></p><p>è¿™æ˜¯æœ€åŸºç¡€çš„èƒŒåŒ…é—®é¢˜ï¼Œç‰¹ç‚¹æ˜¯ï¼šæ¯ä»¶ç‰©å“ä»…æœ‰ä¸€ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ”¾æˆ–ä¸æ”¾ï¼ˆè¿™ä¸€æ¡ä»¶åœ¨åé¢èƒŒåŒ…é—®é¢˜çš„å»¶ä¼¸ä¸­ä¼šæœ‰æ‰€å˜åŒ–ï¼Œè¿™é‡Œæ˜¯æœ€å…¸å‹æœ€åŸºç¡€çš„èƒŒåŒ…é—®é¢˜ã€‚</p><p>ç”¨å­é—®é¢˜å®šä¹‰çŠ¶æ€ï¼šå³f [ i ] [ j ]è¡¨ç¤ºå‰  i ä»¶ç‰©å“æ°æ”¾å…¥ä¸€ä¸ªå®¹é‡ä¸º  j çš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ï¼ˆè¿™é‡ŒåŸæ–‡ä¸­ä½¿ç”¨äº†â€œæ°â€ï¼Œä½†å®é™…å¹¶ä¸éœ€è¦æ­£å¥½è£…æ»¡ï¼Œåœ¨åˆå§‹åŒ–å¯ä»¥åŒºåˆ†å¼€è¿™ä¸¤ç§æƒ…å†µï¼Œä¸‹æ–‡æœ‰æåŠï¼‰ã€‚åˆ™å…¶çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¾¿æ˜¯ï¼š</p><figure class="highlight inform7"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs inform7">f<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span>=max(f<span class="hljs-comment">[iâˆ’1]</span><span class="hljs-comment">[j]</span>,f<span class="hljs-comment">[iâˆ’1]</span><span class="hljs-comment">[jâˆ’c<span class="hljs-comment">[i]</span>]</span>+w<span class="hljs-comment">[i]</span>)<br></code></pre></div></td></tr></table></figure><p>è¿™ä¸ªæ–¹ç¨‹éå¸¸é‡è¦ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰è·ŸèƒŒåŒ…ç›¸å…³çš„é—®é¢˜çš„æ–¹ç¨‹éƒ½æ˜¯ç”±å®ƒè¡ç”Ÿå‡ºæ¥çš„ï¼Œå› æ­¤æœ‰å¿…è¦è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼šâ€œå°†å‰ i ä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸º j çš„èƒŒåŒ…ä¸­â€è¿™ä¸ªå­é—®é¢˜ï¼Œè‹¥åªè€ƒè™‘ç¬¬ i ä»¶ç‰©å“çš„ç­–ç•¥ï¼ˆæ”¾æˆ–ä¸æ”¾ï¼‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªåªä¸å‰ i - 1 ä»¶ç‰©å“çš„é—®é¢˜ã€‚å¦‚æœä¸æ”¾ç¬¬ i ä»¶ç‰©å“ï¼Œé‚£ä¹ˆå°±è½¬åŒ–ä¸ºâ€œå‰ i- 1 ä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸º j çš„èƒŒåŒ…ä¸­â€ï¼Œå…¶æœ€å¤§ä»·å€¼ä¸º <em>f</em> [i-1] [j]; å¦‚æœæ”¾ç¬¬ i ä»¶ç‰©å“ï¼Œé‚£ä¹ˆé—®é¢˜å°±è½¬åŒ–ä¸ºâ€œå‰ i -1ä»¶ç‰©å“æ”¾å…¥å‰©ä¸‹çš„å®¹é‡ä¸º j - c[j]çš„èƒŒåŒ…ä¸­â€ï¼Œæ­¤æ—¶èƒ½è·å–çš„æœ€å¤§ä»·å€¼å°±æ˜¯ <em>f</em> [i-1] [ j - c[ i ]]å†åŠ ä¸Šç¬¬ i ä»¶ç‰©å“è·å¾—çš„ä»·å€¼ w[i]ã€‚å…¶ä¼ªä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">F</span>[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>..V ] â† <span class="hljs-number">0</span> //åˆå§‹å€¼ä¸º<span class="hljs-number">0</span>ï¼Œè¿™ä¸å…·ä½“é—®é¢˜æœ‰å…³ï¼Œä¸‹é¢ä¼šè¯¦ç»†è§£é‡Š<br><span class="hljs-attribute">for</span> i â† <span class="hljs-number">1</span> to N //ç¬¬<span class="hljs-number">1</span>ä¸ªè£…å…¥Vï¼Œç¬¬<span class="hljs-number">2</span>ä¸ªè£…å…¥V......<br><span class="hljs-attribute">for</span> v â† Ci to V //ç¬¬iä¸ªè£…å…¥vï¼Œè£…å…¥v-<span class="hljs-number">1</span>.....<br><span class="hljs-attribute">F</span>[i, v] â† max&#123;F[i âˆ’ <span class="hljs-number">1</span>, v], F[i âˆ’ <span class="hljs-number">1</span>, v âˆ’ Ci] + Wi&#125;<br><br></code></pre></div></td></tr></table></figure><p><strong>ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦</strong></p><p>ä¸Šè¿°æ–¹æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º<em>O</em>ï¼ˆV *Nï¼‰,å…¶ä¸­æ—¶é—´å¤æ‚åº¦å·²ç»æ— æ³•ç»§ç»­ä¼˜åŒ–ï¼Œä½†ç©ºé—´å¤æ‚åº¦å¯ä»¥ä¼˜åŒ–åˆ° <em>O</em>(N)ã€‚</p><p>å› ä¸ºæ¯æ¬¡å¾ªç¯çš„å†…éƒ¨éƒ½æ˜¯ï¼š<code>f[i][j]=max(f[iâˆ’1][j],f[iâˆ’1][jâˆ’c[i]]+w[i])</code>ï¼Œå› æ­¤åœ¨å¤–å±‚å¾ªç¯ä¸­ï¼Œæ˜¯å˜é‡iåœ¨å·²çŸ¥è¿›è¡Œ+1çš„å¾ªç¯ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬åªç”¨<em>f</em> [ j ]ç”¨æ¥è¡¨ç¤ºæ¯æ¬¡å¾ªç¯æ—¶ï¼Œå½“å‰å¾ªç¯ç¬¬ i æ¬¡æ—¶å‘å®¹é‡ä¸º j çš„èƒŒåŒ…ä¸­è¿›è¡Œé€‰æ‹©ï¼ˆé’ˆå¯¹ç¬¬ i ä¸ªç‰©å“æ”¾ä¸ä¸æ”¾çš„é€‰æ‹©ï¼‰ï¼Œé‚£ä¹ˆä¸Šä¸€æ¬¡å¾ªç¯ï¼ˆç¬¬ i -1æ¬¡ï¼Œç¬¬ i - 1ä¸ªç‰©å“ï¼‰è®¡ç®—çš„ç»“æœï¼Œåˆ°å½“å‰å¾ªç¯ï¼ˆç¬¬ i æ¬¡ï¼Œç¬¬ i ä¸ªç‰©å“ï¼‰æ—¶ï¼Œåœ¨ç¬¬äºŒæ¬¡å¾ªç¯åˆ° j æ—¶ï¼Œæˆ‘ä»¬çš„ <em>f</em> [ j ]çš„å€¼ï¼Œå…¶å®å°±æ˜¯ <em>f</em> [ i-1] [ j ]ï¼Œ<em>f</em> [ j - c[i]]çš„å€¼å…¶å®å°±æ˜¯ä¸Šä¸€è½®çš„ <em>f</em> [ i-1] [ j - c[i]]ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬åœ¨ç¬¬äºŒå±‚å¾ªç¯ä¸­ä½¿ç”¨å€’åºï¼šj ä»Våˆ° c [ i ]ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è®¡ç®—æ—¶ï¼Œå°±å¯ä»¥åˆ©ç”¨ä¸Šä¸€è½®çš„è®¡ç®—å€¼ï¼Œå°†å¾ªç¯è¯­å¥æ”¹ä¸ºï¼š<code> f[j] = max(f[j], f[j - c[i]] + w[i]);</code>ï¼Œå› ä¸ºæ˜¯å€’åºï¼Œæ‰€ä»¥åœ¨æœªæ”¹å˜å‰é¢çš„å€¼ä¹‹å‰ï¼Œä»–ä»¬ä¿å­˜çš„æ˜¯ä¸Šä¸€è½®ï¼ˆç¬¬ i - 1è½®ï¼‰çš„ç»“æœï¼Œæ‰€ä»¥æ ¸å¿ƒä»£ç å¯ä¼˜åŒ–ä¸ºï¼š</p><figure class="highlight inform7"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs inform7">for (int i = 1; i &lt;= n; i++)<br>    for (int j = V; j &gt;= c<span class="hljs-comment">[i]</span>; j--)<br>        f<span class="hljs-comment">[j]</span> = max(f<span class="hljs-comment">[j]</span>, f<span class="hljs-comment">[j - c<span class="hljs-comment">[i]</span>]</span> + w<span class="hljs-comment">[i]</span>);<br></code></pre></div></td></tr></table></figure><p>å› ä¸ºæ¯æ¬¡å¾ªç¯éƒ½è¦åˆ©ç”¨ä¸Šä¸€æ¬¡å¾ªç¯è¿ç®—ç»“æœå‰é¢çš„é‚£äº›å€¼ï¼ˆ j è¦ç”¨åˆ°ä¸Šä¸€æ¬¡çš„ j å’Œ j - c [i] )ï¼Œæ‰€ä»¥è¦ä½¿ç”¨å€’åºæ¥åˆ©ç”¨ä¸Šä¸€è½®çš„å€¼ï¼Œå¦‚æœä½¿ç”¨é¡ºåºçš„è¯ï¼Œå½“å‰å€¼æ”¹å˜ä¹‹åï¼Œåé¢çš„å€¼å°±æ— æ³•åˆ©ç”¨å½“å‰å€¼ä¸Šä¸€è½®çš„ç»“æœäº†ï¼Œå› ä¸ºå·²ç»å‘ç”Ÿäº†æ”¹å˜ã€‚</p><p><strong>åˆå§‹åŒ–çš„ç»†èŠ‚é—®é¢˜</strong></p><p>è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå·§å¦™çš„é—®é¢˜ï¼Œå°±æ˜¯åœ¨åˆå§‹åŒ–<em>f</em> [ 0 ] [ j ] ( j ä» 0 åˆ° V) æˆ– <em>f</em> [ j ] ( j ä» 0 åˆ° V ) æ—¶ï¼Œæ˜¯åˆå§‹åŒ–ä¸º 0 è¿˜æ˜¯åˆå§‹åŒ–ä¸º è´Ÿæ— ç©·ï¼Œè¿™ä¸¤ä¸ªå€¼å…¶å®æ˜¯é’ˆå¯¹ä¸åŒçš„é—®é¢˜çš„ï¼š</p><ul><li>å¦‚æœæˆ‘ä»¬è¦æ±‚æœ€ç»ˆæ°å¥½è£…æ»¡èƒŒåŒ…ï¼Œé‚£ä¹ˆé™¤äº†<em>f</em> [ 0 ]ä»¥å¤–çš„æ•°ç»„å€¼ï¼Œå…¶åˆå§‹åŒ–çš„å€¼åº”è¯¥è®¾ç½®ä¸ºè´Ÿæ— ç©·ï¼›</li></ul><ul><li>å¦‚æœæˆ‘ä»¬è¦æ±‚åœ¨èƒŒåŒ…å®¹é‡çš„é™åˆ¶ä¸‹è£…ä»·å€¼æœ€å¤§å°±è¡Œï¼Œå¹¶ä¸è¦æ±‚è£…æ»¡ï¼Œé‚£ä¹ˆåˆå§‹åŒ–çš„å€¼åº”è¯¥è®¾ç½®ä¸º 0ï¼›</li></ul><p>é€ æˆè¯¥å·®åˆ«çš„åŸå› ä¾ç„¶åœ¨å¾ªç¯è¯­å¥ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»”ç»†åˆ†æä¸€ä¸‹è¿™å¥ï¼š</p><figure class="highlight inform7"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs inform7">f<span class="hljs-comment">[j]</span> = max(f<span class="hljs-comment">[j]</span>, f<span class="hljs-comment">[j - c<span class="hljs-comment">[i]</span>]</span> + w<span class="hljs-comment">[i]</span>);<br></code></pre></div></td></tr></table></figure><p>å½“æˆ‘ä»¬æŠŠå€¼è®¾ä¸ºè´Ÿæ— ç©·æ—¶ï¼Œåœ¨æœ€åˆï¼Œ<em>f</em> [ j ]æ˜¯è´Ÿæ— ç©·ï¼Œå½“æˆ‘ä»¬è£…å…¥ç¬¬ i ä»¶ç‰©å“æ—¶ï¼Œå¦‚æœæ°å¥½è£…æ»¡ï¼Œé‚£ä¹ˆæ­¤æ—¶ j  - c [ i ] ç­‰äº0ï¼Œè¿™ä¸ªæ—¶å€™æ‰å¯ä»¥åˆ©ç”¨ <em>f</em> [0] = 0ï¼Œå†åŠ ä¸Šw[i]ï¼Œä½¿å¾—<em>f</em> [ j ]çš„å€¼è¢«æ›´æ–°ä¸ºæ­£çš„ï¼Œæ‰èƒ½ä¿è¯åç»­ä¹Ÿæ°å¥½è£…æ»¡çš„æ—¶å€™ï¼Œå€¼ä¸ºæ­£çš„ã€‚å€˜è‹¥ä¸èƒ½æ°å¥½è£…æ»¡ï¼Œæˆ‘ä»¬æ˜¯æ²¡æœ‰åŠæ³•å‡‘å‡ºæ‰€æœ‰ i çš„å®¹é‡åŠ èµ·æ¥ç­‰äºVï¼Œé‚£ä¹ˆåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ j  - c [ i ] æ°¸è¿œæ— æ³•ç­‰äº0ï¼Œé‚£å°±ç®—åŠ ä¸Šäº†w[ i ]ï¼Œä¹Ÿæ˜¯åœ¨è´Ÿæ— ç©·ä¸ŠåŠ ä¸€ä¸ªæ•°è¿˜æ˜¯è´Ÿçš„ï¼Œå› æ­¤åªæœ‰æ°å¥½è£…æ»¡æ—¶ï¼Œæœ€åå†èƒ½å¾—åˆ°æ­£çš„ä»·å€¼å€¼ã€‚</p><p>ä½†å¦‚æœæˆ‘ä»¬å°†åˆå§‹å€¼éƒ½è®¾ç½®ä¸º 0 æ—¶ï¼Œä¸ç®¡æœ‰æ²¡æœ‰æ°å¥½è£…æ»¡ï¼Œåªè¦å¯ä»¥è£…è¿›å»å°±è¡Œï¼Œæˆ‘ä»¬å°±èƒ½åœ¨f[j] å’Œf[j - c[i]]ä¹‹é—´é€‰æ‹©ä¸€ä¸ªæœ€å¤§çš„ï¼Œå³åœ¨å½“å‰å®¹é‡ä¸‹ï¼Œé’ˆå¯¹ i ä»¶ç‰©å“æ‰€èƒ½è£…çš„æœ€å¤§ä»·å€¼å€¼ï¼Œè¿™æ—¶æ˜¯å¦æ°å¥½è£…æ»¡å°†ä¸å†äº§ç”Ÿå½±å“ã€‚</p><p><strong>å°ç»“</strong></p><p>01èƒŒåŒ…é—®é¢˜æ˜¯æœ€åŸºæœ¬çš„èƒŒåŒ…é—®é¢˜ï¼Œå®ƒåŒ…å«äº†èƒŒåŒ…é—®é¢˜ä¸­è®¾è®¡çŠ¶æ€ã€æ–¹ç¨‹çš„æœ€åŸºæœ¬æ€æƒ³ï¼Œå¦å¤–ï¼Œåˆ«çš„ç±»å‹çš„èƒŒåŒ…é—®é¢˜å¾€å¾€ä¹Ÿå¯ä»¥è½¬æ¢æˆ01èƒŒåŒ…é—®é¢˜æ±‚è§£ã€‚æ•…ä¸€å®šè¦ä»”ç»†ä½“ä¼šä¸Šé¢åŸºæœ¬æ€è·¯çš„å¾—å‡ºæ–¹æ³•ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ„ä¹‰ï¼Œä»¥åŠæœ€åæ€æ ·ä¼˜åŒ–çš„ç©ºé—´å¤æ‚åº¦ã€‚</p><p><strong>ä¾‹é¢˜</strong></p><p><a href="https://www.acwing.com/problem/content/2/">AcWing 01èƒŒåŒ…é—®é¢˜</a><br><a href="https://www.luogu.org/problemnew/show/P2925">Luogu P2925å¹²è‰å‡ºå”®</a><br><a href="https://www.luogu.org/problemnew/show/P1616">Luogu P1616ç–¯ç‹‚çš„é‡‡è¯</a><br><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3466">HDU 3466 Proud Merchants</a></p><h2 id="2-å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰"><a href="#2-å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰" class="headerlink" title="2.å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰"></a>2.å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰</h2><h2 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h2><p><a href="https://blog.csdn.net/yandaoqiusheng/article/details/84782655">èƒŒåŒ…ä¹è®²é€šä¿—æ˜“æ‡‚ç‰ˆâ€”æˆ‘å°±æ˜¯æŠ„äººå®¶çš„ï¼Œå†™çš„çœŸå¥½</a></p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•ä¸åˆ·é¢˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>èƒŒåŒ…é—®é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è‡ªæ—‹é”</title>
    <link href="/2021/10/18/%E8%87%AA%E6%97%8B%E9%94%81/"/>
    <url>/2021/10/18/%E8%87%AA%E6%97%8B%E9%94%81/</url>
    
    <content type="html"><![CDATA[<h1 id="è‡ªæ—‹é”"><a href="#è‡ªæ—‹é”" class="headerlink" title="è‡ªæ—‹é”"></a>è‡ªæ—‹é”</h1><h2 id="1-æå‡ºèƒŒæ™¯ï¼š"><a href="#1-æå‡ºèƒŒæ™¯ï¼š" class="headerlink" title="1.æå‡ºèƒŒæ™¯ï¼š"></a>1.æå‡ºèƒŒæ™¯ï¼š</h2><p>â€‹    ç”±äºå¤šå¤„ç†å™¨ç¯å¢ƒä¸­ï¼ŒæŸäº›èµ„æºçš„æœ‰é™æ€§ï¼Œå¯¹äºå¤šä¸ªçº¿ç¨‹å…±äº«çš„èµ„æºè¿›è¡Œè®¿é—®æ—¶ï¼Œéœ€è¦è¿›è¡Œäº’æ–¥è®¿é—®ï¼Œä¾¿éœ€è¦å¼•å…¥é”çš„æ¦‚å¿µï¼Œåªæœ‰è·å–äº†é”çš„çº¿ç¨‹æ‰å¯ä»¥å¯¹èµ„æºè¿›è¡Œè®¿é—®ï¼Œç”±äºå¤šçº¿ç¨‹çš„æ ¸å¿ƒæ˜¯CPUçš„æ—¶é—´åˆ†ç‰‡ï¼Œæ‰€ä»¥åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è·å–é”ã€‚</p><p>â€‹    å½“é”æ²¡æœ‰è¢«å ç”¨æ—¶ï¼Œå°è¯•è·å–é”çš„çº¿ç¨‹æˆåŠŸè·å–åˆ°é”ï¼Œä¹‹åè‹¥æœ‰å¦å¤–çš„çº¿ç¨‹å°è¯•è·å–é”ï¼Œé€šå¸¸æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š</p><p>â€‹        1.æ²¡æœ‰è·å–åˆ°é”çš„çº¿ç¨‹å°±ä¸€ç›´å¾ªç¯ç­‰å¾…åˆ¤æ–­è¯¥èµ„æºæ˜¯å¦å·²ç»é‡Šæ”¾é”ï¼Œè¿™ç§é”å«åšè‡ªæ—‹é”ã€‚</p><p>â€‹        2.æ²¡æœ‰è·å–åˆ°é”çš„çº¿ç¨‹å°†è‡ªå·±é˜»å¡èµ·æ¥ï¼Œç­‰å¾…é‡æ–°è°ƒåº¦è¯·æ±‚ï¼Œè¿™ç§é”å«äº’æ–¥é”ã€‚</p><h2 id="2-è‡ªæ—‹é”çš„å®šä¹‰"><a href="#2-è‡ªæ—‹é”çš„å®šä¹‰" class="headerlink" title="2.è‡ªæ—‹é”çš„å®šä¹‰"></a>2.è‡ªæ—‹é”çš„å®šä¹‰</h2><p>â€‹    è‡ªæ—‹é”çš„å®šä¹‰ï¼šå½“ä¸€ä¸ªçº¿ç¨‹å°è¯•å»è·å–æŸä¸€æŠŠé”çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªé”æ­¤æ—¶å·²ç»è¢«åˆ«äººè·å–(å ç”¨)ï¼Œé‚£ä¹ˆæ­¤çº¿ç¨‹å°±æ— æ³•è·å–åˆ°è¿™æŠŠé”ï¼Œè¯¥çº¿ç¨‹å°†ä¼šç­‰å¾…ï¼Œé—´éš”ä¸€æ®µæ—¶é—´åä¼šå†æ¬¡å°è¯•è·å–ã€‚è¿™ç§é‡‡ç”¨å¾ªç¯åŠ é” -&gt; ç­‰å¾…çš„æœºåˆ¶è¢«ç§°ä¸º<code>è‡ªæ—‹é”(spinlock)</code>ã€‚</p><h2 id="3-è‡ªæ—‹é”çš„åŸç†"><a href="#3-è‡ªæ—‹é”çš„åŸç†" class="headerlink" title="3.è‡ªæ—‹é”çš„åŸç†"></a>3.è‡ªæ—‹é”çš„åŸç†</h2><p>â€‹    å¦‚æœæŒæœ‰é”çš„çº¿ç¨‹èƒ½åœ¨çŸ­æ—¶é—´å†…é‡Šæ”¾èµ„æºï¼Œé‚£ä¹ˆé‚£äº›ç­‰å¾…ç«äº‰é”çš„çº¿ç¨‹å°±ä¸éœ€è¦è¿›è¡Œå†…æ ¸æ€å’Œç”¨æˆ·æ€ä¹‹é—´çš„åˆ‡æ¢è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œåªéœ€è¦ç­‰å¾…é”çš„é‡Šæ”¾ï¼ˆè‡ªæ—‹ä¸€å°æ®µæ—¶é—´ï¼‰ï¼Œç­‰åˆ°æŒæœ‰é”çš„çº¿ç¨‹é‡Šæ”¾é”ä¹‹åå³å¯è·å–åˆ°é”ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯é¿å…äº†ç”¨æˆ·è¿›ç¨‹å’Œå†…æ ¸æ€åˆ‡æ¢çš„æ¶ˆè€—ã€‚</p><p>â€‹    è‡ªæ—‹é”é€‚ç”¨äºä¸´ç•ŒåŒºä»£ç æ‰§è¡Œæ—¶é—´è¾ƒçŸ­çš„æƒ…å†µï¼Œå…¶ä»–ç«äº‰çº¿ç¨‹åªéœ€è¦ç­‰å¾…ä¸€å°ä¼šå„¿ä¾¿å¯ä»¥è·å–åˆ°é”ï¼Œè€Œä¸ç”¨åœ¨æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ä¸‹è¿›å…¥é˜»å¡çŠ¶æ€ç„¶åå†åˆ‡æ¢å›æ¥ï¼Œå‡å°‘äº†ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ï¼Œå› æ­¤è·å–è‡ªæ—‹é”çš„è¿›ç¨‹å®é™…ä¸Šä¸€ç›´å¤„äºç”¨æˆ·æ€ï¼Œå¹¶æœªè¿›è¡Œç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„åˆ‡æ¢ã€‚ä½†å¦‚æœè·å–é”çš„çº¿ç¨‹éœ€è¦é•¿æ—¶é—´çš„å ç”¨é”ï¼Œåˆ™æ­¤æ—¶ä½¿ç”¨è‡ªæ—‹é”çš„æ•ˆç‡å¹¶ä¸é«˜ï¼Œå¤§é‡çº¿ç¨‹ç«äº‰ä¸€ä¸ªé”ï¼Œä¼šå¯¼è‡´è·å–é”çš„æ—¶é—´å¾ˆé•¿ï¼Œçº¿ç¨‹è‡ªæ—‹çš„æ¶ˆè€—å¤§äºçº¿ç¨‹é˜»å¡æŒ‚èµ·çš„æ¶ˆè€—ï¼Œå…¶ä»–éœ€è¦CPUçš„çº¿ç¨‹æœ‰ä¸èƒ½è·å–åˆ°CPUï¼Œä¼šé€ æˆCPUçš„æµªè´¹ã€‚</p><p>â€‹    è‡ªæ—‹é”å¹¿æ³›çš„åº”ç”¨äºæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œæ˜¯ä¸€ç§è½»é‡çº§çš„äº’æ–¥é”ï¼Œä½†æ˜¯æœªç”³è¯·åˆ°é”çš„çº¿ç¨‹ä¸ä¼šè¢«æŒ‚èµ·ï¼Œè€Œæ˜¯è¿›å…¥å¿™ç­‰å¾…çŠ¶æ€ã€‚</p><p>â€‹    é‡ç‚¹ï¼šè‡ªæ—‹é”åœ¨ä½¿ç”¨æ˜¯ä¼šè‡ªåŠ¨ç¦æ­¢æŠ¢å ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦çš„åŸå› ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªçº¿ç¨‹ä¸€ç›´åœ¨è‡ªæ—‹ç­‰å¾…é”è¢«é‡Šæ”¾ï¼Œé‚£ä¹ˆè¿™æ®µæ—¶é—´ä»–è¿˜æ˜¯ä¸€ç›´åœ¨å ç”¨CPUï¼Œå…¶ä»–çš„çº¿ç¨‹æ— æ³•æŠ¢å ä»–çš„CPUã€‚</p><h2 id="4-ä½¿ç”¨è‡ªæ—‹é”çš„æ³¨æ„äº‹é¡¹"><a href="#4-ä½¿ç”¨è‡ªæ—‹é”çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="4.ä½¿ç”¨è‡ªæ—‹é”çš„æ³¨æ„äº‹é¡¹"></a>4.ä½¿ç”¨è‡ªæ—‹é”çš„æ³¨æ„äº‹é¡¹</h2><ul><li><p>ä¸åº”ç”¨äºé•¿æ—¶é—´åŠ é”</p></li><li><p>è¢«è‡ªæ—‹é”ä¿æŠ¤çš„ä¸´ç•ŒåŒºä¸èƒ½è°ƒç”¨å¼•èµ·ç¡çœ å’Œé˜»å¡çš„APIå‡½æ•°ï¼Œå¦åˆ™ä¼šé€ æˆæ­»é”ï¼š</p><p>å¦‚æœçº¿ç¨‹ A åœ¨æŒæœ‰é”æœŸé—´è¿›å…¥äº†ä¼‘çœ çŠ¶æ€ï¼Œé‚£ä¹ˆçº¿ç¨‹ A ä¼šè‡ªåŠ¨æ”¾å¼ƒ CPU ä½¿ç”¨æƒã€‚çº¿ç¨‹ B å¼€å§‹è¿è¡Œï¼Œçº¿ç¨‹ B ä¹Ÿæƒ³è¦è·å–é”ï¼Œä½†æ˜¯æ­¤æ—¶é”è¢« A çº¿ç¨‹æŒæœ‰ï¼Œè€Œä¸”å†…æ ¸æŠ¢å è¿˜è¢«ç¦æ­¢äº†ï¼çº¿ç¨‹ B æ— æ³•è¢«è°ƒåº¦å‡ºå»ï¼Œé‚£ä¹ˆçº¿ç¨‹ A å°±æ— æ³•è¿è¡Œï¼Œé”ä¹Ÿå°±æ— æ³•é‡Šæ”¾ï¼Œå¥½äº†ï¼Œæ­»é”å‘ç”Ÿäº†ï¼</p></li><li><p>ä¸èƒ½é€’å½’ç”³è¯·è‡ªæ—‹é”ï¼Œå› ä¸ºä¸€æ—¦é€šè¿‡é€’å½’çš„æ–¹å¼ç”³è¯·ä¸€ä¸ªä½ æ­£åœ¨æŒæœ‰çš„é”ï¼Œé‚£ä¹ˆä½ å°±å¿…é¡»â€œè‡ªæ—‹â€ï¼Œç­‰å¾…é”è¢«é‡Šæ”¾ï¼Œç„¶è€Œä½ æ­£å¤„äºâ€œè‡ªæ—‹â€çŠ¶æ€ï¼Œæ ¹æœ¬æ²¡æ³•é‡Šæ”¾é”ã€‚ç»“æœå°±æ˜¯è‡ªå·±æŠŠè‡ªå·±é”æ­»äº†ï¼</p></li><li><p>åœ¨è·å–é”ä¹‹å‰ä¸€å®šè¦è¿›è¡Œä¹‹æœ¬åœ°ä¸­æ–­ï¼ˆå½“å‰CPUä¸­æ–­ï¼‰</p><p>ä¸­æ–­ä¸­å¯ä»¥ä½¿ç”¨è‡ªæ—‹é”ï¼Œä½†æ˜¯åœ¨è¿›å…¥è‡ªæ—‹é”çš„ä¸´ç•ŒåŒºåï¼Œåˆå‘ç”Ÿäº†ä¸­æ–­ï¼Œæ­¤æ—¶æ–°çš„ä¸­æ–­å°è¯•è·å–é”ï¼Œä½†é”æ­£åœ¨è¢«åŸä¸­æ–­æŒæœ‰ï¼Œç°ä¸­æ–­æ— æ³•è·å–é”ï¼ŒåŸä¸­æ–­åˆè¢«æ‰“æ–­ï¼Œæ— æ³•é‡Šæ”¾é”ï¼Œåˆ™ä¼šé€ æˆæ­»é”ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20210704161013832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjA5NzEwOA==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="æœ¬åœ°ä¸­æ–­å¯¼è‡´æ­»é”"></p></li></ul><h2 id="5-å…·ä½“å®ç°ä¾‹å­å¾…è¡¥å……â€¦â€¦"><a href="#5-å…·ä½“å®ç°ä¾‹å­å¾…è¡¥å……â€¦â€¦" class="headerlink" title="5.å…·ä½“å®ç°ä¾‹å­å¾…è¡¥å……â€¦â€¦.."></a>5.å…·ä½“å®ç°ä¾‹å­å¾…è¡¥å……â€¦â€¦..</h2><h2 id="6-å‚è€ƒé“¾æ¥ï¼ˆçº¯æ¬ç –ï¼‰"><a href="#6-å‚è€ƒé“¾æ¥ï¼ˆçº¯æ¬ç –ï¼‰" class="headerlink" title="6.å‚è€ƒé“¾æ¥ï¼ˆçº¯æ¬ç –ï¼‰"></a>6.å‚è€ƒé“¾æ¥ï¼ˆçº¯æ¬ç –ï¼‰</h2><p><a href="http://www.blogjava.net/jinfeng_wang/archive/2016/12/14/432088.html">Javaçº¿ç¨‹ - CASè‡ªæ—‹é”(spin-lock)</a></p><p><a href="https://blog.csdn.net/zhoutianzi12/article/details/103373976"> ä»€ä¹ˆæ˜¯è‡ªæ—‹é”+è‡ªæ—‹é”å’Œäº’æ–¥é”çš„åŒºåˆ«</a></p><p><a href="https://www.cnblogs.com/cxuanBlog/p/11679883.html">çœ‹å®Œä½ å°±æ˜ç™½çš„é”ç³»åˆ—ä¹‹è‡ªæ—‹é”</a></p>]]></content>
    
    
    <categories>
      
      <category>OS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡32-1</title>
    <link href="/2021/09/24/%E5%89%91%E6%8C%8732-1/"/>
    <url>/2021/09/24/%E5%89%91%E6%8C%8732-1/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰‘æŒ‡-Offer32-I-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘"><a href="#å‰‘æŒ‡-Offer32-I-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘" class="headerlink" title="å‰‘æŒ‡ Offer32-I.ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘"></a>å‰‘æŒ‡ Offer32-I.ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</h1><hr><p><strong>é¢˜ç›®è¦æ±‚ï¼š</strong></p><p>ä»ä¸Šåˆ°ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°.</p><p>ä¾‹å¦‚ï¼šç»™å®šäºŒå‰æ ‘[3,9,20,null,null,15,7]</p><div class="hljs code-wrapper"><pre><code>    3   / \  9  20     / \    15 7 </code></pre></div><p>è¿”å›ï¼š[3,9,20,15,7]</p><p><strong>é¢˜ç›®åˆ†æ:</strong></p><ul><li>å¯¹äºŒå‰æ ‘è¿›è¡Œæ‰“å°å®é™…å°±æ˜¯å¯¹å…¶è¿›è¡Œéå†ï¼Œæ ¹æ®é¢˜ç›®è¦æ±‚ï¼ŒåŒä¸€å±‚èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºè¿›è¡Œéå†ï¼Œæ‰€ä»¥åº”é‡‡ç”¨å±‚åºéå†çš„æ–¹æ³•å»éå†ã€‚</li><li>å±‚åºéå†ï¼šå€ŸåŠ©é˜Ÿåˆ—è¿›è¡Œå®ç°ï¼Œè¦ä¿è¯è¯»å–å½“å‰èŠ‚ç‚¹åï¼Œæ¥ä¸‹é‡Œè¯»å–å™¨å·¦å³èŠ‚ç‚¹ï¼Œç„¶åæ˜¯å·¦å­èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ï¼Œç„¶åæ˜¯å³å­èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ã€‚èµ·åˆæ€è·¯æœ‰äº›é”™è¯¯ï¼Œæƒ³é€šè¿‡é€’å½’å»è¿›è¡Œè¯»å–ï¼Œä½†æ˜¯é€’å½’ä¸€æ—¦æ·±å…¥åˆ°ä¸€æ£µå­æ ‘ä¸­ï¼Œä¾¿ä¼šç»§ç»­æ·±å…¥ä¸‹å»ï¼Œæ˜¯æ— æ³•è¿”å›ä¿è¯æŒ‰å±‚è¯»å–çš„ï¼Œå®é™…ä¸Šå¹¶ä¸éœ€è¦é€’å½’å¤„ç†ã€‚</li><li>é€šè¿‡é˜Ÿåˆ—å®ç°å±‚åºéå†ï¼šé¦–å…ˆå°†æ ¹èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œç„¶åå½“é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶è¿›å…¥å¾ªç¯ï¼Œæ¯ä¸€æ¬¡å¾ªç¯ï¼Œå–å‡ºé˜Ÿåˆ—å¤´ç»“ç‚¹ï¼Œå¹¶è¯»å–èŠ‚ç‚¹æ•°æ®ï¼Œç„¶åå°†å…¶å·¦å³èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼ˆå­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼‰ï¼Œè¿™æ ·çš„è¯ï¼Œä¸‹ä¸€æ¬¡å·¦å­èŠ‚ç‚¹ä»é˜Ÿåˆ—å¤´å–å‡ºï¼ŒåŒæ—¶å°†å…¶å·¦å³å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œè¿™æ ·å°±ä¿è¯äº†é˜Ÿåˆ—ä¸­çš„æ•°æ®é¡ºåºæ˜¯æŒ‰ç…§å±‚åºéå†çš„é¡ºåºå¼¹å‡ºçš„ã€‚</li><li>æ³¨æ„äº‹é¡¹ï¼šé’ˆå¯¹æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåšå‡ºé’ˆå¯¹å¤„ç†ã€‚é˜Ÿåˆ—é›†åˆå¯¹è±¡ä¸ºInteger,å…ˆç”¨Integeræ•°ç»„ä¿å­˜æ•°æ®ï¼Œç„¶åè½¬åŒ–æˆint[],è¿”å›æ•°ç»„ã€‚</li></ul><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="hljs code-wrapper"><pre><code>class Solution &#123;ArrayList&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(1004);Queue&lt;TreeNode&gt; q = new ArrayDeque&lt;&gt;(1004);public int[] levelOrder(TreeNode root) &#123;    if(root == null) &#123;        int[] a = new int[0];        return a;    &#125;    q.add(root);    int i = 0;    TreeNode tem  =  new TreeNode(0) ;    while(!(q.isEmpty()))&#123;        tem = q.remove();        b.add(tem.val);        if(tem.left != null)&#123;            q.add(tem.left);        &#125;        if(tem.right != null)&#123;            q.add(tem.right);        &#125;    &#125;    int[] a = new int[b.size()];    Iterator&lt;Integer&gt; in = b.iterator();    while(in.hasNext())&#123;        a[i++] = in.next();    &#125;    return a;    &#125;&#125;</code></pre></div><p>é€šè¿‡æœ¬é¢˜ä¸»è¦å¤ä¹ ä¸€ä¸‹ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå±‚åºéå†ï¼Œä»¥åŠç†Ÿæ‚‰Markdownå†™æ³•ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•ä¸åˆ·é¢˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜ç¬”è®°</tag>
      
      <tag>äºŒå‰æ ‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
