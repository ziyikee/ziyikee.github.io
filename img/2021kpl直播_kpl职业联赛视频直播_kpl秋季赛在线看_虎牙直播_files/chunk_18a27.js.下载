(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[416],{1069:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));a(1069);var n=a(14),l=a(68),r=a(2),c=a(3),i=a(424),o=a.n(i),s=a(24),u=a(15),d=a(1077),m=a.n(d);a(285);function f(e,t,a,n,l,r,c){try{var i=e[r](c),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,l)}function p(e){return function(){var t=this,a=arguments;return new Promise((function(n,l){var r=e.apply(t,a);function c(e){f(r,n,l,c,i,"next",e)}function i(e){f(r,n,l,c,i,"throw",e)}c(void 0)}))}}var h=s.default.toast;function v(e){var t={chTopId:r.default.id,subChId:r.default.sid,screenType:r.default.screenType,iSourceType:r.default.liveSourceType,privateHost:r.default.privateHost,profileRoom:r.default.profileRoom,yyid:c.default.yyid,isLive:r.default.isOff,roomPid:c.default.lp},a="http://liveshare.huya.com/iframe/"+TT.createRoomHost(t.privateHost,t.profileRoom,t.yyid),l="https://m.huya.com/"+r.default.profileRoom+"?source=huya_main_room&presenteruid="+c.default.lp,i={liveRoom:{url:TT.app.main+TT.createRoomHost(t.privateHost,t.profileRoom,t.yyid),alias:"liveURL",cnName:"复制直播间地址"},player:{url:a,alias:"vURL",cnName:"复制播放器地址"},code:{url:'<iframe width="100%" height="100%"  frameborder="0" scrolling="no" src="'.concat(a,'"></iframe>'),alias:"vCode",cnName:"复制播放器代码"}},s=null;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"3";return new Promise((function(a,n){$.ajax({url:TT.app.main+"member/index.php?m=Share&do=getLiveShareInfo",type:"GET",dataType:"json",async:!1,data:{uid:t.roomPid,action:location.href,platform:e}}).done((function(e){200==e.status&&a(e.data)}))}))}function f(e,t){var a=encodeURIComponent(t.sAction),n=encodeURIComponent(t.sTitle),l=encodeURIComponent(t.sContent),r=encodeURIComponent(t.sImageUrl);return{3:function(e,t,a,n){return"http://service.weibo.com/share/share.php?url="+e+"&title="+t+"&pic="+n+"&language=zh_cn"},4:function(e,t,a,n){return"http://connect.qq.com/widget/shareqq/index.html?url="+e+"&desc="+a+"&title="+t+"&pics="+n+"&summary="+a},5:function(e,t,a,n){return"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+e+"&title="+t+"&pics="+n+"&summary="+a},6:function(e,t,a,n){return"http://tieba.baidu.com/f/commit/share/openShareApi?title="+t+"&url="+e+"&to=tieba&type=text&relateUid=&pic="+n+"&key=&sign=on&desc=&comment="+a}}[e](a,n,l,r)}function v(){return y.apply(this,arguments)}function y(){return(y=p(regeneratorRuntime.mark((function e(){var a,n,l,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:"3",e.next=3,d(a);case 3:n=e.sent,l=f(a,n),r={3:"微博",4:"QQ",5:"QQ空间",6:"贴吧"},Object(u.reportEvent)({eid:"click/share/".concat(a,"/").concat(t.roomPid),eid_desc:"点击/分享/".concat(r[a],"/主播uid")}),window.open(l,"_blank");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){m()(i[e].url),(s=null)&&s.close(),s=h.suc("已成功复制到您的剪切面板"),Object(u.reportEvent)({eid:"click/Live/".concat(i[e].alias),eid_desc:"点击/直播间/".concat(i[e].cnName)})}return n.default.createElement(n.default.Fragment,null,n.default.createElement("em",{className:"entrance-expand-arr"}),n.default.createElement("div",{className:"entrance-expand-bor"}),n.default.createElement("div",{className:"share-box"},n.default.createElement("div",{className:"share-bd clearfix"},n.default.createElement("div",{className:"share-wx"},n.default.createElement("span",{className:"wx-face"}),n.default.createElement("div",{className:"qr-code-wrap"},n.default.createElement("span",{className:"wx-icon"}),n.default.createElement("div",{id:"scan-region-qrcode"},n.default.createElement(o.a,{value:l,size:138,fgColor:"#000000"})))),n.default.createElement("div",{className:"share-cnt"},n.default.createElement("div",{className:"share-list clearfix"},n.default.createElement("span",{onClick:function(){v("3")},title:"分享到新浪微博",className:"wb-icon"}),n.default.createElement("span",{onClick:function(){v("4")},title:"分享到QQ",className:"qq-icon"}),n.default.createElement("span",{onClick:function(){v("5")},title:"分享到QQ空间",className:"qzone-icon"}),n.default.createElement("span",{onClick:function(){v("6")},title:"分享到贴吧",className:"tb-icon"})),n.default.createElement("ul",{className:"share-link"},n.default.createElement("li",{className:"share-link-item"},n.default.createElement("input",{type:"text",readOnly:!0,value:i.liveRoom.url,id:"room-link",className:"share-link-input"}),n.default.createElement("span",{onClick:function(){E("liveRoom")},className:"share-copy-btn"},"复制直播间地址")),1!=t.isLive&&n.default.createElement(n.default.Fragment,null,n.default.createElement("li",{className:"share-link-item"},n.default.createElement("input",{readOnly:!0,type:"text",value:i.player.url,id:"flash-link",className:"share-link-input"}),n.default.createElement("span",{onClick:function(){E("player")},className:"share-copy-btn"},"复制播放器地址")),n.default.createElement("li",{className:"share-link-item"},n.default.createElement("input",{readOnly:!0,type:"text",value:i.code.url,id:"flash-code",className:"share-link-input"}),n.default.createElement("span",{onClick:function(){E("code")},className:"share-copy-btn"},"复制播放器代码"))))))))}function y(){var e;e=document.getElementById("pop-box-share"),l.default.render(n.default.createElement(v,null),e)}}}]);