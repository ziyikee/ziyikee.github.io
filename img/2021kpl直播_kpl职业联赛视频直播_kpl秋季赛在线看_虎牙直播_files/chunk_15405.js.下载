(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[307],{98:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(12),i=(0,o.__importDefault)(e(0)),r=(0,o.__importDefault)(e(16)),u=e(4);r.default.push((function(){Promise.resolve().then((function(){return(0,o.__importStar)(e(325))})).then((function(n){n.default.on("SendFailed",(function(n){"NO_ENOUGH_ITEM"===n.name&&TT.emit("liveRoom_recharge")}))}))})),r.default.push((function(){Promise.resolve().then((function(){return(0,o.__importStar)(e(660))}))})),r.default.push((function(){Promise.resolve().then((function(){return(0,o.__importStar)(e(394))})).then((function(n){var t=n.default,i=(0,u.once)((function(n){Promise.resolve().then((function(){return(0,o.__importStar)(e(689))})).then((function(t){(0,t.mount)(n)}))}));t.queryGatheringMotorcade().then((function(n){n.iTotalCount>0&&i((0,o.__assign)({},n))})),t.once("MotorcadeGatherBegin",(function(n){var t=n.tDetailInfo,e=t.lGatherUid;i({iTotalCount:1,iResponse:(0,u.getUid)()&&e==(0,u.getUid)()?1:0,tDetailInfo:t})}))}))})),r.default.push((function(){Promise.resolve().then((function(){return(0,o.__importStar)(e(706))})).then((function(n){var t=n.default,i=n.MotorcadePanelUri,r=i.MotorcadeNoticePanelUri,a=i.MotorcadeHidePanelUri,f=!1;function c(){Promise.resolve().then((function(){return(0,o.__importStar)(e(709))})).then((function(n){var e=n.mount;if(!1===f){f=!0;var o=(0,u.once)((function(){i(),t.off("notice",r),f=!1})),i=e({onClose:o}),r=function(n){n.vSerializedMsg.value.find((function(n){return n.iUri===a}))&&o()};t.on("notice",r)}}))}t.getActivityInfo().then((function(n){n.vSerializedMsg.value.length>0&&c()})),t.on("notice",(function(n){n.vSerializedMsg.value.find((function(n){return n.iUri===r}))&&c()}))}))})),r.default.push((function(){Promise.resolve().then((function(){return(0,o.__importStar)(e(398))})).then((function(n){var t,i=n.default,r=n.ETreasureBoxState,a=function(n){var e=t=n,o=e.iTotal,i=e.tBoxInfo.iState;o>0&&i!=r.None&&f()},f=(0,u.once)((function(){Promise.all([i.getTreasureBoxConfig(),Promise.resolve().then((function(){return(0,o.__importStar)(e(714))}))]).then((function(n){var e=n[0];(0,n[1].mount)({conf:e,data:t})}))}));i.getTreasureBoxPanelInfo().then(a),i.on("TreasureBoxPanelInfoChange",a)}))})),i.default.isH5&&r.default.push((function(){i.default.ready((function(n){n.addTafListener("1020001",(function(n){Promise.resolve().then((function(){return(0,o.__importStar)(e(719))})).then((function(t){(0,t.onNotify)(n)}))}))}))}))}}]);