(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[334],{1080:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);a(1080);var n=a(14),r=a(68),o=a(2),c=a(3),i=a(81),l=a(285),u=a.n(l),d=a(15);function m(e,t,a,n,r,o,c){try{var i=e[o](c),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function c(e){m(o,n,r,c,i,"next",e)}function i(e){m(o,n,r,c,i,"throw",e)}c(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function g(e){var t=f(Object(n.useState)(!1),2),a=t[0],r=t[1],c=f(Object(n.useState)(!0),2),i=c[0],l=c[1],m=null,s="TT_GAME_"+o.default.gid+"_PROMOTE";return Object(n.useEffect)((function(){try{localStorage.getItem(s)||(m=setTimeout((function(){l(!1),r(!0);try{Object(d.reportEvent)({eid:"click/room/web/game/psitips",eid_desc:"点击/直播间/游戏下载入口/被动触发"})}catch(e){}}),TT.isProd?6e4:6e3))}catch(e){}}),[]),n.default.createElement("div",{onMouseLeave:function(){i&&r(!1)},onMouseEnter:function(){!function(){if(i){r(!0);try{Object(d.reportEvent)({eid:"click/room/web/game/initips",eid_desc:"点击/直播间/游戏下载入口/主动触发"})}catch(e){}null!==m&&clearTimeout(m)}}()},className:u()("gamePromote","J_gamePromote",{passiveTrigger:!i})},n.default.createElement("div",{className:"gamePromote-hd"},n.default.createElement("span",{className:"gamePromote-tit"},"下载游戏")),a&&n.default.createElement("div",{className:"gamePromote-bd J_gamePromoteContainer"},n.default.createElement("div",{className:"gamePromote-cont"},n.default.createElement("div",{className:"board"},n.default.createElement("div",{className:"board-hd"},"快来跟主播一起玩"),n.default.createElement("div",{className:"board-bd"},n.default.createElement("p",{className:"board-game"},e.data.game_name,1==e.data.gift_display&&n.default.createElement("i",null)),n.default.createElement("div",{className:"board-qrcode"},n.default.createElement("img",{src:TT.trimUrl(e.data.codepic_url),alt:e.data.game_name})),n.default.createElement("p",{className:"board-des"},"扫描二维码下载游戏")))),n.default.createElement("i",{onClick:function(){!function(){localStorage.setItem(s,"1"),l(!0),r(!1);try{Object(d.reportEvent)({eid:"click/room/web/game/closetips",eid_desc:"点击/直播间/游戏下载入口/关闭"})}catch(e){}}()},className:"gamePromote-x J_gamePromoteX"})))}function y(e,t){r.default.render(n.default.createElement(g,{data:t}),e)}function b(){return new Promise((function(e){$.ajax({url:TT.app.main+"cache.php?m=MobileGameApi&do=getWebMobileGameInfo",type:"GET",dataType:"json",data:{gameId:o.default.gid,pid:c.default.lp},success:function(t){t&&200==t.status&&t.data&&t.data.length&&t.data[0]&&t.data[0].codepic_url&&e(t.data[0])}})}))}function v(){return(v=s(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,(a=document.getElementById("J_roomGamePromote")).style.display="block",i.default.addElment({order:555,size:function(){return 85},show:function(){a.style.display="block"},hide:function(){a.style.display="none"}}),y(a,t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){v.apply(this,arguments)}()}}]);