(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[384],{1260:function(e,t,n){var r=n(1261);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(287)(r,i);r.locals&&(e.exports=r.locals)},1261:function(e,t,n){(t=n(286)(!1)).push([e.i,".game--3vukE-yU-mjmYLSnLDfHYm{display:inline-block;color:#f80}.game--3vukE-yU-mjmYLSnLDfHYm:hover{color:#ff9600}.game--3vukE-yU-mjmYLSnLDfHYm img{vertical-align:middle;width:auto;max-width:none;height:28px}.game--3vukE-yU-mjmYLSnLDfHYm span{display:inline-block;vertical-align:middle;line-height:28px;padding:0 .5em;max-width:12em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n",""]),t.locals={game:"game--3vukE-yU-mjmYLSnLDfHYm"},e.exports=t},136:function(e,t,n){"use strict";n.r(t);var r=n(28),i=n.n(r),a=n(42),o=n.n(a),l=(n(285),n(289),n(4),n(0),n(2)),c=n(3),u=n(81),s=n(15),d=n(452),f=n.n(d),m=n(1260),p=n.n(m);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){var t=e.id,n=e.brand,a=e.imageUrl,o=e.sdkConf,l=e.onLayout,c=g(Object(r.useState)(null),2),u=c[0],d=c[1],m=g(Object(r.useState)(!1),2),y=m[0],v=m[1],h=Object(r.useMemo)((function(){return f.a.getLandingUrl(o)}),[]);Object(r.useEffect)((function(){u&&y&&l(u)}),[u,y]),Object(r.useEffect)((function(){Object(s.reportEvent)({eid:"sys/pageview/live/adtips",eid_desc:"系统/展示/直播间/tips广告",prop:JSON.stringify({traceID:t})});try{f.a.reportPageView(o)}catch(e){console.error(e)}}),[]);var b=Object(r.useCallback)((function(){Object(s.reportEvent)({eid:"usr/click/live/adtips",eid_desc:"系统/点击/直播间/tips广告",prop:JSON.stringify({traceID:t})});try{f.a.reportClick(o)}catch(e){console.error(e)}}),[]);return i.a.createElement("a",{className:p.a.game,href:h,target:"_blank",ref:d,onClick:b,title:n},i.a.createElement("img",{src:a,onLoad:function(){return v(!0)}}))}!function(e,t){var n=e.rid,r=e.gameId,i=e.gameName,a=e.pid,o=e.pNick;0;$.ajax({type:"POST",url:"https://e-stat.huya.com/api/info/get",dataType:"json",data:{rid:n,imps:JSON.stringify([{id:0,slotCnt:1,slotCode:"2020zbjwzl"}]),content:JSON.stringify({gameId:r,gameName:i,title:""}),presenter:JSON.stringify({nick:o,uid:a}),uid:JSON.stringify({uid:HUYA_UTIL.getCookieVal("udb_uid")||"",huyaUa:"web&1.0.0&huya",guid:HUYA_UTIL.getCookieVal("guid")||""})},xhrFields:{withCredentials:!0},success:function(e){if(e&&200==e.code&&e.data&&e.data.length){var n=null;if(e.data.some((function(e){if(e&&0==e.id)return n=(e.ads||[])[0],!0})),n){var r=n,i=r.id,a=r.imageUrl;if(a){var o=new Image;o.onload=function(){t(n)},o.src=a}Object(s.reportEvent)({eid:"sys/request/live/adtips",eid_desc:"系统/请求/直播间/tips广告",prop:JSON.stringify({traceID:i})})}}},__forceTrace:!0})}({rid:"huyaWebLiveRoomHeader_".concat((new Date).getTime()),gameId:l.default.gid||"",gameName:l.default.gameFullName,pid:c.default.lp||"",pNick:c.default.nick},(function(e){var t=document.createElement("div");t.className="room-business-game",t.style.display="block",$(".J_roomHdCtrl").append(t),o.a.render(i.a.createElement(h,v({},e,{onLayout:function(e){var n=0;u.default.addElment({order:888,size:function(){return n||(n=e.getBoundingClientRect().width),n+18},show:function(){t.style.display="block"},hide:function(){t.style.display="none"}})}})),t)}))}}]);