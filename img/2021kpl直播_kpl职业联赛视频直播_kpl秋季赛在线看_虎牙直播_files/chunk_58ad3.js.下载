(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[298],{394:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(12),n=(0,o.__importDefault)(r(3)),i=r(395);(0,o.__exportStar)(r(395),t),t.default=new i.Motorcade(n.default.lp)},395:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Motorcade=void 0;var o=r(12),n=(0,o.__importDefault)(r(19)),i=(0,o.__importDefault)(r(0)),a=r(687);(0,o.__exportStar)(r(688),t);var u=function(e){function t(t){var r=e.call(this)||this;return r.query=null,r.lp=t,r.listener(),r}return(0,o.__extends)(t,e),t.prototype.queryGatheringMotorcade=function(e){return this.query&&!e||(this.query=(0,a.queryGatheringMotorcade)(this.lp)),this.query},t.prototype.responseMotorcadeGathering=function(e,t){return(0,a.responseMotorcadeGathering)(this.lp,e,t)},t.prototype.listener=function(){var e=this;i.default.isH5&&i.default.ready((function(t){t.addTafListener("2000001",(function(t){t.lPid==e.lp&&e.emit("MotorcadeGatherBegin",t)})),t.addTafListener("2000002",(function(t){t.lPid==e.lp&&e.emit("MotorcadeGatherEnd",t)})),t.addTafListener("2000003",(function(t){t.lPid==e.lp&&e.emit("MotorcadeGatherResponse",t)}))}))},t}(n.default);t.Motorcade=u},687:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.responseMotorcadeGathering=t.queryGatheringMotorcade=void 0;var o=(0,r(12).__importDefault)(r(0));t.queryGatheringMotorcade=function(e){return new Promise((function(t,r){var n=setTimeout((function(){r(new Error("TIMEOUT"))}),8e3);o.default.isH5?o.default.ready((function(o){var i=Object.assign(new o.taf.HUYA.QueryGatheringMotorcadeReq,{tId:o.userId,lPid:e});o.sendWup2("wupui","queryGatheringMotorcade",i,(function(e){clearTimeout(n),0===e.iRetCode?t(e):r(new Error(""+e.sErrMsg))}))})):r(new Error("NOT SUPPORTING FLASH"))}))},t.responseMotorcadeGathering=function(e,t,r){return new Promise((function(n,i){var a=setTimeout((function(){i(new Error("TIMEOUT"))}),8e3);o.default.isH5?o.default.ready((function(o){var i=Object.assign(new o.taf.HUYA.ResponseMotorcadeGatheringReq,{tId:o.userId,lPid:e,lMotorcadeId:t,lGatherId:r});o.sendWup2("wupui","responseMotorcadeGathering",i,(function(e){clearTimeout(a),n(e)}))})):i(new Error("NOT SUPPORTING FLASH"))}))}},688:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}]);