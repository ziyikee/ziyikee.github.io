(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[47],{755:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TrialFansBadge=void 0;var i=(0,t(12).__importDefault)(t(0)),a=t(756),r=function(){function e(e,n){this.badgeList=[],this.usingBadgeId=0,this.badgeList=e,this.usingBadgeId=n}return e.addBadgeScoreChangedNoticeListener=function(e){i.default.isH5&&i.default.ready((function(n){return n.addTafListener("6246",e)}))},e.useBadge=function(e){return(0,a.useTrialFansBadge)(e).then((function(n){n.lBadgeId;return{lBadgeId:e}}))},e.prototype.listenScoreChangedNotice=function(){var n=this;e.addBadgeScoreChangedNoticeListener((function(e){var t=e.iNewBadge,i=e.tNewInfo,a=i.tCompactInfo.lBadgeId;if(t)null===n.find(a)&&n.badgeList.push(i);else{var r=n.find(a);r?Object.assign(r,i):n.badgeList.push(i)}}))},e.prototype.find=function(e){return e&&this.badgeList.find((function(n){return n.tCompactInfo.lBadgeId==e}))||null},e.prototype.removeBadge=function(e){var n=this.find(e);if(null!==n){var t=this.badgeList.indexOf(n);this.badgeList.splice(t,1)}},e.getBadgeInfoList=a.getTrialFansBadgeInfoList,e}();n.TrialFansBadge=r,n.default=r},756:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.useTrialFansBadge=n.getTrialFansBadgeInfoList=void 0;var i=(0,t(12).__importDefault)(t(0));n.getTrialFansBadgeInfoList=function(){return new Promise((function(e,n){var t=setTimeout((function(){return n(new Error("TIMEOUT"))}),24e3);i.default.isH5?i.default.ready((function(n){var i=Object.assign(new n.taf.HUYA.TrialFansBadgeInfoListReq,{tUserId:n.userId});n.sendWup2("revenueui","getTrialFansBadgeInfoList",i,(function(n){clearTimeout(t),e(n)}))})):n(new Error("NOT SUPPORTING FLASH"))}))},n.useTrialFansBadge=function(e){return new Promise((function(n,t){var a=setTimeout((function(){return t(new Error("TIMEOUT"))}),24e3);i.default.isH5?i.default.ready((function(i){var r=Object.assign(new i.taf.HUYA.UseTrialFansBadgeReq,{tUserId:i.userId,lBadgeId:e});i.sendWup2("revenueui","useTrialFansBadge",r,(function(e){clearTimeout(a),0===e.iRetCode?n(e):t(new Error("ERROR("+e.iRetCode+")"))}))})):t(new Error("NOT SUPPORTING FLASH"))}))}}}]);