(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[335],{1083:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.show=void 0;var u=n(12),a=(0,u.__importDefault)(n(28)),i=(0,u.__importDefault)(n(42)),o=(0,u.__importDefault)(n(1084)),r=(0,u.__importDefault)(n(1099));e.show=function(t){var e=t.container,n=t.data,u=t.cfg,c=t.onStart,s=t.onEnd,l=t.listenComb,d=t.unlistenComb,f=((u.vPropsIdentity.value[0]||{}).sPropBigGiftPc||"").split("&")[0].replace(/^http\:/,"https:");(0,r.default)(f).then((function(t){var r=document.createElement("div");e.appendChild(r),i.default.render(a.default.createElement(o.default,{data:n,cfg:u,effectConf:t,onStart:c,onEnd:function(){i.default.unmountComponentAtNode(r),r.remove(),s()},listenComb:l,unlistenComb:d}),r)})).catch((function(t){s(),console.error(t.message)}))}},1084:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=n(12),a=(0,u.__importStar)(n(28)),i=n(360),o=(0,u.__importDefault)(n(430)),r=(0,u.__importDefault)(n(305)),c=n(1085),s=(0,u.__importDefault)(n(1086));e.default=function(t){var e=t.data,n=t.cfg,u=t.effectConf,l=t.onStart,d=t.onEnd,f=t.listenComb,m=t.unlistenComb,_=e.iItemCount,p=e.iItemGroup,E=e.iSenderIcon,x=e.sSenderNick,h=e.sCustomText,v=(0,a.useState)(_*p),y=v[0],N=v[1],G=(0,a.useState)(null),g=G[0],b=G[1];(0,a.useEffect)((function(){var t=function(t){var e=t.iItemCount,n=t.iItemGroup;return N(e*n)};return f(t),function(){return m(t)}}),[]),(0,a.useEffect)((function(){if(g){var t=66==e.tNobleLevel.iAttrType,u=(0,o.default)(n,"low",t),a=u.width,r=u.steps,c=u.bgImg,s=u.duration,f={iPropsId:e.iPropsId,width:a,steps:r,bgImg:c,duration:s,isLegendary:t,type:"low"},m=(0,i.createCssAnimation)(f,g);m.start(),l();var _=setTimeout((function(){m.stop(),d()}),m.duration);return function(){return clearTimeout(_)}}}),[g]);var C=h||"应援灯牌",H=Math.min(C.length,u.content.textAnimation.maxLength);return a.default.createElement("div",{className:s.default.GiftCustomEffect},a.default.createElement("div",{className:s.default.gift,ref:b}),a.default.createElement(r.default,{className:s.default.avatar,style:u.avatar.style,url:TT.trimUrl(E)}),a.default.createElement("span",{className:s.default.nick,style:u.nick.style},x),a.default.createElement("div",{className:s.default.content,style:u.content.style},a.default.createElement(c.Typing,{className:s.default.text,style:u.content.textStyle,size:H,duration:u.content.textAnimation.speed*H,delay:u.content.textAnimation.delay},C)),a.default.createElement("div",{className:s.default.comb},a.default.createElement("i",{className:s.default.x}),a.default.createElement("span",{className:s.default.count},(""+y).split("").map((function(t,e){return a.default.createElement("i",{className:s.default["n-"+t],key:e})})))))}},1085:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Typing=void 0;var u,a,i=n(12),o=(0,i.__importStar)(n(28)),r=(0,i.__importStar)(n(300));function c(t){var e=t.size,n=t.duration,u=t.delay,a=t.style,r=void 0===a?{}:a,s=t.className,l=void 0===s?"":s,d=t.children,f=(0,o.useState)({}),m=f[0],_=f[1],p=(0,o.useMemo)((function(){return(0,i.__assign)((0,i.__assign)({},r),m)}),[r,m]),E=(0,o.useCallback)((function(){_({textOverflow:"ellipsis"})}),[]);return o.default.createElement(c.Text,{duration:n,size:e,delay:u,style:p,className:l,onAnimationEnd:E},d)}e.Typing=c,c.Keyframes=function(t){return(0,r.keyframes)(u||(u=(0,i.__makeTemplateObject)(["\n    from {\n        width: 0;\n    }\n\n    to {\n        width: ","em;\n    }\n"],["\n    from {\n        width: 0;\n    }\n\n    to {\n        width: ","em;\n    }\n"])),t)},c.Text=r.default.p(a||(a=(0,i.__makeTemplateObject)(["\n    animation: "," ","ms steps(",", end);\n    animation-delay: ","ms;\n"],["\n    animation: "," ","ms steps(",", end);\n    animation-delay: ","ms;\n"])),(function(t){return c.Keyframes(t.size)}),(function(t){return t.duration}),(function(t){return t.size}),(function(t){return t.delay}))},1086:function(t,e,n){var u=n(1087);"string"==typeof u&&(u=[[t.i,u,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(287)(u,a);u.locals&&(t.exports=u.locals)},1087:function(t,e,n){var u=n(286),a=n(288),i=n(1088),o=n(1089),r=n(1090),c=n(1091),s=n(1092),l=n(1093),d=n(1094),f=n(1095),m=n(1096),_=n(1097),p=n(1098);e=u(!1);var E=a(i),x=a(o),h=a(r),v=a(c),y=a(s),N=a(l),G=a(d),g=a(f),b=a(m),C=a(_),H=a(p);e.push([t.i,".GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn{position:relative;font-size:12px;line-height:1.5}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .gift--2LgXTn8D5gVn-gu0lm22MC{height:224px;width:100%;overflow:hidden}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .avatar--QX9yRes4ckHURYJR0B2ii,.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .nick--jPFCyx3h70DdpvQ76QUiY,.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .content--3O_cUXFUr1HxnltoIqHt3D{position:absolute}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .content--3O_cUXFUr1HxnltoIqHt3D .text--1IOzly-sWEDi405dIBNW2M{display:inline-block;animation-fill-mode:both}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau{position:absolute;right:20px;bottom:85px;display:inline-flex;align-items:center;justify-content:center;white-space:nowrap}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .x--3MT1rMwtKevXxzHYHF_NxA{display:inline-block;width:20px;height:21px;background:url("+E+")}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX{margin-left:5px;display:inline-flex;align-items:center;justify-content:center;white-space:nowrap}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i{display:inline-block}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-0--1mbticULAgi3lLHnDHXvhT{background:url("+x+");width:26px;height:35px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-1--d9z2k_a2mmMtG5LYDkZqb{background:url("+h+");width:14px;height:35px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-2--dNStfzWauXnJucMRvJqg2{background:url("+v+");width:25px;height:34px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-3--3s0RI9wupHay2ZACJxqLvC{background:url("+y+");width:25px;height:35px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-4--bCIHakh_y69tFDtk3JUhn{background:url("+N+");width:27px;height:35px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-5--3NsnGrq4ohkdjDhsl5ExzG{background:url("+G+");width:26px;height:34px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-6--1t1AC6NFaS97Sm3vFdeQkx{background:url("+g+");width:25px;height:35px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-7--3O24w_1j5nbUKCb63iWvMc{background:url("+b+");width:24px;height:35px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-8--gregSJKj2kIi_3i-OWGC6{background:url("+C+");width:25px;height:35px}.GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn .comb--2G1r_7FEEsxHGuSrWocNau .count--vIuRa_RdHuJtyntB1O7DX i.n-9--1yUHB1SLGW4QOa2nlcnTLq{background:url("+H+");width:25px;height:35px}\n",""]),e.locals={GiftCustomEffect:"GiftCustomEffect--2dYdNTXLtWaslVuB_rttzn",gift:"gift--2LgXTn8D5gVn-gu0lm22MC",avatar:"avatar--QX9yRes4ckHURYJR0B2ii",nick:"nick--jPFCyx3h70DdpvQ76QUiY",content:"content--3O_cUXFUr1HxnltoIqHt3D",text:"text--1IOzly-sWEDi405dIBNW2M",comb:"comb--2G1r_7FEEsxHGuSrWocNau",x:"x--3MT1rMwtKevXxzHYHF_NxA",count:"count--vIuRa_RdHuJtyntB1O7DX","n-0":"n-0--1mbticULAgi3lLHnDHXvhT","n-1":"n-1--d9z2k_a2mmMtG5LYDkZqb","n-2":"n-2--dNStfzWauXnJucMRvJqg2","n-3":"n-3--3s0RI9wupHay2ZACJxqLvC","n-4":"n-4--bCIHakh_y69tFDtk3JUhn","n-5":"n-5--3NsnGrq4ohkdjDhsl5ExzG","n-6":"n-6--1t1AC6NFaS97Sm3vFdeQkx","n-7":"n-7--3O24w_1j5nbUKCb63iWvMc","n-8":"n-8--gregSJKj2kIi_3i-OWGC6","n-9":"n-9--1yUHB1SLGW4QOa2nlcnTLq"},t.exports=e},1099:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=n(12),a=(0,u.__importDefault)(n(392)),i=(0,u.__importDefault)(n(393));function o(t,e){return function(t){return new Promise((function(e,n){i.default.getBinaryContent(t,(function(t,u){t?n(t):e(a.default.loadAsync(u))}))}))}(t).then((function(t){if(t.files&&t.files[e])return t.file(e).async("text");throw new Error("NOT EXISTS")})).then((function(t){return JSON.parse(t)||{}}))}var r={};e.default=function(t,e){void 0===e&&(e="webCustomTextEffectsConf.json");var n=t+"-"+e;return r[n]||(r[n]=o(t,e)),r[n]}}}]);