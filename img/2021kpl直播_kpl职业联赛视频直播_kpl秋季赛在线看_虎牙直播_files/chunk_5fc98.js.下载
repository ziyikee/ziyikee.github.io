(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[305],{398:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),u=(0,n.__importDefault)(r(3)),o=r(399);(0,n.__exportStar)(r(399),t),t.default=new o.TreasureBoxes(u.default.lp)},399:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreasureBoxes=void 0;var n=r(12),u=(0,n.__importDefault)(r(19)),o=(0,n.__importDefault)(r(0)),a=r(4),i=r(712);(0,n.__exportStar)(r(713),t);var s=function(e){function t(t){var r=e.call(this)||this;return r.req=null,r.lp=t,o.default.isH5&&o.default.ready((function(e){e.addTafListener("6606",(function(e){r.emit("TreasureBoxPanelInfoChange",e)}))})),r.getTreasureBoxConfig=(0,a.once)(r.getTreasureBoxConfig.bind(r)),r}return(0,n.__extends)(t,e),t.prototype.getTreasureBoxPanelInfo=function(e){return this.req&&!e||(this.req=(0,i.getTreasureBoxPanel)(this.lp)),this.req},t.prototype.getTreasureBoxConfig=function(e){return void 0===e&&(e=0),(0,i.getTreasureBoxUIList)(e)},t}(u.default);t.TreasureBoxes=s},712:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTreasureBoxUIList=t.getTreasureBoxPanel=void 0;var n=(0,r(12).__importDefault)(r(0));t.getTreasureBoxPanel=function(e){return new Promise((function(t,r){var u=setTimeout((function(){r(new Error("TIMEOUT"))}),8e3);n.default.isH5?n.default.ready((function(r){var n=Object.assign(new r.taf.HUYA.GetTreasureBoxPanelReq,{tId:r.userId,lPid:e});r.sendWup2("wupui","getTreasureBoxPanel",n,(function(e){clearTimeout(u),t(e)}))})):r(new Error("NOT SUPPORTING FLASH"))}))},t.getTreasureBoxUIList=function(e){return new Promise((function(t,r){var u=setTimeout((function(){r(new Error("TIMEOUT"))}),8e3);n.default.isH5?n.default.ready((function(r){var n=Object.assign(new r.taf.HUYA.GetTreasureBoxUIListReq,{tId:r.userId,iReqType:e});r.sendWup2("wupui","getTreasureBoxUIList",n,(function(e){clearTimeout(u),t(e)}))})):r(new Error("NOT SUPPORTING FLASH"))}))}},713:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ETreasureBoxState=void 0,function(e){e[e.None=0]="None",e[e.Ready=1]="Ready",e[e.Rob=2]="Rob",e[e.End=3]="End"}(t.ETreasureBoxState||(t.ETreasureBoxState={}))}}]);