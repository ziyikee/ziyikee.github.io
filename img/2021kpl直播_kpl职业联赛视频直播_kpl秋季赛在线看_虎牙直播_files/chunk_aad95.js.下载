(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[252],{1068:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,n,a,t,i){var s=n.split("\n"),r=Math.max(t-3,0),o=Math.min(s.length,t+3),p=i(a),c=s.slice(r,o).map((function(e,n){var a=n+r+1;return(a==t?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=p,e.message=(p||"ejs")+":"+t+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="msg-of-king lv-<%= lv %><%= isLegendary ? \' legendary\' : \'\' %>">\n    <div class="inner">\n        <div class="content">\n            <p class="decorationPrefix"><%- decorationPrefix %></p>\n            <span class="name J_userNick" data-uid="<%=uid%>" title="点击查看个人信息"><%= name %></span>\n            <p class="decorationSuffix"><%- decorationSuffix %></p>\n            <span class="colon">:</span>\n            <span class="msg J_msg"<%= color %>><%- msg %></span>\n        </div>\n    </div>\n</div>\n',__filename="widget/roomMsgOfKing/tpl.tmpl";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="msg-of-king lv-'),__append(escapeFn(lv)),__append(escapeFn(isLegendary?" legendary":"")),__append('">\n    <div class="inner">\n        <div class="content">\n            <p class="decorationPrefix">'),__line=4,__append(decorationPrefix),__append('</p>\n            <span class="name J_userNick" data-uid="'),__line=5,__append(escapeFn(uid)),__append('" title="点击查看个人信息">'),__append(escapeFn(name)),__append('</span>\n            <p class="decorationSuffix">'),__line=6,__append(decorationSuffix),__append('</p>\n            <span class="colon">:</span>\n            <span class="msg J_msg"'),__line=8,__append(escapeFn(color)),__append(">"),__append(msg),__append("</span>\n        </div>\n    </div>\n</div>\n"),__line=12;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},113:function(e,n,a){"use strict";a.r(n);var t=a(4),i=a(326),s=a.n(i),r=a(349),o=a(74),p=a(82),c=a(294),l=a(78),d=a(321),u=a(76),_=new r.a(1),f=$("#J_box_msgOfKing");function g(e){var n=0,a=!1,i=e.vDecorationPrefix.value;i.length&&$.each(i,(function(e,t){10200==t.iAppId&&(n=t.vData.iLevel,a=66==t.vData.tLevel.iAttrType)})),4!=n&&5!=n&&6!=n||_.process((function(i){var r=function(e,n,a){var i=e.tUserInfo.lUid&&Object(t.getUid)()&&e.tUserInfo.lUid==Object(t.getUid)(),r=e.sContent;try{r=decodeURIComponent(r)}catch(e){}r=m(r),r=s.a.replaceEmoticonTextWithHTMLImg(r);var o=e.tUserInfo.sNickName;try{o=decodeURIComponent(o)}catch(e){}o=m(o);var p=T(e.tFormat.iFontColor),c=[];i&&c.push('<span style="display:inline-block;line-height:22px;color:#FFA900;">[我]</span>');var l=e.vDecorationPrefix.value,d=null,u=-1;l.length&&$.each(l,(function(e,n){var a,t="";0==n.iViewType&&h[n.iAppId]&&(t=h[n.iAppId](n.vData)),1==n.iViewType&&(t='<span style="display: inline-block; line-height: 20px;'+((a=n.vData).iColor>0?" color: #"+T(a.iColor)+";":"")+'">'+a.sText+"</span>"),2==n.iViewType&&(t=n.vData.sGifUrl&&TT.isSupportWebp()?'<img src="'+TT.trimUrl(n.vData.sGifUrl).replace(".webp","_3.webp")+'" />':'<img src="'+TT.trimUrl(n.vData.sUrl).replace(".png","_3.png")+'" />'),10100==n.iAppId&&(1==n.vData.iType||2==n.vData.iType)||10090==n.iAppId?d?(10090==d.iAppId&&10100==n.iAppId&&1==n.vData.iType||10100==d.iAppId&&2==d.vData.iType&&10090==n.iAppId)&&(d=n,c.splice(u,1,t)):(d=n,u=c.length,c.push(t)):c.push(t)}));var _="",f=e.vDecorationSuffix.value;f.length&&$.each(f,(function(e,n){if(2==n.iViewType){var a=n.vData.sGifUrl&&TT.isSupportWebp()?n.vData.sGifUrl:n.vData.sUrl;if(a){var t=a.lastIndexOf(".");_+='<img src="'+TT.trimUrl(a.slice(0,t))+"_3"+a.slice(t)+'">'}}}));return v({uid:e.tUserInfo.lUid,isLegendary:a,lv:n,name:o,msg:r,decorationPrefix:c.join(""),decorationSuffix:_,color:0!=p?' style="color: #'+p+';"':""})}(e,n,a);f.append(r),f.addClass("in"),setTimeout((function(){f.removeClass("in"),f.addClass("out"),setTimeout((function(){f.removeClass("out"),f.empty(),i()}),600)}),_.size()<10?5e3:3e3)}))}f.on("click",".J_userNick",(function(){var e=$(this).data("uid"),n=f.find(".J_msg").html();e&&n&&c.default.open({uid:e,muteText:n})})),u.default.on("update",(function(){setTimeout((function(){var e=u.default.topPanel(),n=$("#wrap-"+e).height();f.css("top",n)}),250)})),p.default.speak.on("sendSuccess",(function(e){g(e.tNotice)})),p.default.speak.on("sendTimeout",(function(e){g(e.tNotice)})),p.default.broadcaster.addListener((function(e){var n=e.data,a=e.isOwn,t=e.isSame;a&&t||l.default.testMsg(n)||g(n)}));var v=a(1068);function m(e){return"string"!=typeof e?e:e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")}function T(e){if(e>0){var n=e.toString(16);if(n.length<6){for(var a=6-n.length,t="",i=0;i<a;i++)t+="0";e=t+n}else e=n}else e=0;return e}a.e(252).then(a.t.bind(null,1418,7));var h={10090:function(e){return'<img src="'+TT.trimUrl(e.sUrl).replace(".png","_3.png")+'" />'},10100:function(e){return 1==e.iType||2==e.iType?'<img src="'+TT.trimUrl(e.sManagerDecorationUrl).replace(".png","_3.png")+'" />':""},10400:function(e){var n=e.lBadgeId,a=e.iBadgeLevel,t=e.iBadgeType,i=e.sBadgeName,s=e.tFaithInfo.sFaithName,r=e.tSuperFansInfo.iSFFlag,p=e.iCustomBadgeFlag,c=o.CustomFansBadge.getCustomBadgeAssets(p,e);return c?d.a.createCustom(a,i,n,r,c):d.a.create(a,1==t?s:i,n,t,r)},10399:function(e){var n=e.sBadgeName,a=e.tCompactInfo,t=a.lBadgeId,i=a.iBadgeLevel;return d.a.createTrial(t,i,n)},10300:function(e){var n=e.iLevel,a=e.sIcon;if(n>0&&a){var t=a.lastIndexOf("."),i="".concat(TT.trimUrl(a.slice(0,t)),"_3").concat(a.slice(t));return'<img src="'.concat(i,'" />')}return""}}},1418:function(e,n,a){}}]);