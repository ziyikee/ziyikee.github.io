(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[201],{94:function(e,t,n){"use strict";n.r(t);var i=n(8),a=n(0),u=n(3),r=n(296),d=n(4);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=Object(d.once)((function(){return HUYA_UTIL.getCookieVal("udb_uid")})),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,new i.a),this.anchorList=[]}var t,n,d;return t=e,(n=[{key:"initialize",value:function(){var e,t=this,n=function(e){var t=this,n=e.vLMPresenterInfos,i=e.mPid2SubscribeStatus;this.anchorList=n.value.map((function(e){var n=!!l()&&1===i.value[e.lUid];return{roomId:e.iRoomId,yy:e.lYYId,uid:e.lUid,tid:e.lChannelId,sid:e.lSubChannelId,headImg:e.sAvatarUrl,name:e.sNick,category:e.sGameName,follow:r.default.add(l(),e.lUid,(function(n){t.emit("update"),a.default.call("subscribeStatusChangeToPlayer",{iStatus:n?1:0,uid:e.lUid})}),n)}})),this.emit("update")}.bind(this);e=function(e){n(e),a.default.isH5?a.default.ready((function(e){e.addTafListener("getLinkMicPresenterListByUid",n)})):a.default.on("getLinkMicPresenterListByUidRsp",(function(e){return n(e.param||e)}))},a.default.isH5?a.default.ready((function(t){var n=new t.taf.HUYA.GetLinkMicPresenterInfoReq;n.lUid=u.default.lp,n.tId=t.userId,t.sendWup2("liveui","getLinkMicPresenterListByUid",n,e)})):a.default.isFlash&&a.default.ready((function(){a.default.one("getLinkMicPresenterListByUidRsp",(function(t){var n=t.param;return e(n)})),a.default.call("getLinkMicPresenterInfoReq",{})})),a.default.isH5?a.default.ready((function(e){e.addTafListener("1025801",(function(){return t.emit("notice:currentAnchor")}))})):a.default.isFlash&&a.default.on("PugcVipRedirectNotice",(function(){return t.emit("notice:currentAnchor")}))}},{key:"isPUGC",value:function(e){var t=this;!function(e){a.default.isH5?a.default.ready((function(t){var n=new t.taf.HUYA.IsPugcRoomReq;n.lUid=u.default.lp,n.tId=t.userId,t.sendWup2("presenterui","isPugcRoom",n,e)})):a.default.isFlash&&a.default.ready((function(){a.default.one("IsPugcRoomRsp",(function(t){var n=t.param;return e(n)})),a.default.call("IsPugcRoomReq",{})}))}((function(n){t.liveStat=n.iLiveStat,e(n)}))}}])&&o(t.prototype,n),d&&o(t,d),e}();t.default=new s}}]);