(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[379],{666:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mount=void 0;var o=n(12),i=(0,o.__importDefault)(n(28)),r=(0,o.__importDefault)(n(42)),a=n(4),f=(0,o.__importDefault)(n(667));e.mount=function(t){var e=t.data,n=t.conf,o=t.container,c=t.onStart,u=t.onEnd,l=t.onError,s=t.listenComb,d=t.unlistenComb,p=document.createElement("div");o.appendChild(p);var x=(0,a.once)((function(){r.default.unmountComponentAtNode(p),p.remove()})),m=(0,a.once)(u),b=(0,a.once)(c);r.default.render(i.default.createElement(f.default,{data:e,conf:n,onStart:b,onEnd:function(){x(),m()},onError:function(t){x(),l(t)},onDestory:function(){x(),m()},listenComb:s,unlistenComb:d}),p)}},667:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=(0,o.__importStar)(n(28)),r=(0,o.__importDefault)(n(335)),a=(0,o.__importDefault)(n(350)),f=(0,o.__importDefault)(n(289)),c=n(4),u=(0,o.__importDefault)(n(305)),l=(0,o.__importDefault)(n(674));e.default=function(t){var e=t.data,n=t.conf,s=t.onStart,d=t.onEnd,p=t.onError,x=t.onDestory,m=t.listenComb,b=t.unlistenComb,k=(0,i.useState)(e.iComboScore),O=k[0],S=k[1],h=(0,i.useState)(null),Q=h[0],Z=h[1],v=(0,f.default)((function(t,e){t((0,a.default)(n.sWebZipUrl,"vapc.json","text").then((function(t){return JSON.parse(t)})))}),[]),E=v[0],g=v[1];return v[2],(0,i.useEffect)((function(){g?p(new Error("获取视频配置失败："+g.message)):""===n.sWebVideoUrl&&p(new Error("视频资源缺失"))}),[g]),(0,i.useEffect)((function(){var t=function(t){var e=t.iComboScore;return S(e)};return m(t),function(){return b(t)}}),[]),(0,i.useEffect)((function(){if(Q&&n.sWebVideoUrl&&E){var t,i=(0,c.once)(s),a=(0,c.once)(d),f=(0,c.once)(p),u=(0,c.once)(x),l=24;try{l=E.info.fps}catch(t){}try{(t=new r.default((0,o.__assign)((0,o.__assign)({container:Q,src:n.sWebVideoUrl,config:E,width:338,height:338/750*1334,fps:l,accurate:!0,onDestory:u,onLoadError:f,type:(new Date).getTime()+"-"+Math.random()},e.mAvatarUrl.value),(m={},Object.keys(e.mDiyTips.value).forEach((function(t){m[t]=e.mDiyTips.value[t].sContent})),m)))).on("playing",i),t.on("ended",a)}catch(t){f(t)}return function(){t&&t.destroy()}}var m}),[Q,s,d,p,x,e,n,E]),i.default.createElement("div",{className:l.default.Effect},i.default.createElement("div",{className:l.default.video,ref:Z}),O>0&&i.default.createElement("div",{className:l.default.comb},i.default.createElement("i",{className:l.default.x}),i.default.createElement("span",{className:l.default.count},(""+O).split("").map((function(t,e){return i.default.createElement("i",{className:l.default["n-"+t],key:e})})))),e.vDiyContent.value.length>0&&i.default.createElement("div",{className:l.default.footer},i.default.createElement("div",{className:l.default.Tips},i.default.createElement(u.default,{className:l.default.TipsAvatar,url:TT.trimUrl(e.sAvatarUrl)}),e.vDiyContent.value.map((function(t,e){var n=t.iColor,o=t.sContent;return i.default.createElement("span",{className:l.default.TipsText,style:{color:"#"+(0,c.toRgb)(n)},key:e},o)})))))}},674:function(t,e,n){var o=n(675);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(287)(o,i);o.locals&&(t.exports=o.locals)},675:function(t,e,n){var o=n(286),i=n(288),r=n(676),a=n(677),f=n(678),c=n(679),u=n(680),l=n(681),s=n(682),d=n(683),p=n(684),x=n(685),m=n(686);e=o(!1);var b=i(r),k=i(a),O=i(f),S=i(c),h=i(u),Q=i(l),Z=i(s),v=i(d),E=i(p),g=i(x),w=i(m);e.push([t.i,".Effect--pZtQLXQtBvdnk4j22rQSC{position:relative;font-size:12px;line-height:1.5}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD{position:absolute;right:20px;bottom:85px;display:inline-flex;align-items:center;justify-content:center;white-space:nowrap}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .x--3kelT-8HKjMhRZ9YqnnXbH{display:inline-block;width:20px;height:21px;background:url("+b+")}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx{margin-left:5px;display:inline-flex;align-items:center;justify-content:center;white-space:nowrap}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i{display:inline-block}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-0--2Ycb3Ros94MnDUbzjBjjBN{background:url("+k+");width:26px;height:35px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-1--1RQli6ru5YHmHkO0XbxeB4{background:url("+O+");width:14px;height:35px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-2--1xLjw3BkdNpqgpwU4QOX0-{background:url("+S+");width:25px;height:34px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-3--1Y4jc6Mn49SrPgYJX_5ki0{background:url("+h+");width:25px;height:35px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-4--1K5C-VVcEYfP_Mgytdvf8u{background:url("+Q+");width:27px;height:35px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-5--2Se4qhar3xtsynnTCqlXFQ{background:url("+Z+");width:26px;height:34px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-6--1n2a6s_5WAw2pEW7dtouSE{background:url("+v+");width:25px;height:35px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-7--2vE9A72EASytzFnP_EagOP{background:url("+E+");width:24px;height:35px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-8--2YyE9QVnLyIbdsGKKdkfo4{background:url("+g+");width:25px;height:35px}.Effect--pZtQLXQtBvdnk4j22rQSC .comb--3ZxOOfffzRsSo1kuOPUoiD .count--2xGwoYZaUMJOKCZ09kpBSx i.n-9--3g5ml7TIXU4XX8QXHHu5SL{background:url("+w+");width:25px;height:35px}.Effect--pZtQLXQtBvdnk4j22rQSC .footer--30KuSY3-oF84wrbbZz-YzL{position:absolute;left:0;bottom:15px;width:100%;display:flex;justify-content:center}.Effect--pZtQLXQtBvdnk4j22rQSC .footer--30KuSY3-oF84wrbbZz-YzL .Tips--21lngbBFU8t4NkIFItHeRE{display:inline-flex;justify-content:center;align-items:center;height:30px;padding:2px 8px 2px 2px;max-width:100%;box-sizing:border-box;overflow:hidden;border-radius:15px;background-image:linear-gradient(90deg, rgba(255,93,49,0.8), rgba(255,186,65,0.8));white-space:nowrap}.Effect--pZtQLXQtBvdnk4j22rQSC .footer--30KuSY3-oF84wrbbZz-YzL .Tips--21lngbBFU8t4NkIFItHeRE .TipsAvatar--3CDboxVn4inCJoMVeiskfh{margin-right:5px;width:26px;height:26px;border-radius:50%}.Effect--pZtQLXQtBvdnk4j22rQSC .footer--30KuSY3-oF84wrbbZz-YzL .Tips--21lngbBFU8t4NkIFItHeRE .TipsText--lwhmdXXkOhPig82YBf8tO{white-space:nowrap;color:#fff}\n",""]),e.locals={Effect:"Effect--pZtQLXQtBvdnk4j22rQSC",comb:"comb--3ZxOOfffzRsSo1kuOPUoiD",x:"x--3kelT-8HKjMhRZ9YqnnXbH",count:"count--2xGwoYZaUMJOKCZ09kpBSx","n-0":"n-0--2Ycb3Ros94MnDUbzjBjjBN","n-1":"n-1--1RQli6ru5YHmHkO0XbxeB4","n-2":"n-2--1xLjw3BkdNpqgpwU4QOX0-","n-3":"n-3--1Y4jc6Mn49SrPgYJX_5ki0","n-4":"n-4--1K5C-VVcEYfP_Mgytdvf8u","n-5":"n-5--2Se4qhar3xtsynnTCqlXFQ","n-6":"n-6--1n2a6s_5WAw2pEW7dtouSE","n-7":"n-7--2vE9A72EASytzFnP_EagOP","n-8":"n-8--2YyE9QVnLyIbdsGKKdkfo4","n-9":"n-9--3g5ml7TIXU4XX8QXHHu5SL",footer:"footer--30KuSY3-oF84wrbbZz-YzL",Tips:"Tips--21lngbBFU8t4NkIFItHeRE",TipsAvatar:"TipsAvatar--3CDboxVn4inCJoMVeiskfh",TipsText:"TipsText--lwhmdXXkOhPig82YBf8tO"},t.exports=e}}]);