(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[35],{340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperFansType=t.BadgeType=void 0,function(e){e[e.Personal=0]="Personal",e[e.Faith=1]="Faith"}(t.BadgeType||(t.BadgeType={})),function(e){e[e.Non=0]="Non",e[e.Normal=1]="Normal",e[e.Year=2]="Year"}(t.SuperFansType||(t.SuperFansType={}))},402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalFansBadge=void 0;var a=(0,n(12).__importDefault)(n(0)),i=n(753),u=function(){function e(e,t){this.badgeList=[],this.usingBadgeId=0,this.badgeList=e,this.usingBadgeId=t}return e.addBadgeScoreChangedNoticeListener=function(e){a.default.isH5?a.default.ready((function(t){return t.addTafListener("6232",e)})):a.default.on("FansBadgeUpNotice",(function(t){return e(t.param)}))},e.useBadge=function(e,t){return 0===e?(0,i.useBadge)(0,0).then((function(){return{lBadgeId:0}})):(0,i.useBadge)(e,t).then((function(){return{lBadgeId:e}}))},e.prototype.listenScoreChangedNotice=function(){var t=this;e.addBadgeScoreChangedNoticeListener((function(e){var n=e.iNewBadge,a=e.tBadgeInfo,i=a.lBadgeId;if(n)null===t.find(i)&&t.badgeList.push(a);else{var u=t.find(i);u?Object.assign(u,a):t.badgeList.push(a)}}))},e.prototype.find=function(e){return e&&this.badgeList.find((function(t){return t.lBadgeId==e}))||null},e.getBadgeItem=i.getBadgeItem,e.getBadgeInfoList=i.queryBadgeInfoList,e}();t.NormalFansBadge=u,t.default=u},753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBadgeItem=t.useBadge=t.queryBadgeInfoList=void 0;var a=(0,n(12).__importDefault)(n(0));t.queryBadgeInfoList=function(){return new Promise((function(e,t){var n=setTimeout((function(){return t(new Error("TIMEOUT"))}),24e3);a.default.isH5?a.default.ready((function(t){var a=Object.assign(new t.taf.HUYA.BadgeInfoListReq,{tUserId:t.userId});t.sendWup2("liveui","queryBadgeInfoList",a,(function(t){clearTimeout(n),e(t)}))})):(a.default.one("GetFansBadgeListResp",(function(t){clearTimeout(n),e(t.param)})),a.default.ready((function(e){return e.callAs("GetFansBadgeListReq")})))}))},t.useBadge=function(e,t){return new Promise((function(n,i){var u=setTimeout((function(){return i(new Error("TIMEOUT"))}),24e3);a.default.isH5?a.default.ready((function(a){var i=Object.assign(new a.taf.HUYA.UseBadgeReq,{tUserId:a.userId,lBadgeId:e,iBadgeType:t});a.sendWup2("liveui","useBadgeV2",i,(function(e){clearTimeout(u),n(e)}))})):a.default.ready((function(i){a.default.one("UseFansBadgeRespV2",(function(e){clearTimeout(u),n(e.param)})),i.callAs("UseFansBadgeReqV2",{lBadgeId:e,iBadgeType:t,lToUid:0})}))}))},t.getBadgeItem=function(e){return new Promise((function(t,n){var i=setTimeout((function(){return n(new Error("TIMEOUT"))}),24e3);a.default.isH5?a.default.ready((function(n){var a=Object.assign(new n.taf.HUYA.BadgeItemReq,{tUserId:n.userId,lPid:e});n.sendWup2("liveui","getBadgeItem",a,(function(e){clearTimeout(i),t(e)}))})):a.default.ready((function(n){a.default.one("BadgeItemRsp",(function(e){clearTimeout(i),t(e.param)})),n.callAs("getBadgeItem",{lPid:e})}))}))}}}]);