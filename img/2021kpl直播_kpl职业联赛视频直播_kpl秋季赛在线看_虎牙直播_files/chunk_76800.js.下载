(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[403],{1041:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),l=(0,n.__importStar)(a(28)),r=(0,n.__importDefault)(a(285)),i=a(357),o=(0,n.__importDefault)(a(358));t.default=function(e){var t,a=e.active,n=e.onClick,u=(0,i.useOrnamentService)(),c=(0,i.useUsingOrnament)(u).tBaseInfo.lId;return(0,l.useMemo)((function(){return u.getDecoUrl(c)}),[c]),(0,l.useEffect)((function(){}),[u]),l.default.createElement("span",{onClick:n,className:(0,r.default)(o.default.entry,(t={},t[o.default.active]=a,t))},l.default.createElement("i",{className:o.default.icon}))}},1042:function(e,t,a){var n=a(286),l=a(288),r=a(1043),i=a(1044);t=n(!1);var o=l(r),u=l(i);t.push([e.i,".RoomOrnament--3B5lks_O6EGMcAYqTm-YUu{order:7}.Ornament--3xeJpjFUFezcC_6FEhrq8W{display:inline-block}.Ornament--3xeJpjFUFezcC_6FEhrq8W .entry--jnnKSn_LnbwuFfgr4-fu4{display:inline-block;min-width:36px;text-align:center;cursor:pointer;user-select:none}.Ornament--3xeJpjFUFezcC_6FEhrq8W .entry--jnnKSn_LnbwuFfgr4-fu4.active--1ei2T8sc7NZ41f6BYSaBOK,.Ornament--3xeJpjFUFezcC_6FEhrq8W .entry--jnnKSn_LnbwuFfgr4-fu4:hover{opacity:.85}.Ornament--3xeJpjFUFezcC_6FEhrq8W .entry--jnnKSn_LnbwuFfgr4-fu4 .icon--bUcq58akwxSlnBrBWHIrf{display:inline-block;width:36px;height:26px;overflow:hidden;background:url("+o+") no-repeat;background-size:cover;vertical-align:middle}.Ornament--3xeJpjFUFezcC_6FEhrq8W .entry--jnnKSn_LnbwuFfgr4-fu4 img{vertical-align:middle;max-height:30px;max-width:50px;width:auto}.panel--17CN9xHGgPu8Nq3SPsiM8u{position:relative}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-toast--1LPND0lcW0yDWzZ9zbmqWs{position:absolute;z-index:2;left:0;top:20px;width:100%}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-close--q-xMrHr9ZV86P2CpWZkZ3{position:absolute;z-index:1;top:6px;right:5px;width:23px;height:23px;overflow:hidden;background:url("+u+") 50% no-repeat;cursor:pointer}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-close--q-xMrHr9ZV86P2CpWZkZ3:hover{background-color:#eee}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-hd--112TPbAPeZiQOtXN_KaP20{padding-left:15px;line-height:40px;font-size:14px;color:#555}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L{position:relative;z-index:0}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .list--2uC0z6vhBTwbaBLMpDfA4i{max-height:220px}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .list--2uC0z6vhBTwbaBLMpDfA4i .item--3cmJMU_B0FCrs4YqGDR7mR{margin:0 6px 10px 10px;background:#F4F5F8;border-radius:6px}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .Empty--1Qw_bYISt-NGlJrNXdReTY{height:240px;display:flex;align-items:center;justify-content:center;flex-direction:column}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .Empty--1Qw_bYISt-NGlJrNXdReTY img{height:100px}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .Empty--1Qw_bYISt-NGlJrNXdReTY p{padding-bottom:20px;color:#999}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .Error--23pKnmY5n7yRVlarfn5lFw{height:240px;display:flex;align-items:center;justify-content:center;flex-direction:column}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .Error--23pKnmY5n7yRVlarfn5lFw img{height:100px}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .Error--23pKnmY5n7yRVlarfn5lFw p{padding-bottom:20px;color:red}.panel--17CN9xHGgPu8Nq3SPsiM8u .panel-bd--1zk9uErAwueem1JUC2d0-L .Loading--3-6Mw2AY1x20JXH0VOIyd5{height:240px;background:url(https://a.msstatic.com/huya/main/assets/img/loading.gif) no-repeat 50%}.Decoration--22csh-oCDSeYOcWtqLqwHo{display:flex;align-items:center;color:#333}.Decoration--22csh-oCDSeYOcWtqLqwHo .icon--bUcq58akwxSlnBrBWHIrf{display:flex;align-items:center;justify-content:center;padding:6px;width:100px}.Decoration--22csh-oCDSeYOcWtqLqwHo .info--1XedjrgYX23cDL4_CWKk81{flex:1;padding:10px 0}.Decoration--22csh-oCDSeYOcWtqLqwHo .info--1XedjrgYX23cDL4_CWKk81 .name--lfFlAHBRn2fmQjxjSQj0g{font-size:14px;line-height:18px}.Decoration--22csh-oCDSeYOcWtqLqwHo .info--1XedjrgYX23cDL4_CWKk81 .desc--1_PAqdPO9_Poyygn_ABBZw{color:#666}.Decoration--22csh-oCDSeYOcWtqLqwHo .info--1XedjrgYX23cDL4_CWKk81 .expireTime--1y6xFGi_dpszP9FlkPLGkK{color:#999}.Decoration--22csh-oCDSeYOcWtqLqwHo .oper--5TTMq9FeviSA5tmVwW4dH{margin-right:15px;margin-left:15px}.Decoration--22csh-oCDSeYOcWtqLqwHo .oper--5TTMq9FeviSA5tmVwW4dH .btn--3nv4GVsggNPQZvckebPeMY{border-radius:666px;padding:.3em .9em;cursor:pointer}.Decoration--22csh-oCDSeYOcWtqLqwHo .oper--5TTMq9FeviSA5tmVwW4dH .btn--3nv4GVsggNPQZvckebPeMY.status-0--2bww_RrbcYt09a8heUVdZ6{border:1px solid #FFA900;background:#FFA900;color:#fff}.Decoration--22csh-oCDSeYOcWtqLqwHo .oper--5TTMq9FeviSA5tmVwW4dH .btn--3nv4GVsggNPQZvckebPeMY.status-1--18Mf6cxI9PBOtLdWelP0Sd{border:1px solid #FFA900;color:#FFA900}.Decoration--22csh-oCDSeYOcWtqLqwHo .oper--5TTMq9FeviSA5tmVwW4dH .juhua--1SEoKWvrh8iP5xmhgZzI9k{display:inline-block;width:48px;height:25px;background:url(https://a.msstatic.com/huya/main/assets/img/loading.gif) no-repeat 50%}\n",""]),t.locals={RoomOrnament:"RoomOrnament--3B5lks_O6EGMcAYqTm-YUu",Ornament:"Ornament--3xeJpjFUFezcC_6FEhrq8W",entry:"entry--jnnKSn_LnbwuFfgr4-fu4",active:"active--1ei2T8sc7NZ41f6BYSaBOK",icon:"icon--bUcq58akwxSlnBrBWHIrf",panel:"panel--17CN9xHGgPu8Nq3SPsiM8u","panel-toast":"panel-toast--1LPND0lcW0yDWzZ9zbmqWs","panel-close":"panel-close--q-xMrHr9ZV86P2CpWZkZ3","panel-hd":"panel-hd--112TPbAPeZiQOtXN_KaP20","panel-bd":"panel-bd--1zk9uErAwueem1JUC2d0-L",list:"list--2uC0z6vhBTwbaBLMpDfA4i",item:"item--3cmJMU_B0FCrs4YqGDR7mR",Empty:"Empty--1Qw_bYISt-NGlJrNXdReTY",Error:"Error--23pKnmY5n7yRVlarfn5lFw",Loading:"Loading--3-6Mw2AY1x20JXH0VOIyd5",Decoration:"Decoration--22csh-oCDSeYOcWtqLqwHo",info:"info--1XedjrgYX23cDL4_CWKk81",name:"name--lfFlAHBRn2fmQjxjSQj0g",desc:"desc--1_PAqdPO9_Poyygn_ABBZw",expireTime:"expireTime--1y6xFGi_dpszP9FlkPLGkK",oper:"oper--5TTMq9FeviSA5tmVwW4dH",btn:"btn--3nv4GVsggNPQZvckebPeMY","status-0":"status-0--2bww_RrbcYt09a8heUVdZ6","status-1":"status-1--18Mf6cxI9PBOtLdWelP0Sd",juhua:"juhua--1SEoKWvrh8iP5xmhgZzI9k"},e.exports=t},1045:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),l=(0,n.__importStar)(a(28)),r=(0,n.__importDefault)(a(285)),i=a(4),o=(0,n.__importStar)(a(289)),u=a(357),c=(0,n.__importDefault)(a(352)),s=(0,n.__importDefault)(a(290)),d=(0,n.__importDefault)(a(358)),f=(0,n.__importDefault)(a(1046)),m=(0,n.__importDefault)(a(1047));function p(e){var t=e.iWear,a=(e.iEffect,e.lExpireTime),n=e.tBaseInfo,o=n.lId,c=n.sName,s=(n.sUrl,n.sGifUrl,n.sDesc),f=(0,u.useOrnamentService)(),m=(0,l.useState)(!1),p=m[0],g=m[1],x=(0,l.useCallback)((function(){!1===p&&(g(!0),f.setDecoWearState(o,t?0:1).then((function(){g(!1)})).catch((function(){g(!1)})))}),[p,f,o,t]),_=(0,l.useMemo)((function(){return f.getDecoUrl(o)}),[o]);return l.default.createElement("div",{className:d.default.Decoration},l.default.createElement("span",{className:d.default.icon},l.default.createElement("img",{src:_})),l.default.createElement("div",{className:d.default.info},l.default.createElement("p",{className:d.default.name},c),l.default.createElement("p",{className:d.default.desc},s),l.default.createElement("p",{className:d.default.expireTime},"有效期至 ",function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=t.getMonth()+1,l=t.getDate();t.getHours(),t.getMinutes();return a+"/"+(0,i.padStart00)(n)+"/"+(0,i.padStart00)(l)}(a))),l.default.createElement("div",{className:d.default.oper},p&&l.default.createElement("i",{className:d.default.juhua}),!p&&l.default.createElement("span",{onClick:x,className:(0,r.default)(d.default.btn,d.default["status-"+t])},t?"取下":"佩戴")))}t.default=function(e){var t=e.onClose,a=(0,u.useOrnamentService)(),i=(0,u.useOrnamentList)(a),g=(0,o.default)((function(e){e(a.getUserDecoList(!0))}),[a]),x=(g[0],g[1]),_=g[2];(0,l.useEffect)((function(){function e(){a.getUserDecoList(!0)}return a.on("ObtainDecoNotify",e),function(){a.off("ObtainDecoNotify",e)}}),[a]);var h=(0,l.useRef)(null);return(0,l.useEffect)((function(){function e(e){h.current&&s.default.error({text:e.message,container:h.current})}return a.on("WEAR_ERROR",e),function(){a.off("WEAR_ERROR",e)}}),[a]),l.default.createElement("div",{className:(0,r.default)(d.default.panel)},l.default.createElement("div",{className:(0,r.default)(d.default["panel-hd"])},"挂件中心"),l.default.createElement("div",{className:(0,r.default)(d.default["panel-bd"])},_===o.PromiseStatus.Fulfilled&&i.length>0&&l.default.createElement(c.default,{className:d.default.list},i.map((function(e,t){return l.default.createElement("div",{className:d.default.item,key:t},l.default.createElement(p,(0,n.__assign)({},e)))}))),_===o.PromiseStatus.Fulfilled&&0===i.length&&l.default.createElement("div",{className:d.default.Empty},l.default.createElement("img",{src:f.default}),l.default.createElement("p",null,"暂时还没有获得挂件哦~")),_===o.PromiseStatus.Pending&&l.default.createElement("div",{className:d.default.Loading}),_===o.PromiseStatus.Rejected&&l.default.createElement("div",{className:d.default.Error},l.default.createElement("img",{src:m.default}),l.default.createElement("p",null,null==x?void 0:x.message))),l.default.createElement("i",{className:d.default["panel-close"],onClick:t}),l.default.createElement("div",{className:d.default["panel-toast"],ref:h}))}},110:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mount=void 0;var n=a(12),l=(0,n.__importStar)(a(28)),r=(0,n.__importDefault)(a(42)),i=(0,n.__importDefault)(a(285)),o=(0,n.__importDefault)(a(1038)),u=a(357),c=(0,n.__importDefault)(a(323)),s=(0,n.__importDefault)(a(311)),d=(0,n.__importDefault)(a(1041)),f=(0,n.__importDefault)(a(1045)),m=(0,n.__importDefault)(a(358));function p(){var e=(0,l.useState)(!1),t=e[0],a=e[1],n=(0,l.useCallback)((function(){TT.sudo((function(){a(!t)}))}),[t]);return l.default.createElement("div",{className:m.default.Ornament},l.default.createElement(d.default,{active:t,onClick:n}),t&&l.default.createElement(c.default,{style:{left:"-1px"}},l.default.createElement(s.default,{absissa:200,style:{width:"340px"}},l.default.createElement(f.default,{onClose:function(){return a(!1)}}))))}t.mount=function(){var e=document.createElement("div");e.className=(0,i.default)("room-chat-tool",m.default.RoomOrnament),$(".room-chat-tools").append(e),r.default.render(l.default.createElement(u.OrnamentService,{value:o.default},l.default.createElement(p,null)),e)}},358:function(e,t,a){var n=a(1042);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(287)(n,l);n.locals&&(e.exports=n.locals)}}]);