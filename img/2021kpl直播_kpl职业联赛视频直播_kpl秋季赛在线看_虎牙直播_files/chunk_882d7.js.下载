(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[313],{1223:function(e,t,n){var a=n(1224);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(287)(a,o);a.locals&&(e.exports=a.locals)},1224:function(e,t,n){(t=n(286)(!1)).push([e.i,".community-container--3WMNtRTM5sTNYx4sv4Kdof{position:relative;width:100%;height:100%;border-radius:6px}.community-container--3WMNtRTM5sTNYx4sv4Kdof.light--3-rS27hpi1i_U0Tih4zotC{background:#fff}.community-container--3WMNtRTM5sTNYx4sv4Kdof.dark--4P9Bioc4NV-LgXbdhHKhR{background:transparent}.community-x--2uCg3op3qdTz6-mGzLS9kt{position:absolute;z-index:222;top:15px;right:20px;width:10px;height:10px;border-left:2px solid #969696;border-top:2px solid #969696;transform:rotate(-135deg);cursor:pointer}.community-global--2QxSSCPYK7Mn9WBdEDVkhM .community-modal--2CmStW7l03-TCsKZcuCFWf{position:static}.community-global--2QxSSCPYK7Mn9WBdEDVkhM .community-notice--ekeXdQYiTgB5W5GE0gKRb{position:absolute;z-index:333;left:0;top:95px;width:100%}.community-main--3P0azXS657adI3zqbGdM_2{position:relative;z-index:111;width:100%;height:100%}.community-loading---faGeaCkE5GxSuYWNi1ho{width:100%;height:100%;border-radius:6px}.community-loading---faGeaCkE5GxSuYWNi1ho.dark--4P9Bioc4NV-LgXbdhHKhR{background-color:rgba(0,0,0,0.8)}.community-err--rbnAxvU1N-i7AN7HfLLrV{width:100%;height:100%;padding-top:100px;box-sizing:border-box;border-radius:6px}.community-err--rbnAxvU1N-i7AN7HfLLrV.dark--4P9Bioc4NV-LgXbdhHKhR{background-color:rgba(0,0,0,0.8)}.community-content--1PsfGL0Iw0imJgcPdTtKB3{width:100%;height:100%;border-radius:6px;color:#444;font-size:12px;padding:78px 0 0 0;box-sizing:border-box;overflow:hidden}.community-content--1PsfGL0Iw0imJgcPdTtKB3 .community-panel--1Org9vno22Caal5h6z2pVe{width:100%;height:100%}.sectionMoments--2fmfpjQTxloFi2v3bGQ4c9{display:flex;flex-direction:column;height:100%}.sectionMoments--2fmfpjQTxloFi2v3bGQ4c9 .sortNav--3tNMZuk9sWD7KRwl_Al_JD{border-bottom:1px solid #eee;padding:.3em .8em 0;margin-bottom:5px}.sectionMoments--2fmfpjQTxloFi2v3bGQ4c9 .sortNav--3tNMZuk9sWD7KRwl_Al_JD .sortNav-item--23XZbQtQJvjSQHXY0kXdYY{display:inline-block;line-height:38px;font-size:14px;padding:0 .5em;color:#666;cursor:pointer}.sectionMoments--2fmfpjQTxloFi2v3bGQ4c9 .sortNav--3tNMZuk9sWD7KRwl_Al_JD .sortNav-item--23XZbQtQJvjSQHXY0kXdYY.active--eIYgkimRDw8Oab2uS9z2J{font-weight:bold;color:#333;cursor:default}.sectionMoments--2fmfpjQTxloFi2v3bGQ4c9 .sectionMoments-list--39lWKY1wfKlzow3yghuSP3{flex:1;overflow:hidden}\n",""]),t.locals={"community-container":"community-container--3WMNtRTM5sTNYx4sv4Kdof",light:"light--3-rS27hpi1i_U0Tih4zotC",dark:"dark--4P9Bioc4NV-LgXbdhHKhR","community-x":"community-x--2uCg3op3qdTz6-mGzLS9kt","community-global":"community-global--2QxSSCPYK7Mn9WBdEDVkhM","community-modal":"community-modal--2CmStW7l03-TCsKZcuCFWf","community-notice":"community-notice--ekeXdQYiTgB5W5GE0gKRb","community-main":"community-main--3P0azXS657adI3zqbGdM_2","community-loading":"community-loading---faGeaCkE5GxSuYWNi1ho","community-err":"community-err--rbnAxvU1N-i7AN7HfLLrV","community-content":"community-content--1PsfGL0Iw0imJgcPdTtKB3","community-panel":"community-panel--1Org9vno22Caal5h6z2pVe",sectionMoments:"sectionMoments--2fmfpjQTxloFi2v3bGQ4c9",sortNav:"sortNav--3tNMZuk9sWD7KRwl_Al_JD","sortNav-item":"sortNav-item--23XZbQtQJvjSQHXY0kXdYY",active:"active--eIYgkimRDw8Oab2uS9z2J","sectionMoments-list":"sectionMoments-list--39lWKY1wfKlzow3yghuSP3"},e.exports=t},1434:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var a,o,i,r,c,l,m,u,s=n(285),d=n.n(s),f=n(28),p=n.n(f),b=n(1177),h=n(1431),y=n(445),g=n(446),v=n(1210),x=n(1218),N=n(290),E=n(315),k=n(308),M=n(313),S=n(295),j=n(303),w=n(366),C=n(304),O=n(300),I=n(438),T=n(1221),_=n.n(T),A=n(1222),L=n.n(A);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,o,i=[],r=!0,c=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function K(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y=Object(O.keyframes)(a||(a=K(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Q=Object(O.css)(o||(o=K(["\n    animation: "," 1s linear infinite;\n"])),Y),W=O.default.div(i||(i=K(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 78px;\n    padding: 12px;\n    box-sizing: border-box;\n    background-color: ",";\n    border-radius: 6px 6px 0px 0px;\n"])),(function(e){return e.theme==S.a?"rgba(0, 0, 0, 0.8)":"#F5F5F5"})),G=O.default.div(r||(r=K(["\n    margin-top: 0.3em;\n    font-size: 15px;\n    line-height: 1;\n    color: ",";\n"])),(function(e){return e.theme==S.a?"#aaa":"#222"}));G.Item=O.default.span(c||(c=K(["\n    display: inline-block;\n    font-weight: ",";\n    max-width: 12em;\n    cursor: ",";\n    ","\n\n    & + & {\n        margin-left: 10px;\n        padding-left: 10px;\n        border-left: 1px solid #ddd;\n    }\n"])),(function(e){return e.active?"bold":"normal"}),(function(e){return e.active?"default":"pointer"}),I.a);var J=O.default.div(l||(l=K(["\n    position: absolute;\n    right: 12px;\n    top: 15px;\n    white-space: nowrap;\n"])));J.Item=O.default.i(m||(m=K(["\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    background-image: url(",");\n    ","\n    background-size: cover;\n    cursor: pointer;\n\n    & + & {\n        margin-left: 8px;\n    }\n"])),(function(e){var t=e.type;return{refresh:_.a,minimize:L.a}[t]}),(function(e){return e.pending?Q:""}));var B=O.default.p(u||(u=K(["\n    margin-top: 10px;\n    ","\n            \n    span {\n        color: #999;\n\n        em {\n            font-style: normal;\n            color: ",";\n        }\n    }\n\n    span + span {\n        margin-left: 8px;\n    }\n"])),I.a,(function(e){return e.theme==S.a?"#fff":"#333"}));function X(){var e=Object(S.d)(),t=P(Object(w.a)(),3),n=(t[0],t[1]),a=(t[2],P(Object(M.a)(),3)),o=a[0],i=a[1],r=a[2],c=P(Object(f.useState)(!1),2),l=c[0],m=c[1],u=P(Object(f.useState)(E.a.commNum),2),s=u[0],d=u[1],b=P(Object(f.useState)(E.a.browseNum),2),h=b[0],y=b[1],g=Object(C.a)(),v=Object(f.useContext)(j.c);Object(f.useEffect)((function(){function e(){d(E.a.commNum),y(E.a.browseNum)}return E.a.on("updateSectionInfo",e),function(){return E.a.off("updateSectionInfo",e)}}),[]);var x=Object(f.useCallback)((function(){return r(k.a.LIST,{sort:"hot"})}),[]),O=Object(f.useCallback)((function(){TT.sudo((function(){return r(k.a.MINE)})),g({eid:"usr/click/mypostbutton/community",eid_desc:"赛事社区/点击/我的帖子按钮"})}),[g]),I=Object(f.useCallback)((function(){var e=null;if(o==k.a.LIST)switch(i.sort){case"hot":e=E.a.sectionMomentListPopular.reload();break;case"new":e=E.a.sectionMomentList.reload();break;default:e=E.a.sectionMomentListPopular.reload()}o==k.a.MINE&&(e=E.a.userMomentList.reload()),e&&(m(!0),e.then((function(){m(!1),N.default.info({text:"刷新成功",container:document.getElementById("J_MatchCommunity_notice_".concat(v))})})).catch((function(e){})),e.catch((function(e){m(!1),N.default.error({text:"刷新失败：".concat(e.message),container:document.getElementById("J_MatchCommunity_notice_".concat(v))})}))),g({eid:"usr/click/refreshlist/community",eid_desc:"赛事社区/点击/刷新按钮"})}),[o,i,g,v]);return p.a.createElement(W,{theme:e},p.a.createElement(G,{theme:e},p.a.createElement(G.Item,{active:o==k.a.LIST,onClick:x,title:E.a.sectionName},E.a.sectionName),p.a.createElement(G.Item,{active:o==k.a.MINE,onClick:O},"我的帖子")),p.a.createElement(J,null,p.a.createElement(J.Item,{type:"refresh",onClick:I,pending:l}),p.a.createElement(J.Item,{type:"minimize",onClick:n})),p.a.createElement(B,{theme:e},p.a.createElement("span",null,p.a.createElement("em",null,h<1e5?h:"".concat((h/1e4).toFixed(1),"万")),"浏览"),p.a.createElement("span",null,p.a.createElement("em",null,s<1e5?s:"".concat((s/1e4).toFixed(1),"万")),"讨论")))}var D=n(1223),R=n.n(D);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,o,i=[],r=!0,c=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function U(){var e=Object(S.d)(),t=Object(f.useContext)(j.c),n=H(Object(w.a)(),3),a=n[0],o=n[1],i=(n[2],H(Object(f.useState)(a),2)),r=i[0],c=i[1],l=H(Object(f.useState)("pending"),2),m=l[0],u=l[1],s=H(Object(f.useState)(null),2),b=s[0],h=s[1];return a&&!r&&c(!0),Object(f.useEffect)((function(){if(r)return E.a.getSectionInfo().then((function(e){u("resolved")})).catch((function(e){u("rejected"),h(e)})),function(){u=h=function(){}}}),[r]),p.a.createElement("div",{className:d()(R.a["community-container"],R.a[e])},p.a.createElement("div",{className:d()(R.a["community-main"])},b&&p.a.createElement("div",{className:d()(R.a["community-err"],R.a[e])},p.a.createElement(y.a,{msg:b.message})),"pending"==m&&p.a.createElement("div",{className:d()(R.a["community-loading"],R.a[e])},p.a.createElement(g.a.Cover,null)),"resolved"==m&&p.a.createElement(Z,null)),"resolved"!==m&&p.a.createElement("i",{className:R.a["community-x"],onClick:o}),p.a.createElement("div",{className:R.a["community-global"]},p.a.createElement("div",{className:R.a["community-modal"],id:"J_MatchCommunity_modal_".concat(t)}),p.a.createElement("div",{className:R.a["community-notice"],id:"J_MatchCommunity_notice_".concat(t)})))}function Z(){Object(S.d)();var e=Object(f.useContext)(j.c),t=H(Object(M.a)(),4),n=t[0],a=t[1],o=(t[2],t[3]),i=H(Object(f.useState)(!1),2),r=i[0],c=i[1],l=Object(f.useCallback)((function(t){var n=E.a.postMoment(t);return n.then((function(){c(!1),o()})).catch((function(e){})),n.catch((function(t){if("SafeAuthError"!==t.name){var n=document.getElementById("J_MatchCommunity_notice_".concat(e));N.default.error({text:"发布失败：".concat(t.message),container:n})}})),n}),[e]),m=Object(f.useCallback)((function(){c(!0),o()}),[]),u=a.sort||"hot";return p.a.createElement("div",{className:R.a["community-content"]},p.a.createElement(X,null),p.a.createElement("div",{className:R.a["community-panel"],style:{display:n===k.a.LIST&&"hot"==u?"block":"none"}},p.a.createElement("div",{className:R.a.sectionMoments},p.a.createElement(q,null),p.a.createElement("div",{className:R.a["sectionMoments-list"]},p.a.createElement(x.a,{sectionMomentList:E.a.sectionMomentListPopular})))),p.a.createElement("div",{className:R.a["community-panel"],style:{display:n===k.a.LIST&&"hot"!=u?"block":"none"}},p.a.createElement("div",{className:R.a.sectionMoments},p.a.createElement(q,null),p.a.createElement("div",{className:R.a["sectionMoments-list"]},p.a.createElement(x.a,{sectionMomentList:E.a.sectionMomentList})))),p.a.createElement("div",{className:R.a["community-panel"],style:{display:n===k.a.MINE?"block":"none"}},p.a.createElement(v.a,null)),p.a.createElement("div",{className:R.a["community-panel"],style:{display:n===k.a.DETAIL?"block":"none"}},p.a.createElement(b.a,null)),(n===k.a.EDIT||r)&&p.a.createElement("div",{className:R.a["community-panel"],style:{display:n===k.a.EDIT?"block":"none"}},p.a.createElement(h.a,{onPublish:l,onExit:m})))}function q(){var e=H(Object(M.a)(),4),t=(e[0],e[1]),n=e[2],a=(e[3],Object(f.useCallback)((function(){return n(k.a.LIST,{sort:"hot"})}),[])),o=Object(f.useCallback)((function(){return n(k.a.LIST,{sort:"new"})}),[]),i=t.sort||"hot";return p.a.createElement("div",{className:R.a.sortNav},p.a.createElement("span",{className:d()(R.a["sortNav-item"],F({},R.a.active,"hot"==i)),onClick:a},"热门"),p.a.createElement("span",{className:d()(R.a["sortNav-item"],F({},R.a.active,"hot"!=i)),onClick:o},"最新"))}}}]);