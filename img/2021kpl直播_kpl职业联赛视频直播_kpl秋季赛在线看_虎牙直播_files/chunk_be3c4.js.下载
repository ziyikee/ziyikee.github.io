(window.HUYA_MAIN_BASE_WEBPACK_JSONP=window.HUYA_MAIN_BASE_WEBPACK_JSONP||[]).push([[32],{336:function(t,e,n){(function(e){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){var n,i;n=t,e=r[i=e],i in n?Object.defineProperty(n,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[i]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function a(t){this.time=t.time,this.target=t.target,this.rootBounds=d(t.rootBounds),this.boundingClientRect=d(t.boundingClientRect),this.intersectionRect=d(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect,t=(e=this.boundingClientRect).width*e.height;var e=(e=this.intersectionRect).width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function h(t,e){var n,r,i;if(e=e||{},"function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i=i||setTimeout((function(){n(),i=null}),r)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function f(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function l(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function p(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function v(t,e){var n=e.top-t.top;return{top:n,left:t=e.left-t.left,height:e.height,width:e.width,bottom:n+e.height,right:t+e.width}}function g(t,e){for(var n=e;n;){if(n==t)return!0;n=y(n)}return!1}function y(t){var e=t.parentNode;return 9==t.nodeType&&t!=m?u(t):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}var m,w,_,b;function E(){}function O(){O.init.call(this)}function T(t){return void 0===t._maxListeners?O.defaultMaxListeners:t._maxListeners}function I(t,e,n,r){var i,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener||n),i=t._events),o=i[e]):(i=t._events=new E,t._eventsCount=0),o?("function"==typeof o?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),o.warned||(r=T(t))&&0<r&&o.length>r&&(o.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=o.length,r=r,"function"==typeof console.warn?console.warn(r):console.log(r))):(o=i[e]=n,++t._eventsCount),t}function k(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function x(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function C(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(m=function(){for(var t=window.document,e=u(t);e;)e=u(t=e.ownerDocument);return t}(),w=[],b=_=null,h.prototype.THROTTLE_TIMEOUT=100,h.prototype.POLL_INTERVAL=null,h.prototype.USE_MUTATION_OBSERVER=!0,h._setupCrossOriginUpdater=function(){return _=_||function(t,e){b=t&&e?v(t,e):{top:0,bottom:0,left:0,right:0,width:0,height:0},w.forEach((function(t){t._checkForIntersections()}))}},h._resetCrossOriginUpdater=function(){b=_=null},h.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},h.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},h.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},h.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},h.prototype._initThresholds=function(t){return t=t||[0],Array.isArray(t)||(t=[t]),t.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},h.prototype._parseRootMargin=function(t){return(t=(t||"0px").split(/\s+/).map((function(t){if(!(t=/^(-?\d*\.?\d+)(px|%)$/.exec(t)))throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}})))[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},h.prototype._monitorIntersections=function(t){var e,n,r,i=t.defaultView;i&&-1==this._monitoringDocuments.indexOf(t)&&(e=this._checkForIntersections,r=n=null,this.POLL_INTERVAL?n=i.setInterval(e,this.POLL_INTERVAL):(f(i,"resize",e,!0),f(t,"scroll",e,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in i&&(r=new i.MutationObserver(e)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var i=t.defaultView;i&&(n&&i.clearInterval(n),l(i,"resize",e,!0)),l(t,"scroll",e,!0),r&&r.disconnect()})),t==(this.root&&this.root.ownerDocument||m)||(i=u(t))&&this._monitorIntersections(i.ownerDocument))},h.prototype._unmonitorIntersections=function(t){var e,n,r=this._monitoringDocuments.indexOf(t);-1!=r&&(e=this.root&&this.root.ownerDocument||m,this._observationTargets.some((function(n){if((r=n.element.ownerDocument)==t)return!0;for(;r&&r!=e;){var r,i=u(r);if((r=i&&i.ownerDocument)==t)return!0}return!1}))||(n=this._monitoringUnsubscribes[r],this._monitoringDocuments.splice(r,1),this._monitoringUnsubscribes.splice(r,1),n(),t==e||(n=u(t))&&this._unmonitorIntersections(n.ownerDocument)))},h.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var e=this._monitoringUnsubscribes.length=0;e<t.length;e++)t[e]()},h.prototype._checkForIntersections=function(){var t,e;!this.root&&_&&!b||(t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0},this._observationTargets.forEach((function(n){var r=n.element,i=p(r),o=this._rootContainsTarget(r),s=n.entry,c=t&&o&&this._computeTargetAndRootIntersection(r,i,e);c=n.entry=new a({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:i,rootBounds:_&&!this.root?null:e,intersectionRect:c}),s?t&&o?this._hasCrossedThreshold(s,c)&&this._queuedEntries.push(c):s&&s.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},h.prototype._computeTargetAndRootIntersection=function(t,e,n){if("none"!=window.getComputedStyle(t).display){for(var r=e,i=y(t),o=!1;!o&&i;){var s,c,u,a,h=null,f=1==i.nodeType?window.getComputedStyle(i):{};if("none"==f.display)return null;if(i==this.root||9==i.nodeType?(o=!0,i==this.root||i==m?_&&!this.root?!b||0==b.width&&0==b.height?r=h=i=null:h=b:h=n:(c=(s=y(i))&&p(s),u=s&&this._computeTargetAndRootIntersection(s,c,n),c&&u?(i=s,h=v(c,u)):r=i=null)):i!=(a=i.ownerDocument).body&&i!=a.documentElement&&"visible"!=f.overflow&&(h=p(i)),h&&(s=h,c=r,h=f=a=u=void 0,u=Math.max(s.top,c.top),a=Math.min(s.bottom,c.bottom),f=Math.max(s.left,c.left),h=Math.min(s.right,c.right),c=a-u,r=0<=(s=h-f)&&0<=c?{top:u,bottom:a,left:f,right:h,width:s,height:c}:null),!r)break;i=i&&y(i)}return r}},h.prototype._getRootRect=function(){var t,e;return e=this.root?p(this.root):(t=m.documentElement,e=m.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(e)},h.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}));return(e={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]}).width=e.right-e.left,e.height=e.bottom-e.top,e},h.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},h.prototype._rootIsInDom=function(){return!this.root||g(m,this.root)},h.prototype._rootContainsTarget=function(t){return g(this.root||m,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},h.prototype._registerInstance=function(){w.indexOf(this)<0&&w.push(this)},h.prototype._unregisterInstance=function(){var t=w.indexOf(this);-1!=t&&w.splice(t,1)},window.IntersectionObserver=h,window.IntersectionObserverEntry=a)),E.prototype=Object.create(null),(O.EventEmitter=O).usingDomains=!1,O.prototype.domain=void 0,O.prototype._events=void 0,O.prototype._maxListeners=void 0,O.defaultMaxListeners=10,O.init=function(){this.domain=null,O.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new E,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},O.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},O.prototype.getMaxListeners=function(){return T(this)},O.prototype.emit=function(t,e,n,r){var i,o,s,c="error"===t,u=this._events;if(u)c=c&&null==u.error;else if(!c)return!1;if(a=this.domain,c){if(c=e,a)return(c=c||new Error('Uncaught, unspecified "error" event')).domainEmitter=this,c.domain=a,c.domainThrown=!1,a.emit("error",c),!1;if(c instanceof Error)throw c;var a=new Error('Uncaught, unspecified "error" event. ('+c+")");throw a.context=c,a}if(!(i=u[t]))return!1;var h,f="function"==typeof i;switch(h=arguments.length){case 1:!function(t,e,n){if(e)t.call(n);else for(var r=t.length,i=C(t,r),o=0;o<r;++o)i[o].call(n)}(i,f,this);break;case 2:!function(t,e,n,r){if(e)t.call(n,r);else for(var i=t.length,o=C(t,i),s=0;s<i;++s)o[s].call(n,r)}(i,f,this,e);break;case 3:!function(t,e,n,r,i){if(e)t.call(n,r,i);else for(var o=t.length,s=C(t,o),c=0;c<o;++c)s[c].call(n,r,i)}(i,f,this,e,n);break;case 4:!function(t,e,n,r,i,o){if(e)t.call(n,r,i,o);else for(var s=t.length,c=C(t,s),u=0;u<s;++u)c[u].call(n,r,i,o)}(i,f,this,e,n,r);break;default:for(o=new Array(h-1),s=1;s<h;s++)o[s-1]=arguments[s];!function(t,e,n,r){if(e)t.apply(n,r);else for(var i=t.length,o=C(t,i),s=0;s<i;++s)o[s].apply(n,r)}(i,f,this,o)}return!0},O.prototype.addListener=function(t,e){return I(this,t,e,!1)},O.prototype.on=O.prototype.addListener,O.prototype.prependListener=function(t,e){return I(this,t,e,!0)},O.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,k(this,t,e)),this},O.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,k(this,t,e)),this},O.prototype.removeListener=function(t,e){var n,r,i,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new E:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new E,this;delete r[t]}else!function(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}(n,i);r.removeListener&&this.emit("removeListener",t,s||e)}return this},O.prototype.removeAllListeners=function(t){var e,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=new E,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new E:delete n[t]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new E,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(;this.removeListener(t,e[e.length-1]),e[0];);return this},O.prototype.listeners=function(t){var e=this._events,n=e&&(n=e[t])?"function"==typeof n?[n.listener||n]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(n):[];return n},O.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):x.call(t,e)},O.prototype.listenerCount=x,O.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function R(t,e){return t(e={exports:{}},e.exports),e.exports}var A,S=(A=Object.freeze({__proto__:null,default:{}}))&&A.default||A,j=R((function(t,e){t.exports=t=function(t){var e;if("undefined"!=typeof window&&window.crypto&&(e=window.crypto),!e&&"undefined"!=typeof window&&window.msCrypto&&(e=window.msCrypto),!e&&void 0!==L&&L.crypto&&(e=L.crypto),!e)try{e=S}catch(i){}var n=Object.create||function(t){return r.prototype=t,t=new r,r.prototype=null,t};function r(){}var i={},o=i.lib={},s=o.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(function(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new c.init(n,t)}}),u=i.enc={},a=u.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new c.init(n,e/2)}},h=u.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new c.init(n,e)}},f=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},l=o.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,u=o/(4*s),a=(u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0))*s;if(o=t.min(4*a,o),a){for(var h=0;h<a;h+=s)this._doProcessBlock(i,h);n=i.splice(0,a),r.sigBytes-=o}return new c.init(n,o)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(o.Hasher=l.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}}),i.algo={});return i}(Math)})),B=(R((function(t,e){var n;t.exports=(n=j,function(t){var e=n,r=(o=e.lib).WordArray,i=o.Hasher,o=e.algo,s=[],c=[];!function(){function e(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;r<64;)!function(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return;return 1}(n)||(r<8&&(s[r]=e(t.pow(n,.5))),c[r]=e(t.pow(n,1/3)),r++),n++}();var u=[];o=o.SHA256=i.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],h=n[5],f=n[6],l=n[7],p=0;p<64;p++){p<16?u[p]=0|t[e+p]:(v=((g=u[p-15])<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,g=((d=u[p-2])<<15|d>>>17)^(d<<13|d>>>19)^d>>>10,u[p]=v+u[p-7]+g+u[p-16]);var d=r&i^r&o^i&o,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),g=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&h^~a&f)+c[p]+u[p];l=f,f=h,h=a,a=s+g|0,s=o,o=i,i=r,r=g+(v+d)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+h|0,n[6]=n[6]+f|0,n[7]=n[7]+l|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(64+i>>>9<<4)]=t.floor(r/4294967296),n[15+(64+i>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA256=i._createHelper(o),e.HmacSHA256=i._createHmacHelper(o)}(Math),n.SHA256)})),R((function(t,e){var n;t.exports=(n=j,void function(){var t=n.lib.Base,e=n.enc.Utf8;n.algo.HMAC=t.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=e.parse(n));var r=t.blockSize,i=4*r;n.sigBytes>i&&(n=t.finalize(n)),n.clamp(),t=this._oKey=n.clone(),n=this._iKey=n.clone();for(var o=t.words,s=n.words,c=0;c<r;c++)o[c]^=1549556828,s[c]^=909522486;t.sigBytes=n.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}())})),R((function(t,e){t.exports=j.HmacSHA256}))),M="huya.com";function D(){return H.get("game_did")}var U,P,H={set:function(t,e,n){var r=new Date;n?r.setTime(r.getTime()+n):r.setTime(r.getTime()+31536e8),r="expires="+r.toUTCString(),e=encodeURI(e),document.cookie=t+"="+e+"; "+r+";domain=."+M+";path=/"},get:function(t){for(var e=t,n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].split("=");if(i[0].trim()===e)return i[1]}return""},del:function(t){var e=new Date;e.setTime(e.getTime()-1);var n=this.get(t);n&&(this.set(t,"",-1),document.cookie=t+"="+n+";domain=."+M+";expires="+e.toGMTString())}};function N(t){var e,n;return(t=t?(e={},n=t,Object.keys(n).forEach((function(t){"string"==typeof n[t]&&(n[t]=n[t].trim()),null!==n[t]&&""!==n[t]&&void 0!==n[t]&&(e[t]=n[t])})),e):{}).timestamp=(new Date).getTime(),t.nonce=function(t){for(var e=0<arguments.length&&void 0!==t?t:32,n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",r=n.length,i="",o=0;o<e;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}(),t._s=function(t,e){var n,r,i;return e=e||D(),console.log("key:",e),t instanceof Object&&(r=t,i={},Object.keys(r).sort().forEach((function(t){i[t]=r[t]})),n=t=i,t=Object.keys(n).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&")),B(t,e).toString()}(t,H.get("guid")),t}function z(t){var e="";return Object.entries(t).forEach((function(t){t=(n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2))[0];var n=n[1];return e+="".concat(e?"&":"").concat(t,"=").concat(encodeURIComponent(n))})),e}function V(t,e,n,r,i){e=1<arguments.length&&void 0!==e?e:"GET",n=2<arguments.length?n:void 0;var o=3<arguments.length?r:void 0,s=4<arguments.length?i:void 0,c=new XMLHttpRequest;i=function t(){4===c.readyState&&(200===c.status||304===c.status?o(c.response):s(c.status),c.removeEventListener("readystatechange",t),c=void 0)},c.addEventListener("readystatechange",i),c.open(e,t),c.setRequestHeader("Content-Type","GET"===e?"text/plain":"application/x-www-form-urlencoded"),c.withCredentials=!0,c.send(n)}function F(t,e,n){e=1<arguments.length&&void 0!==e?e:{};var i=2<arguments.length?n:void 0;n=t.split("?"),e=N(r({e:t=n[1].replace("e=","")},e)),V("".concat(n[0]),"POST",z(e),(function(t){i&&i(t)}),(function(t){console.error(t),console.log("内部上报出错：",t)}))}function q(t,e,n){e=1<arguments.length&&void 0!==e?e:{};var r=2<arguments.length?n:void 0;V("".concat(t).concat(0<=t.indexOf("?")?"&":"?").concat(z(e)),"GET",{},(function(t){r&&r(t)}),(function(t){console.error(t),console.log("第三方上报出错：",t)}))}return D()||(U=function(t){for(var e=0<arguments.length&&void 0!==t?t:35,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",r="",i=0;i<e;i++)r+=n.charAt(parseInt(Math.random()*(n.length-1)));return r}(),P=U,H.set("game_did",P)),function(t){t=0<arguments.length&&void 0!==t?t:2,(document.domain||location.hostname).split(".").reverse().splice(0,t).reverse().join(".")}(),H.get("guid"),H.get("yyuid"),IntersectionObserver.prototype.THROTTLE_TIMEOUT=300,function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,O);var e,n,r,c=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);return s(this,e?(n=i(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(u);function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,t)).intersectionObserver=null,t.init(),t}return e=u,r=[{key:"reportApi",value:function(t,e,n){var r=1<arguments.length&&void 0!==e?e:{},i=2<arguments.length&&void 0!==n&&n;if(n=function(t){(i?q:F)(t,r)},!t)throw new Error("上报信息 url 必须要提供！");Array.isArray(t)?t.forEach(n):n(t)}},{key:"reportPageView",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};if(!t)throw new Error("曝光上报信息 adConf 必须要提供！");var r=null;try{r=JSON.parse(t)}catch(t){throw new Error("曝光上报信息 adConf 必须为json字符串！")}r.impressionLink.forEach((function(t){return F(t,n)})),r.impressionUrl.forEach((function(t){return q(t,n)})),r.thirdImpression&&r.thirdImpression.length&&r.thirdImpression.forEach((function(t){return q(t,n)}))}},{key:"reportClick",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};if(!t)throw new Error("点击上报信息 adConf 必须要提供！");var r=null;try{r=JSON.parse(t)}catch(t){throw new Error("点击上报信息 adConf 必须为json字符串！")}r.clickLink.forEach((function(t){return F(t,n)})),r.clickUrl.forEach((function(t){return q(t,n)})),r.thirdClick&&r.thirdClick.length&&r.thirdClick.forEach((function(t){return q(t,n)}))}},{key:"reportPlaying",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};if(!t)throw new Error("播放上报信息 adConf 必须要提供！");var r=null;try{r=JSON.parse(t)}catch(t){throw new Error("播放上报信息 adConf 必须为json字符串！")}r.playLink.forEach((function(t){return F(t,n)})),r.playUrl.forEach((function(t){return q(t,n)}))}},{key:"reportClose",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};if(!t)throw new Error("关闭与跳过上报 adConf 必须要提供！");var r=null;try{r=JSON.parse(t)}catch(t){throw new Error("关闭与跳过上报 adConf 必须为json字符串！")}r.skipLink.forEach((function(t){return F(t,n)})),r.skipUrl.forEach((function(t){return q(t,n)}))}},{key:"getLandingUrl",value:function(t){return t?JSON.parse(t).landingUrl:""}}],(n=[{key:"init",value:function(){var t=this;this.intersectionObserver=new IntersectionObserver((function(e){e.forEach((function(e){0<e.intersectionRatio&&(t.emit("exposure",e.target),t.intersectionObserver.unobserve(e.target))}))})),this.bind()}},{key:"startup",value:function(t){var e=this;document.querySelectorAll(t).forEach((function(t){(t.getAttribute("sdk-conf")||t.reportConf)&&e.observe(t)}))}},{key:"observe",value:function(t,e){var n=this;t.reportConf=e,this.emit("init",t),this.intersectionObserver.observe(t),t.addEventListener("click",(function(t){n.emit("click",t.target,t)}))}},{key:"bind",value:function(){this.on("exposure",(function(t){(t=t.getAttribute("sdk-conf"))&&Report.reportPageView(t)})),this.on("click",(function(t){(t=t.getAttribute("sdk-conf"))&&Report.reportClick(t)}))}},{key:"install",value:function(t){var e=this;t.directive("report",{bind:function(t,n){n=n.value,t.reportConf=n,e.observe(t)}})}}])&&t(e.prototype,n),r&&t(e,r),u}()}()}).call(this,n(127))}}]);