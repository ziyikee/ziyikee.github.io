(window.HUYA_MAIN_BASE_WEBPACK_JSONP=window.HUYA_MAIN_BASE_WEBPACK_JSONP||[]).push([[16],{338:function(n,t,e){"use strict";e.d(t,"c",(function(){return o})),e.d(t,"b",(function(){return a})),e.d(t,"a",(function(){return i}));var r=e(339);function o(){return new Promise((function(n,t){$.ajax({type:"post",url:"https://webwan.huya.com/wan/sq/history",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},data:Object(r.a)({})}).done((function(e){if(e){var r=e.code,o=e.data;200==r?n(o&&o.length?o:[]):t(new Error("ERROR (".concat(r,")")))}else t(new Error("Data Empty"))})).fail((function(n,e){t(new Error("Network Error(".concat(e,")")))}))}))}function a(n){var t=n.rid,e=n.slotCode,r=n.slotCnt;return new Promise((function(n,o){$.ajax({type:"POST",url:"https://e-stat.huya.com/api/info/get",dataType:"json",data:{rid:t,imps:JSON.stringify([{id:0,slotCode:e,slotCnt:r}]),content:JSON.stringify({gameId:0,gameName:"",title:""}),presenter:JSON.stringify({nick:"",uid:0}),uid:JSON.stringify({uid:HUYA_UTIL.getCookieVal("udb_uid")||"",huyaUa:"web&1.0.0&huya",guid:HUYA_UTIL.getCookieVal("guid")||""})},xhrFields:{withCredentials:!0}}).done((function(t){if(t&&200==t.code)if(t.data&&t.data.length){var e=[];t.data.some((function(n){if(n&&0==n.id)return e=n.ads&&n.ads.length?n.ads:[],!0})),n(e)}else o(new Error("Data Empty"));else o(new Error("ERROR (".concat(t&&t.code||"unknown",")")))})).fail((function(n,t){o(new Error("Network Error(".concat(t,")")))}))}))}function i(){return new Promise((function(n,t){$.ajax({type:"get",url:"//".concat("live.cdn.huya.com","/liveHttpUI/getNavCloudGame"),dataType:"json",cache:!0}).done((function(e){if(e){var r=e.mpGame;r&&r[1]&&r[1].length?n(r[1]):n([])}else t(new Error("response error"))})).fail((function(n,e){t(new Error("Network Error(".concat(e,")")))}))}))}}}]);