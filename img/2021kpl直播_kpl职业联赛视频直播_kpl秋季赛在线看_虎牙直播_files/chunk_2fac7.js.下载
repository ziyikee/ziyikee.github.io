(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[459],{1277:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);n(1277);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={createStyleSheet:function(e,t){var n;document.createStyleSheet?(n=document.createStyleSheet()).cssText=e:((n=document.createElement("style")).appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(n))},deepCopy:function(e,t){t=t||{};for(var n in e)"object"==i(e[n])?(t[n]=e[n].constructor===Array?[]:{},this.deepCopy(e[n],t[n])):t[n]=e[n];return t},byId:function(e){return"string"==typeof e?document.getElementById(e):e},byTagName:function(e,t){return(t||document).getElementsByTagName(e)},byClass:function(e,t){for(var n=[],i=new RegExp("(^|\\s)"+e+"(\\s|$)"),o=this.byTagName("*",t),a=o.length,s=0;s<a;s++)i.test(o[s].className)&&n.push(o[s]);return n},addHandler:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}};function n(e){var n='<iframe src="'+e.url+'" width="'+e.width+'px" height="'+e.height+'px" frameborder="0" class="create-layer-iframe"></iframe>',i=document.createElement("div"),o=document.getElementsByTagName("body")[0];if(function(e){var n=e.width,i=e.height+50,o="#"+e.idDom+"{width:"+n+"px;height:"+i+"px;margin-left:"+-n/2+"px;margin-top:"+-i/2+"px;}";t.createStyleSheet(o)}(e),i.id=e.idDom,i.className="create-layer",i.innerHTML="<h2>"+e.title+' <span class="close-create-layer" title="关闭" id="close'+e.idDom+'"></span></h2>'+n,e.idMask){var a=document.createElement("div");a.id=e.idMask,a.className="create-layer-mask",a.innerHTML="<i></i>",o.appendChild(a)}o.appendChild(i)}e.Createlayer=function(){this.initialize.apply(this,arguments)},Createlayer.prototype={initialize:function(e){this.defaultArgs=t.deepCopy(e,{width:720,height:510,url:"",title:"",idDom:"",idMask:""}),n(this.defaultArgs),this.bindEvent(this.defaultArgs),this.bindDrag(this.defaultArgs)},bindEvent:function(e){var n=this;this.nobleMask=t.byId(e.idMask),this.nobleLayer=t.byId(e.idDom),this.closeNobleLayer=t.byId("close"+e.idDom),t.addHandler(this.closeNobleLayer,"click",(function(){n.hide()})),$("#"+e.idMask).on("click","i",(function(e){e.preventDefault(),n.hide()}))},hide:function(){this.nobleMask&&(this.nobleMask.style.display="none"),this.nobleLayer.style.display="none"},show:function(e){(this.nobleMask&&(this.nobleMask.style.display="block"),e)&&t.byClass("create-layer-iframe",this.nobleLayer)[0].setAttribute("src",this.defaultArgs.url);this.nobleLayer.style.display="block"},bindDrag:function(){var e=this.nobleLayer,t=e.getElementsByTagName("h2")[0],n=0,i=0;t.onmousedown=function(o){o=o||window.event;return n=o.clientX-e.offsetLeft,i=o.clientY-e.offsetTop,document.onmousemove=function(t){var o=(t=t||window.event).clientX-n,a=t.clientY-i,s=document.documentElement.clientWidth-e.offsetWidth,r=document.documentElement.clientHeight-e.offsetHeight;return o=(o=o<0?0:o)>s?s:o,a=(a=a<0?0:a)>r?r:a,e.style.marginTop=e.style.marginLeft=0,e.style.left=o+"px",e.style.top=a+"px",!1},document.onmouseup=window.onblur=t.onlosecapture=function(){document.onmousemove=null,document.onmouseup=null,this.releaseCapture&&this.releaseCapture()},this.setCapture&&this.setCapture(),!1}}}}(window)}}]);