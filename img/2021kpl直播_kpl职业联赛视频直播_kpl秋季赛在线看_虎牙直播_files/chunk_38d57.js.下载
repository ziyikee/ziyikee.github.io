(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[495],{1264:function(n,a,e){},1265:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(n,a,e,t,l){var o=a.split("\n"),i=Math.max(t-3,0),s=Math.min(o.length,t+3),r=l(e),c=o.slice(i,s).map((function(n,a){var e=a+i+1;return(e==t?" >> ":"    ")+e+"| "+n})).join("\n");throw n.path=r,n.message=(r||"ejs")+":"+t+"\n"+c+"\n\n"+n.message,n},escapeFn=escapeFn||function(n){return null==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __line=1,__lines='<div class="room-miniPlayer">\n    <p class="drag-tips">按住视频可进行拖动</p>\n    <i class="drag-close"></i>\n    <div class="drag-ctrl">\n        <i class="drag-play"></i>\n        <i class="drag-pause"></i>\n    </div>\n</div>',__filename="widget/roomMiniPlayer/tpl.tmpl";try{var __output="";function __append(n){null!=n&&(__output+=n)}with(locals||{})__append('<div class="room-miniPlayer">\n    <p class="drag-tips">按住视频可进行拖动</p>\n    <i class="drag-close"></i>\n    <div class="drag-ctrl">\n        <i class="drag-play"></i>\n        <i class="drag-pause"></i>\n    </div>\n</div>'),__line=8;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},137:function(n,a,e){"use strict";e.r(a);e(1264);var t,l,o,i=e(0),s=e(4),r=e.n(s),c=e(453),u=$("#J_playerMain"),d=$("#liveRoomObj"),f=$("body"),p=e(1265),_=(t=0,l=null,o=$.Callbacks(),{init:function(){var n=this;this.statusChange=function(n){o.add(n)},d.on("mouseenter",(function(a){function e(n){-1!=t&&(l.find(".drag-ctrl").removeClass("videoStatus-0 videoStatus-1"),0!=n&&1!=n||l.find(".drag-ctrl").addClass("videoStatus-"+n))}1===t&&(l||((l=$(p())).on("mousedown",(function(n){Object(c.a)(d,n.originalEvent)})).on("click",".drag-close",(function(a){n.destory()})),l.on("click",".drag-play",(function(n){n.preventDefault(),i.default.call("shipinPlay")})).on("click",".drag-pause",(function(n){n.preventDefault(),i.default.call("shipinPause")})),e(i.default.get("videoStatus")),i.default.on("videoStatusChange",(function(n){e(n.videoStatus)})),d.append(l)))}))},open:function(){0===t&&(t=1,f.addClass("mod-player-float"),o.fire(t))},close:function(){1===t&&(t=0,f.removeClass("mod-player-float"),d.css({top:"",left:"",right:"",bottom:""}),o.fire(t))},destory:function(){t=-1,l.remove(),f.removeClass("mod-player-float"),d.css({top:"",left:"",right:"",bottom:""}),l=null,o.fire(t)}});_.init(),_.statusChange((function(n){1===n?(i.default.ready((function(n){i.default.call("xuanFuChange",1)})),i.default.call("playerFloat",1)):(i.default.ready((function(n){i.default.call("xuanFuChange",0)})),i.default.call("playerFloat",0)),-1===n&&$("#main_col").off("scroll.playerFloat")}));var g=1,m=function(){u.offset().top-150<-u.height()?1===g&&_.open():_.close()};m(),TT.on("liveStatusChange",(function(n,a){g=a,1===a?m():0===a&&_.close()})),$("#main_col").on("scroll.playerFloat",r.a.throttle(m,60))}}]);