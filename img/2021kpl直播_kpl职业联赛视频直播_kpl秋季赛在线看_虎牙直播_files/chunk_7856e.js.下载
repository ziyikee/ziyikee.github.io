(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[358],{1430:function(e,t,r){"use strict";var a=r(361),n=r(291),o=r(34);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.g.anchorInfo,t=arguments.length>1?arguments[1]:void 0,r=c({},e),a=!1;switch(t.type){case"GET_BADGE_ITEM_RSP":r.badge=t.data.lBadgeId>0&&{id:t.data.lBadgeId,type:t.data.iBadgeType,name:1==t.data.iBadgeType?t.data.tFaithItem.sFaithName:t.data.sBadgeName},r.defaultGift={type:t.data.iItemType,amount:t.data.iItemCount,name:o.giftShelfMap[t.data.iItemType]?o.giftShelfMap[t.data.iItemType].sPropsName:""},a=!0}return a&&(TT.log("%c action: "+t.type,"color: #1ABBFF"),TT.log("%c onTVLottery:anchorInfo: ","color: #1ABBFF",r)),r};function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.g.panelUI,t=arguments.length>1?arguments[1]:void 0,r=p({},e),a=!1;switch(t.type){case"PANEL_SHOW_CHANGE":r.isShow=e.isShow==n.f.PANEL_SHOW?n.f.PANEL_HIDE:n.f.PANEL_SHOW,a=!0;break;case"DIALOG_CHANGE":r.showDialog=t.data,a=!0}return a&&(TT.log("%c action: "+t.type,"color: #1ABBFF"),TT.log("%c onTVLottery:panelUI: ","color: #1ABBFF",r)),r};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return e.length?[{forFree:e[0].iFreeFansLevel,type:n.e.TYPE_BLACK_WHITE,typeName:"黑白",price:e[0].iPrice,amount:1},{forFree:e[1].iFreeFansLevel,type:n.e.TYPE_COLOR,typeName:"彩电",price:e[1].iPrice,amount:5},{forFree:e[2].iFreeFansLevel,type:n.e.TYPE_LARGE_COLOR,typeName:"大彩电",price:e[2].iPrice,amount:3}]:n.g.panelInfo.info.tvQueue}function P(e){if(e.iIsDiy){var t=e.tDiy;return{msgIcon:t.tBarrage.sIcon.replace(/<size>|&lt;size&gt;/,"26_26").replace(/<ua>|&lt;ua&gt;/,"web"),nick:t.tPanel.sName,ad:t.tPanel.sAD,adLink:t.tPanel.sADJump,specialUI:!!t.tPanel.sUIJson&&JSON.parse(HUYA_UTIL.unescape(t.tPanel.sUIJson))}}return{}}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.g.panelInfo,t=arguments.length>1?arguments[1]:void 0,r=b({},e),a=!1;switch(t.type){case"GET_ONTVPANEL_RSP":var o=t.data,i=o.tInfo.tSettingInfo,c=o.tInfo.tData;r=b(b({},r),{state:o.iState,isDiy:o.iIsDiy,diyInfo:P(o),info:{onTVId:o.tInfo.lOnTVId,mode:i.iAwardMode,partic:i.iPartic2,title:i.sTitle,anchorLogo:(o.iIsDiy?o.tDiy.tPanel.sLogo:i.sLogo)||i.sLogo,award:{amount:i.tAward.iAwardNum,name:i.tAward.sAwardName},tvQueue:y(i.vTVPrice.value),tvQueue_superFans:e.info.tvQueue_superFans,pack:i.vPack.value.slice(0,4),leftTime:e.info.leftTime,receivedAmount:c.iBarrageNum}}),a=!0;break;case"ONTV_DATA":r.info.receivedAmount=t.data.iBarrageNum,a=!0;break;case"LEFT_TIME_CHANGE":r.info.leftTime=t.data,a=!0}return a&&(TT.log("%c action: "+t.type,"color: #1ABBFF"),TT.log("%c onTVLottery:panelInfo: ","color: #1ABBFF",r)),r},T=r(307);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.g.playerInfo,t=arguments.length>1?arguments[1]:void 0,r=I({},e),a=!1;switch(t.type){case"GET_ONTVPANEL_RSP":var o=t.data,i=o.tInfo.tData,c=o.tInfo.tSettingInfo;r.sentAmount=i.iBarrageNum,c.iAwardMode==n.b.MODE_GIFT&&r.giftTVChoice>=c.vPack.value.length&&(r.giftTVChoice=0),a=!0;break;case"TV_ITEM_CHANGE":r.tvColor=t.data.choice,r.tvType=t.data.type,a=!0;break;case"GIFT_TV_ITEM_CHANGE":r.giftTVChoice=t.data,a=!0;break;case"INPUT_MSG_CHANGE":r.msg=t.data,a=!0;break;case"GET_ONTV_USER_INFO_RSP":r.sentAmount=t.data.iBarrageNum,r.fansLevel=t.data.iFansLevel,r.isSuperFans=parseInt(t.data.iSFFlag||0),r.iCustomBadgeFlag=t.data.iCustomBadgeFlag,a=!0;break;case"GET_NEW_BADGE":r.fansLevel=t.data.iBadgeLevel,r.isSuperFans=parseInt(t.data.tSuperFansInfo.iSFFlag||0),r.iCustomBadgeFlag=t.data.iCustomBadgeFlag,a=!0;break;case"BADGE_SCORE_CHANGED":r.fansLevel=t.data.tBadgeInfo.iBadgeLevel,r.isSuperFans=parseInt(t.data.tBadgeInfo.tSuperFansInfo.iSFFlag||0),r.iCustomBadgeFlag=t.data.tBadgeInfo.iCustomBadgeFlag,a=!0;break;case"SEND_MSG_RESPONCE":if(0==t.data.iRet){r.sentAmount=t.data.tInfo.iBarrageNum;var l=Object(T.i)(r.msg);l&&(r.placeholder=l),r.msg="",a=!0}break;case"FOLLOW_CHANGE":r.follow=t.data,a=!0;break;case"FOLLOWING":r.following=t.data,a=!0}return a&&(TT.log("%c action: "+t.type,"color: #1ABBFF"),TT.log("%c onTVLottery:playerInfo: ","color: #1ABBFF",r)),r};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.g.result,t=arguments.length>1?arguments[1]:void 0,r=A({},e),a=!1;switch(t.type){case"GET_ONTVPANEL_RSP":r.info=t.data.tAward.vInfo.value,a=!0}return a&&(TT.log("%c action: "+t.type,"color: #1ABBFF"),TT.log("%c onTVLottery:result: ","color: #1ABBFF",r)),r},_=Object(a.c)({anchorInfo:s,panelUI:g,panelInfo:v,result:E,playerInfo:w});t.a=_}}]);