(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[389],{1016:function(e,t,n){var o=n(1017);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(287)(o,a);o.locals&&(e.exports=o.locals)},1017:function(e,t,n){var o=n(286),a=n(288),i=n(1018);t=o(!1);var l=a(i);t.push([e.i,".Dashboard--1YOLiyN5b-OQbByGxmcC0g{position:absolute;bottom:100%;left:-1px;width:340px}.Dashboard--1YOLiyN5b-OQbByGxmcC0g .Dashboard-loading--2MbmydHuVxcf6jdOrSrKvm{width:100%;height:273px;background:url(https://a.msstatic.com/huya/main/assets/img/loading.gif) transparent 50% no-repeat}.Panel--TRN_ASs06cu2GFpywmzHr .Panel-content--2M3j1UsxXwwmJZM77NrApN{padding:10px}.Panel--TRN_ASs06cu2GFpywmzHr .Panel-nav--w71rIIE2Fg-mTpPIvIOuH{padding:8px;display:flex;align-items:center;border-top:1px solid #e8e8e8}.Panel--TRN_ASs06cu2GFpywmzHr .Panel-nav--w71rIIE2Fg-mTpPIvIOuH .Panel-nav-item--DWTozfWPyeLiGwy6HOom8{display:inline-flex;align-items:center;width:32px;height:32px;cursor:pointer}.Panel--TRN_ASs06cu2GFpywmzHr .Panel-nav--w71rIIE2Fg-mTpPIvIOuH .Panel-nav-item--DWTozfWPyeLiGwy6HOom8 img{max-width:100%;max-height:100%}.Panel--TRN_ASs06cu2GFpywmzHr .Panel-nav--w71rIIE2Fg-mTpPIvIOuH .Panel-nav-item--DWTozfWPyeLiGwy6HOom8.active--1Ty40OUCHfqT6CdjyShn0m{background-color:#e9e9e9;cursor:default}.Panel-nav-item--DWTozfWPyeLiGwy6HOom8+.Panel-nav-item--DWTozfWPyeLiGwy6HOom8{margin-left:10px}.emoticon-list--26Y75bWqQRJ0HxElFCXjC9{min-height:204px}.emot--1wangYrsEbFIf5E5OSQ_ZP{position:relative;z-index:0;width:34px;height:34px;margin-right:1px;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;cursor:pointer}.emot--1wangYrsEbFIf5E5OSQ_ZP .emot-icon--3sMammpGcvr6Q-hS2qcgo8{max-width:28px;max-height:100%}.emot--1wangYrsEbFIf5E5OSQ_ZP:hover{background:#FFD8AB}.emot--1wangYrsEbFIf5E5OSQ_ZP.emot-lock--22ljo-jNzix6pAFH3JfnEW::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;background:url("+l+') no-repeat 50%;background-size:30px;content:""}.emot--1wangYrsEbFIf5E5OSQ_ZP .emot-lock-icon--2OhSDUUvKMvaPQy0tAiNoq{position:absolute;z-index:2;max-width:16px;right:0;bottom:0}.emot--1wangYrsEbFIf5E5OSQ_ZP:hover .emot-preview--1S3xqssRUiIYxRiBW51kSe{display:block}.emot--1wangYrsEbFIf5E5OSQ_ZP .emot-preview--1S3xqssRUiIYxRiBW51kSe{display:none;position:absolute;transform:translateX(-50%);left:50%;bottom:100%;margin-bottom:5px;padding:2px 0;box-sizing:border-box;text-align:center;border-radius:3px;box-shadow:0px 0px 4px rgba(0,0,0,0.2);background:#fff}.emot--1wangYrsEbFIf5E5OSQ_ZP .emot-preview--1S3xqssRUiIYxRiBW51kSe img{margin:5px 10px 0;max-width:56px}.emot--1wangYrsEbFIf5E5OSQ_ZP .emot-preview--1S3xqssRUiIYxRiBW51kSe span{display:block;white-space:nowrap;text-align:center;line-height:2;color:#999;margin:0 5px}.emotGambler--3Hqvfgo_xFRvIv-7cWxDkf{margin:4px;display:inline-block;vertical-align:middle}.emotGambler--3Hqvfgo_xFRvIv-7cWxDkf:hover .emotGambler-icon--3_19S-knLdwa2JF9STTCa0{display:none}.emotGambler--3Hqvfgo_xFRvIv-7cWxDkf:hover .emotGambler-preview--1RY3Kv24SMhtQb2MHMVY6a{display:block}.emotGambler--3Hqvfgo_xFRvIv-7cWxDkf .emotGambler-icon--3_19S-knLdwa2JF9STTCa0,.emotGambler--3Hqvfgo_xFRvIv-7cWxDkf .emotGambler-preview--1RY3Kv24SMhtQb2MHMVY6a{display:block;width:54px;height:54px;cursor:pointer}.emotGambler--3Hqvfgo_xFRvIv-7cWxDkf .emotGambler-preview--1RY3Kv24SMhtQb2MHMVY6a{display:none}\n',""]),t.locals={Dashboard:"Dashboard--1YOLiyN5b-OQbByGxmcC0g","Dashboard-loading":"Dashboard-loading--2MbmydHuVxcf6jdOrSrKvm",Panel:"Panel--TRN_ASs06cu2GFpywmzHr","Panel-content":"Panel-content--2M3j1UsxXwwmJZM77NrApN","Panel-nav":"Panel-nav--w71rIIE2Fg-mTpPIvIOuH","Panel-nav-item":"Panel-nav-item--DWTozfWPyeLiGwy6HOom8",active:"active--1Ty40OUCHfqT6CdjyShn0m","emoticon-list":"emoticon-list--26Y75bWqQRJ0HxElFCXjC9",emot:"emot--1wangYrsEbFIf5E5OSQ_ZP","emot-icon":"emot-icon--3sMammpGcvr6Q-hS2qcgo8","emot-lock":"emot-lock--22ljo-jNzix6pAFH3JfnEW","emot-lock-icon":"emot-lock-icon--2OhSDUUvKMvaPQy0tAiNoq","emot-preview":"emot-preview--1S3xqssRUiIYxRiBW51kSe",emotGambler:"emotGambler--3Hqvfgo_xFRvIv-7cWxDkf","emotGambler-icon":"emotGambler-icon--3_19S-knLdwa2JF9STTCa0","emotGambler-preview":"emotGambler-preview--1RY3Kv24SMhtQb2MHMVY6a"},e.exports=t},108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=(0,o.__importDefault)(n(19)),i=(0,o.__importDefault)(n(28)),l=(0,o.__importDefault)(n(42)),r=n(4),c=(0,o.__importDefault)(n(988)),m=(0,o.__importDefault)(n(1019)),u=new(function(e){function t(){var t=e.call(this)||this;return t.visible=!1,t}return(0,o.__extends)(t,e),t.prototype.open=function(){this.visible||this.emit("open",this.visible=!0)},t.prototype.close=function(){this.visible&&this.emit("close",this.visible=!1)},t.prototype.toggle=function(){this.visible?this.close():this.open()},t}(a.default)),s=document.getElementById("J_inputEmot");!function(){var e=$(".j_chat-emot")[0];function t(t){if(!(s==t.target))try{e.contains(t.target)||"J_EmoticonActionButton"===t.target.id||u.close()}catch(t){}}null==s||s.addEventListener("click",(function(){return u.toggle()}),!1),u.on("open",(function(){e.style.display="block",l.default.render(i.default.createElement(c.default,{onClose:function(){return u.close()}}),e),document.body.addEventListener("click",t,!1)})),u.on("close",(function(){document.body.removeEventListener("click",t,!1),e.style.display="none",l.default.unmountComponentAtNode(e)}))}(),function(){var e=document.getElementById("J_chatEmotLnk"),t=(0,r.once)((function(){return l.default.render(i.default.createElement(m.default,null),e)})),n=null;function o(){u.visible||(clearTimeout(n),e.style.display="block",t())}function a(t){clearTimeout(n),!0===t?e.style.display="none":n=setTimeout((function(){e.style.display="none"}),200)}null==s||s.addEventListener("mouseenter",o,!1),null==s||s.addEventListener("mouseleave",a,!1),null==e||e.addEventListener("mouseenter",o,!1),null==e||e.addEventListener("mouseleave",a,!1),u.on("open",(function(){return a(!0)}))}()},355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEmoticonSerive=t.EmoticonService=void 0;var o=n(12),a=(0,o.__importDefault)(n(19)),i=(0,o.__importStar)(n(28)),l=(0,o.__importDefault)(n(75)),r=(0,o.__importDefault)(n(318)),c=(0,o.__importDefault)(n(325)),m=(0,o.__importDefault)(n(0)),u=(0,o.__importStar)(n(414)),s=(0,o.__importDefault)(n(82)),f=n(15),d=(0,o.__importDefault)(n(1010)),p={NONE:function(){},RECHARGEPAGE:function(){TT.emit("liveRoom_recharge")},NOBLEPAGE:function(){TT.event.emit("NOBLE_APPLY")},GuardPAGE:function(){TT.event.emit("GUARD_APPLY")},FANSPAGE:function(){window.open("https://hd.huya.com/web/hyfansintro/index.html")},SFANSPAGE:function(){TT.event.emit("SUPERFANS_APPLY")},MINIAPP:function(e){m.default.call("clickDiyIcon",{id:e+"_web_video_com"})},IACPAGE:function(e){m.default.call("openDIYActivityById",{id:e})},RNPAGE:function(){},H5PAGE:function(e){window.open(e)},SEND_GIFT:function(e,t){m.default.call("giveGift",{type:e,num:t,fromType:1})}},v=function(e){function t(t,n){var o=e.call(this)||this;return o.emoticon=t,o.history=n,o}return(0,o.__extends)(t,e),t.prototype.select=function(e,t){var n=e.id,o=e.name,a=e.type,i=this.emoticon.getUnavailEmoticonConfig(n),l=!i;if(this.emit("select",e,l,i),i)return!1;if(0===a)!1!==t&&this.history.add(e),u.default.elementFilter(u.EditorElementType.Emoticon).length<10?u.default.insert(o):s.default.speak.notice("表情最多发送10个～可以继续输入文字噢"),(0,f.reportEvent)({eid:"click/zhibo/emot",eid_desc:"点击/直播间/表情输入"});else if(1===a)return c.default.send(n)},t.prototype.action=function(e){e.toast,e.jumpKey;var t=e.jumpUrl,n=e.context,o=(e.actionType,r.default.getUnavailEmoticonActionName(e)),a=p;if(o&&a[o])switch(o){case r.default.UnavailEmoticonActionSendGfit:p.SEND_GIFT(parseInt(n.itemType,10),parseInt(n.itemCount,10));break;case"H5PAGE":p.H5PAGE(t);break;case"MINIAPP":p.MINIAPP(t);break;case"IACPAGE":p.IACPAGE(t);break;default:a[o]()}},t}(a.default);t.EmoticonService=v;var b=new v(l.default,new d.default(l.default,"TT_ROOM_EMOTICON_USING_HISTORY")),E=i.default.createContext(b);t.useEmoticonSerive=function(){return(0,i.useContext)(E)},t.default=function(e){var t=e.children;return i.default.createElement(E.Provider,{value:b},t)}},988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a,i=n(12),l=(0,i.__importStar)(n(28)),r=(0,i.__importDefault)(n(285)),c=(0,i.__importStar)(n(300)),m=(0,i.__importDefault)(n(289)),u=(0,i.__importStar)(n(355)),s=(0,i.__importDefault)(n(311)),f=(0,i.__importDefault)(n(336)),d=(0,i.__importDefault)(n(1013)),p=(0,i.__importDefault)(n(1016));function v(){var e=(0,u.useEmoticonSerive)().emoticon,t=e.availableEmoticonPackage,n=e.defaultEmoticonPackge,o=t.length>0?t:n,a=(0,l.useState)(o[0]),i=a[0],c=a[1];return l.default.createElement("div",{className:p.default.Panel},l.default.createElement("div",{className:p.default["Panel-content"]},l.default.createElement("div",{className:p.default["emoticon-list"]},i.emoticon.map((function(e){var t=null;switch(i.type){case 0:t=l.default.createElement(b,{emot:e,key:e.id});break;case 1:t=l.default.createElement(E,{emot:e,key:e.id})}return t})))),l.default.createElement("div",{className:p.default["Panel-nav"]},o.map((function(e,t){var n,o=e.packageId,a=e.coverUrl,m=e.name;return l.default.createElement("div",{key:o,onClick:function(){return c(e)},className:(0,r.default)(p.default["Panel-nav-item"],(n={},n[p.default.active]=e===i,n))},l.default.createElement("img",{src:a,alt:m}))}))))}function b(e){var t,n=e.emot,o=(0,u.useEmoticonSerive)(),a=(0,l.useCallback)((function(){return o.select(n)}),[n]),i=o.emoticon.getUnavailEmoticonConfig(n.id),c=i&&i.context&&i.context.sourceImage;return l.default.createElement("div",{onClick:a,className:(0,r.default)(p.default.emot,(t={},t[p.default["emot-lock"]]=i,t))},l.default.createElement("img",{className:p.default["emot-icon"],src:TT.trimUrl(n.url),alt:n.name}),!!c&&l.default.createElement("img",{className:p.default["emot-lock-icon"],src:TT.trimUrl(c)}),l.default.createElement("p",{className:p.default["emot-preview"]},l.default.createElement("img",{src:TT.trimUrl(n.extraUrl||n.url),alt:n.name}),l.default.createElement("span",null,n.name)))}function E(e){var t=e.emot,n=(0,u.useEmoticonSerive)(),o=(0,l.useCallback)((function(){return n.select(t)}),[t]),a=(0,l.useMemo)((function(){return JSON.parse(HUYA_UTIL.unescape(t.extraUrl))}),[t]),i=a.framesize,c=a.url;return l.default.createElement("div",{onClick:o,className:(0,r.default)(p.default.emotGambler)},l.default.createElement("i",{className:p.default["emotGambler-icon"],style:{backgroundImage:"url("+TT.trimUrl(t.url)+")"}}),l.default.createElement(E.Preview,{className:p.default["emotGambler-preview"],steps:i,url:c}))}E.Preview=c.default.i(o||(o=(0,i.__makeTemplateObject)(["\n    background: url(",") no-repeat;\n    animation: "," ","ms steps(",") infinite;\n"],["\n    background: url(",") no-repeat;\n    animation: "," ","ms steps(",") infinite;\n"])),(function(e){return e.url}),(function(e){return E.Keyframes(e.steps)}),(function(e){return 83*e.steps}),(function(e){return e.steps-1})),E.Keyframes=function(e){return(0,c.keyframes)(a||(a=(0,i.__makeTemplateObject)(["\n0% { \n    background-position: 0 0; \n}\n100% { \n    background-position: -","px  0; \n}\n"],["\n0% { \n    background-position: 0 0; \n}\n100% { \n    background-position: -","px  0; \n}\n"])),54*(e-1))},t.default=function(e){var t=e.onClose,n=(0,u.useEmoticonSerive)(),o=(0,l.useState)(null),a=o[0],i=o[1],r=(0,m.default)((function(e){e(n.emoticon.fetchExpressionEmoticonPackage(!0))}),[]),c=(r[0],r[1],r[2]);(0,l.useEffect)((function(){function e(e,n,o){n?t():i({emoticon:e,unavailEmoticon:o})}return n.on("select",e),function(){n.off("select",e)}}),[n,t]);var b="pending"===c;return l.default.createElement(u.default,null,l.default.createElement(s.default,{className:p.default.Dashboard,absissa:21},b&&l.default.createElement("div",{className:p.default["Dashboard-loading"]}),!b&&l.default.createElement(v,null)),a&&l.default.createElement(f.default,null,l.default.createElement(d.default,{unavailEmoticon:a.unavailEmoticon,emoticon:a.emoticon,onClose:function(){return i(null)},onAction:function(){return t()}})))}}}]);