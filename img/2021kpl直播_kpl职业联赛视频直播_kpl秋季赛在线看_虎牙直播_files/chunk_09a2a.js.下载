(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[241],{1048:function(e,n,t){},1049:function(e,n,t){},146:function(e,n,t){"use strict";t.r(n);t(1048);var i=t(0),o=t(3),a=t(8);Promise.all([t.e(4),t.e(5),t.e(6),t.e(3),t.e(7),t.e(8),t.e(9),t.e(15),t.e(63),t.e(58),t.e(64),t.e(62),t.e(57),t.e(60),t.e(65),t.e(49),t.e(61),t.e(75),t.e(241),t.e(402),t.e(401)]).then(t.bind(null,1464));var l=new a.a;i.default.isH5&&i.default.ready((function(e){e.addTafListener("1001",(function(e){var n=e.tNobleInfo;n.lPid==o.default.lp&&l.emit("notice:recharge",n)})),e.addTafListener("1006",(function(e){var n=e.tNobleInfo;n.lPid==o.default.lp&&66==e.iAttrType&&l.emit("notice:recharge",n)}))}));var r=l,u=t(294),s=t(4),c=t.n(s),f=t(33),d=t.n(f),h=t(319),p=(t(1049),t(1050)),v=t.n(p),g=t(1051),m=t.n(g),b=t(1052),I=t.n(b),y=t(1053),P=t.n(y),T=t(1054),L=t.n(T),N=t(1055),A=t.n(N),w=t(1056),O=t.n(w),U=c.a.once((function(){var e=[v.a,m.a,I.a,P.a,L.a,A.a,O.a];!function n(){var t=e.pop();t&&c.a.loadImg(t,(function(){n()}))}()}));function M(e){for(var n=(e+"").split(""),t="",i=0;i<n.length;i++)t+='<b class="noble-animation-n n-'+n[i]+'"></b>';return t}$(window).on("load",U),setTimeout(U,6e3);var _=t(1057);function j(e,n){return this.defer=new $.Deferred,this.nobleInfo=e,this.$container=n,this.initialize.apply(this,arguments),this.defer.promise()}j.prototype={initialize:function(){this.$container.html(this.tpl()),this.destroy()},tpl:function(){var e={type:this.nobleInfo.iOpenFlag,lv:this.nobleInfo.tLevel.iNobleLevel,isLegendary:66==this.nobleInfo.tLevel.iAttrType,months:this.nobleInfo.iMonths,uid:this.nobleInfo.lUid,nick:this.nobleInfo.sNickName,img:this.nobleInfo.sLogoUrl};return _({obj:e,createN:M})},destroy:function(){var e=this,n=e.nobleInfo.tLevel.iNobleLevel,t=66==e.nobleInfo.tLevel.iAttrType;setTimeout((function(){e.$container.empty(),e.defer.resolve()}),1e3*(t?8:[0,4.5,4.7,4.5,5.5,5,6][n]))}},j.prototype.constructor=j;var S=j,H=t(44),k=t.n(H);r.on("notice:recharge",(function(e){d.a.append((function(n,i){var o=document.createElement("div");return o.innerHTML=function(e){var n=t(1058),i=e.tLevel.iNobleLevel,o=66==e.tLevel.iAttrType,a={1:"剑士",2:"骑士",3:"领主",4:"公爵",5:"君王",6:"帝皇"};return n({obj:{lv:i,lvDesc:1==e.iOpenFlag&&o?"超神·帝皇":a[i],isLegendary:o,sNickName:e.sNickName,iOpenFlag:e.iOpenFlag,iMonths:e.iMonths}})}(e),o.querySelector(".J_userMenu").addEventListener("click",(function(){u.default.open({uid:e.lUid,muteText:"[贵族 升级/续费 消息]"})}),!1),o})),!k.a.cfg[20002]&&TTP.isH5&&TT.getUserInfo((function(n){1==e.tLevel.iNobleLevel&&2==e.iOpenFlag&&n.uid!=e.lUid||h.default.preprocess((function(n,t){$.when(new S(e,$("#J_bigStreamerStage")),new S(e,$("#player-nobel-open"))).done(n)}))}))}))},1464:function(e,n,t){"use strict";t.r(n);var i=t(0),o=t(4),a=t(33),l=t.n(a),r=t(44),u=t.n(r),s=t(49),c=t.n(s),f=t(50),d=t(1405),h=null,p=new function(e){var n=[];var t=null;function i(){null===t&&(t=setTimeout((function(){n.length?(e.onPop(n.shift()),t=null,i()):(t=null,e.onIdle())}),e.time))}this.size=function(){return n.length},this.push=function(e){e&&(n.push(e),i())},this.insert=function(e,t){t&&(n.splice(e,0,t),i())}}({time:500,onPop:function(e){var n=Object(a.createMessage)((function(t,i){return Object(d.mount)({data:e,didMount:t,unMount:function(e){i((function(){e(),h&&h.msg.id==n.id&&(h=null)}))}})}));!h||Object(o.getUid)()&&h.data.lUid==Object(o.getUid)()||(h.msg.elm.style.display="none"),h={msg:n,data:e.msg},l.a.push(n)},onIdle:function(){h=null}});function v(e){var n=e.tRidePetInfo,t=n.lPetId;!u.a.cfg[20003]&&(!Object(o.getUid)()||Object(o.getUid)()!=e.lUid)&&t>0&&c.a.list.length>0&&c.a.readAssets(n,s.PetSourceType.Pic).then((function(n){var t=n.data;return p.push({msg:e,mountsImg:t})})).catch((function(e){return TT.log(e)}))}l.a.on("willMount",(function(e){h&&e.appendChild(h.msg.elm)})),f.a.one("myNobleEnter",(function(e){var n=e.tRidePetInfo;n.lPetId>0&&c.a.getInfo().then((function(){c.a.readAssets(n,s.PetSourceType.Pic).then((function(n){var t=n.data,i=p.size()>0?1:0;p.insert(i,{msg:e,mountsImg:t})}))}))}),!0),i.default.isH5&&i.default.ready((function(e){return e.addTafListener("6110",v)}))}}]);