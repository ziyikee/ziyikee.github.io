(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[340],{1186:function(e,t,r){},368:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(19),i=r.n(n),o=r(68),a=r(14),l=(r(1186),r(0));function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=document.body;function s(e){var t=e.imgs,r=void 0===t?[]:t,n=e.imgIndex,i=void 0===n?0:n,u=e.visible,s=void 0!==u&&u,m=e.onCancel,d=void 0===m?function(){}:m,b=e.dom,y=void 0===b?f:b,g=c(Object(a.useState)(i),2),v=g[0],p=g[1],O=c(Object(a.useState)(r[v]),2),j=O[0],h=O[1];return Object(a.useEffect)((function(){h(r[v])}),[r,v]),Object(a.useEffect)((function(){p(i)}),[i]),Object(o.createPortal)(a.default.createElement("div",{className:["image-preview",2!=l.default.displayMode&&s?"visible":""].join(" ")},a.default.createElement("div",{className:"image-preview-bg",onClick:d}),a.default.createElement("div",{className:"main-img",style:{backgroundImage:"url(".concat(TT.trimUrl(j),")")}}),a.default.createElement("ul",{className:"small-img-wrapper"},r.length?r.map((function(e,t){return a.default.createElement("li",{className:["small-img-item",t===v?"active":""].join(" "),key:t,style:{backgroundImage:"url(".concat(TT.trimUrl(e),")")},onClick:function(){p(t)}})})):"")),y)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v="showImagesPreview",p=new i.a,O=function(e){var t=e.imgs,r=e.imgIndex;TT.ll("showImgs",r),p.emit(v,{imgs:t,imgIndex:r})};function j(){var e=y(Object(a.useState)({imgs:[],imgIndex:0,visible:!1,onCancel:function(){r(d(d(d({},{}),t),{visible:!1}))}}),2),t=e[0],r=e[1];return Object(a.useEffect)((function(){p.on(v,(function(e){var n=e.imgs,i=e.imgIndex;r(d(d(d({},{}),t),{imgs:n,imgIndex:i,visible:!0}))}))}),[]),a.default.createElement(s,{imgs:t.imgs,imgIndex:t.imgIndex,visible:t.visible,onCancel:t.onCancel})}var h=document.createElement("div");h.id="g-images-preview",document.body.appendChild(h),Object(o.render)(a.default.createElement(j,null),h)}}]);