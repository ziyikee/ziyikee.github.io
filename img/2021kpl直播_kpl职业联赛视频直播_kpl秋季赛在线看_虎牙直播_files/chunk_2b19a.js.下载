(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[337],{1116:function(e,t,n){"use strict";var a=n(28),r=n.n(a),i=n(42),o=n.n(i),l=n(285),d=n.n(l),m=n(310),s=n.n(m),c=n(305),u=n(294),f=n(1117),g=n.n(f);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e){var t=e.data,n=e.giftConf,i=e.onFinish,o=p(Object(a.useState)("entering"),2),l=o[0],m=o[1];Object(a.useEffect)((function(){var e=null;switch(l){case"entering":e=setTimeout((function(){return m("entered")}),750);break;case"entered":e=setTimeout((function(){return m("exiting")}),2e3);break;case"exiting":e=setTimeout((function(){return m("exited")}),500)}return function(){return clearTimeout(e)}}),[l]),Object(a.useEffect)((function(){"exited"===l&&i()}),[l]);var f=t.lSendUid,h=t.sSendNick,b=t.sSendAvatar,E=t.tItemSize,v=E.iPicWidth,F=E.iPicHeight,_=E.iItemHeight,O=E.iItemWidth,U=t.vItemRoute,P=t.tNobleLevel,C=P.iNobleLevel,w=P.iAttrType,N=Object(a.useCallback)((function(){u.default.open({uid:f,muteText:"[绘图礼物特效]"})}),[f]);return r.a.createElement("div",{className:d()(g.a.gde,{entering:g.a.animate__in,entered:g.a.animate__in,exiting:g.a.animate__out,exited:g.a.animate__out}[l])},r.a.createElement("div",{className:g.a["gde-bd"],style:{marginLeft:"".concat(v/2*-1,"px")}},r.a.createElement("div",{className:g.a["gde-drawimage"],style:{width:v,height:F,transform:"scale(".concat(y(v,F),")")}},U.value.map((function(e,t){var a=e.iItemType,i=e.iXPos,o=e.iYPos;return r.a.createElement("div",{key:t,className:g.a.elm,style:{left:i,top:o,width:O,height:_}},r.a.createElement("img",{src:x(n[a])}))})))),r.a.createElement("div",{className:g.a["gde-ft"]},r.a.createElement("p",{className:g.a.sender},r.a.createElement("span",{className:g.a.avatar},r.a.createElement(c.default,{url:b}),r.a.createElement(s.a,{level:C,attrType:w,className:g.a["noble-medal"]})),r.a.createElement("span",{className:g.a.nick,onClick:N},h),"送涂鸦礼物")))}function x(e){var t="";try{t=e.vPropsIdentity.value[0].sPropsWeb}catch(e){}var n=t.indexOf("&");return TT.trimUrl(-1==n?t:t.substring(0,n))}function y(e,t){var n=270/e;return t*n>480&&(n=480/t),n}t.a=function(e){var t=e.container,n=e.data,a=e.giftConf,i=e.onUnmount,l=document.createElement("div");l.className=g.a.root,t.appendChild(l),o.a.render(r.a.createElement(b,{data:n,giftConf:a,onFinish:function(){o.a.unmountComponentAtNode(l),l.remove(),i()}}),l)}},1117:function(e,t,n){var a=n(1118);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(287)(a,r);a.locals&&(e.exports=a.locals)},1118:function(e,t,n){(t=n(286)(!1)).push([e.i,"@keyframes bounceIn--1OF0QoXaeSF-Ct_UFg37se{0%,20%,40%,60%,80%,to{animation-timing-function:cubic-bezier(0.215, 0.61, 0.355, 1)}0%{opacity:0;transform:scale3d(0.3, 0.3, 0.3)}20%{transform:scale3d(1.1, 1.1, 1.1)}40%{transform:scale3d(0.9, 0.9, 0.9)}60%{opacity:1;transform:scale3d(1.03, 1.03, 1.03)}80%{transform:scale3d(0.97, 0.97, 0.97)}to{opacity:1;transform:scaleX(1)}}@keyframes fadeOutUp--3ynrYPKyviWxDsOmLx2Pya{0%{opacity:1}to{opacity:0;transform:translate3d(0, -30px, 0)}}.animate__in--nTaYxNek7NWZGOGSNGUf6{animation-duration:.75s;animation-name:bounceIn--1OF0QoXaeSF-Ct_UFg37se;animation-fill-mode:both}.animate__out---hWJKKYfiHRkRkhCnCjUG{animation-duration:.5s;animation-name:fadeOutUp--3ynrYPKyviWxDsOmLx2Pya;animation-fill-mode:both}.gde--lh5O1U3xXFZyrLFmEnZGC{position:relative}.gde--lh5O1U3xXFZyrLFmEnZGC .gde-bd--30JPz_RQnqAqje0opucB5s{position:absolute;z-index:1;bottom:0;left:50%}.gde--lh5O1U3xXFZyrLFmEnZGC .gde-bd--30JPz_RQnqAqje0opucB5s .gde-drawimage--qYknnVIU7_oJghe7TE8OE{position:relative;display:inline-block;transform-origin:center bottom}.gde--lh5O1U3xXFZyrLFmEnZGC .gde-bd--30JPz_RQnqAqje0opucB5s .gde-drawimage--qYknnVIU7_oJghe7TE8OE .elm--32pwMfNDMINdmEcjJD_eFP{position:absolute;display:flex;align-items:center;justify-content:center}.gde--lh5O1U3xXFZyrLFmEnZGC .gde-bd--30JPz_RQnqAqje0opucB5s .gde-drawimage--qYknnVIU7_oJghe7TE8OE .elm--32pwMfNDMINdmEcjJD_eFP img{max-width:100%;height:auto}.gde--lh5O1U3xXFZyrLFmEnZGC .gde-ft--1aCVQ7-vHmOBVl3r373g0n{position:absolute;z-index:2;bottom:0;left:0;width:100%;text-align:center}.gde--lh5O1U3xXFZyrLFmEnZGC .sender--3B6UpH-LEIxWFdFO3EM-lB{display:inline-flex;align-items:center;padding:2px 1em 2px 2px;height:32px;box-sizing:border-box;border-radius:16px;color:#fff;background:rgba(0,0,0,0.7)}.gde--lh5O1U3xXFZyrLFmEnZGC .sender--3B6UpH-LEIxWFdFO3EM-lB .avatar--1Ap5PY1HCDRQqLQjmxT5PG{position:relative;margin-right:.6em}.gde--lh5O1U3xXFZyrLFmEnZGC .sender--3B6UpH-LEIxWFdFO3EM-lB .avatar--1Ap5PY1HCDRQqLQjmxT5PG img{width:28px;height:28px;border-radius:50%}.gde--lh5O1U3xXFZyrLFmEnZGC .sender--3B6UpH-LEIxWFdFO3EM-lB .avatar--1Ap5PY1HCDRQqLQjmxT5PG .noble-medal--uiaXbTZ1nj_prUPTjKuUm{position:absolute;right:0;bottom:0}.gde--lh5O1U3xXFZyrLFmEnZGC .sender--3B6UpH-LEIxWFdFO3EM-lB .nick--1qhWEA3kdabMhMRWjwkX_Z{margin-right:.2em;max-width:8em;font-weight:bold;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}\n",""]),t.locals={animate__in:"animate__in--nTaYxNek7NWZGOGSNGUf6",bounceIn:"bounceIn--1OF0QoXaeSF-Ct_UFg37se",animate__out:"animate__out---hWJKKYfiHRkRkhCnCjUG",fadeOutUp:"fadeOutUp--3ynrYPKyviWxDsOmLx2Pya",gde:"gde--lh5O1U3xXFZyrLFmEnZGC","gde-bd":"gde-bd--30JPz_RQnqAqje0opucB5s","gde-drawimage":"gde-drawimage--qYknnVIU7_oJghe7TE8OE",elm:"elm--32pwMfNDMINdmEcjJD_eFP","gde-ft":"gde-ft--1aCVQ7-vHmOBVl3r373g0n",sender:"sender--3B6UpH-LEIxWFdFO3EM-lB",avatar:"avatar--1Ap5PY1HCDRQqLQjmxT5PG","noble-medal":"noble-medal--uiaXbTZ1nj_prUPTjKuUm",nick:"nick--1qhWEA3kdabMhMRWjwkX_Z"},e.exports=t}}]);