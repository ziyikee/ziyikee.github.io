(window.HUYA_MAIN_APP_WEBPACK_JSONP=window.HUYA_MAIN_APP_WEBPACK_JSONP||[]).push([[233],{1271:function(t,i,e){},1272:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(t,i,e,n,a){var d=i.split("\n"),o=Math.max(n-3,0),r=Math.min(d.length,n+3),c=a(e),s=d.slice(o,r).map((function(t,i){var e=i+o+1;return(e==n?" >> ":"    ")+e+"| "+t})).join("\n");throw t.path=c,t.message=(c||"ejs")+":"+n+"\n"+s+"\n\n"+t.message,t},escapeFn=escapeFn||function(t){return null==t?"":String(t).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(t){return _ENCODE_HTML_RULES[t]||t}var __line=1,__lines='<div class="tt-diyActLayer">\n    <div class="tt-diyActLayer-drag">按住此处可进行拖动</div>\n    <div class="tt-diyActLayer-cnt loading" style="width: <%=width%>px; height: <%=height%>px;"></div>\n    <i class="tt-diyActLayer-x"></i>\n    <div class="tt-diyActLayer-mask"></div>\n</div>',__filename="widget/DiyActLayer/tpl.tmpl";try{var __output="";function __append(t){null!=t&&(__output+=t)}with(locals||{})__append('<div class="tt-diyActLayer">\n    <div class="tt-diyActLayer-drag">按住此处可进行拖动</div>\n    <div class="tt-diyActLayer-cnt loading" style="width: '),__line=3,__append(escapeFn(width)),__append("px; height: "),__append(escapeFn(height)),__append('px;"></div>\n    <i class="tt-diyActLayer-x"></i>\n    <div class="tt-diyActLayer-mask"></div>\n</div>'),__line=6;return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},96:function(t,i,e){"use strict";e.r(i);e(1271);var n=e(8),a=e(453),d=e(401),o=e.n(d),r=e(1272);function c(t){var i=$.extend({src:"about:blank",left:0,top:0,width:0,height:0,zIndex:999,container:null},t),e=$.extend(this,new n.a),d=0;function o(){-1!=d&&(d=-1,e.emit("destroy"),e.off())}var c=$(r({width:i.width,height:i.height}));c.css({position:"fixed",left:i.left,top:i.top,zIndex:i.zIndex}),$(i.container).append(c);var s=document.createElement("iframe");function l(){c.find(".tt-diyActLayer-cnt").removeClass("loading")}c.find(".tt-diyActLayer-cnt").append(s),s.attachEvent?s.attachEvent("onload",l):s.onload=l,s.src=TT.trimUrl(i.src),c.on("click",".tt-diyActLayer-x",o),c.find(".tt-diyActLayer-drag").on("mousedown",(function(t){c.find(".tt-diyActLayer-mask").show(),Object(a.a)(c,t.originalEvent,(function(){c.find(".tt-diyActLayer-mask").hide()}))})),e.on("destroy",(function(){c.remove()})),$.extend(e,{destroy:o,iframe:s})}var s=null;i.default=function(t,i){s&&(s.destroy(),s=null);var e,n,a=$(i||document.getElementById("J_playerMain")),d=a.offset(),r=a.width(),l=a.height()-60,h=d.left-$(window).scrollLeft(),_=d.top-$(window).scrollTop(),p=h+20,u=h+r/2-t.iWidth/2,y=h+r-t.iWidth-20,f=_+20,v=_+l/2-t.iHeight/2,w=_+l-t.iHeight-20;1==t.iPos&&(e=p,n=f),2==t.iPos&&(e=u,n=f),3==t.iPos&&(e=y,n=f),4==t.iPos&&(e=p,n=v),5==t.iPos&&(e=u,n=v),6==t.iPos&&(e=y,n=v),7==t.iPos&&(e=p,n=w),8==t.iPos&&(e=u,n=w),9==t.iPos&&(e=y,n=w);var m=$(window).width()-t.iWidth-20,g=$(window).height()-t.iHeight-20;s=new c({src:t.sNativeUrl,left:Math.min(Math.max(e,20),m),top:Math.min(Math.max(n,80),g),height:t.iHeight,width:t.iWidth,container:document.body}),o.a.target=s.iframe.contentWindow,o.a.url=t.sNativeUrl,s.on("destroy",(function(){o.a.target=null,o.a.url=""}))}}}]);