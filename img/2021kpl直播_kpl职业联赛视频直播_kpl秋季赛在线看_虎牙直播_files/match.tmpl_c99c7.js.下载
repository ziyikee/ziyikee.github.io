(window.HUYA_MAIN_BASE_WEBPACK_JSONP=window.HUYA_MAIN_BASE_WEBPACK_JSONP||[]).push([[24],{333:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,n,a,t,r){var i=n.split("\n"),s=Math.max(t-3,0),_=Math.min(i.length,t+3),p=r(a),c=i.slice(s,_).map((function(e,n){var a=n+s+1;return(a==t?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=p,e.message=(p||"ejs")+":"+t+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%\r\nfunction ttt (timestamp) {\r\n    var today = new Date()\r\n    \r\n    today.setHours(0, 0, 0, 0)\r\n\r\n    var wee = Math.floor( today.getTime()/1000 )\r\n\r\n    var index = -1\r\n\r\n    $.each([wee, wee + 24*60*60, wee + 24*60*60*2], function(i, val){\r\n        timestamp >= val && index++\r\n    })\r\n\r\n    var date = new Date(timestamp * 1000)\r\n    var mon = date.getMonth()\r\n    var d = date.getDate()\r\n    var h = date.getHours()\r\n    var min = date.getMinutes()\r\n\r\n    function fixed2 (n) {\r\n        return (\'00\' + n).slice( (n + \'\').length )\r\n    }\r\n\r\n    return index > -1 && index < 2 ? ([\'今天\', \'明天\'][index] + \'&nbsp;&nbsp;&nbsp;\' + fixed2(h) + \':\' + fixed2(min)) : (fixed2(mon + 1) + \'.\' + fixed2(d) + \' \' + fixed2(h) + \':\' + fixed2(min))\r\n}\r\n%>\r\n<div class="hy-header-match-panel">\r\n\r\n    <div class="hy-header-match-sec">\r\n        <div class="hy-header-match-sec-hd">赛事热播</div>\r\n        <div class="hy-header-match-sec-bd">\r\n        <% if (data.matchLives.length + data.matchReplays.length > 0) { %>\r\n            <div class="hy-header-match-list">            \r\n                <ul class="J_hyHdMatchSecLive">\r\n                <% $.each(data.matchLives.slice(0, 6), function(i, item){ %>\r\n                    <li>\r\n                        <a class="match-item" target="_blank" href="<%=TT.app.main + TT.createRoomHost(item.privateHost, item.profileRoom, item.yyid)%>" title="<%= HUYA_UTIL.unescape(item.name) %>">\r\n                            <i class="icon-living"></i><span class="match-name"><%= HUYA_UTIL.unescape(item.name) %></span>&nbsp;\r\n                            <% if(item.schedule){ %>\r\n                                <% if(item.schedule.teamNum == 2){ %>\r\n                                <%= HUYA_UTIL.unescape(item.schedule.teamAName) %><i class="team-score"><%=item.schedule.teamAResult%></i>:<i class="team-score"><%=item.schedule.teamBResult%></i><%= HUYA_UTIL.unescape(item.schedule.teamBName)%>\r\n                                <% }else{ %>\r\n                                <%=item.schedule.title%>\r\n                                <% } %>\r\n                            <% } %>\r\n                        </a>\r\n                    </li>\r\n                <% }) %>\r\n                <% if(data.matchLives.length < 6){ \r\n                    $.each(data.matchReplays.slice(0, (6-data.matchLives.length)), function(i, item){\r\n                %>\r\n                    <li>\r\n                        <a class="match-item" target="_blank" href="<%=TT.app.main + TT.createRoomHost(item.privateHost, item.profileRoom, item.yyid)%>" title="<%= HUYA_UTIL.unescape(item.name) %>">\r\n                            <i class="icon-replay"></i><span class="match-name"><%= HUYA_UTIL.unescape(item.name) %></span>\r\n                        </a>\r\n                    </li>\r\n                <% })} %>\r\n                </ul>\r\n            </div>\r\n        <% } else { %>\r\n            <p class="hy-header-match-empty">暂无赛事热播</p>\r\n        <% } %>\r\n        </div>\r\n    </div>\r\n\r\n    <% if (data.matchNotices.length > 0) { %>\r\n    <div class="hy-header-match-sec">\r\n        <div class="hy-header-match-sec-hd">赛事预告</div>\r\n        <div class="hy-header-match-sec-bd">\r\n            <div class="hy-header-match-preview">            \r\n                <ul>\r\n                <% $.each(data.matchNotices, function(i, item){ %>\r\n                    <li>\r\n                        <div>\r\n                        <i class="hy-header-match-preview-time"><%-ttt(item.upTime)%></i>\r\n                        <span class="hy-header-match-preview-name" title="<%= HUYA_UTIL.unescape(item.title) %>"><%= HUYA_UTIL.unescape(item.title) %></span>\r\n                        <% if (item.liveState == 1) { %>\r\n                        <a class="hy-header-match-preview-btn" target="_blank" href="<%=TT.app.main + TT.createRoomHost(item.privateHost, item.profileRoom, item.yyid)%>">观看</a>\r\n                        <% } else { %>\r\n                            <% if (matchMap[item.eventId] && matchMap[item.eventId].subState ) { %>\r\n                        <a class="hy-header-match-preview-btn hy-header-match-preview-btn-gray J_book" data-eid="<%=item.eventId%>" href="#">已预订</a>\r\n                            <% } else { %>\r\n                        <a class="hy-header-match-preview-btn J_book" data-eid="<%=item.eventId%>" href="#">预订</a>\r\n                            <% } %>\r\n                        <% } %>\r\n                        </div>\r\n                    </li>\r\n                <% }) %>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <% } %>\r\n\r\n</div>',__filename="assets/template/head/match.tmpl";try{var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){function ttt(e){var n=new Date;n.setHours(0,0,0,0);var a=Math.floor(n.getTime()/1e3),t=-1;$.each([a,a+86400,a+172800],(function(n,a){e>=a&&t++}));var r=new Date(1e3*e),i=r.getMonth(),s=r.getDate(),_=r.getHours(),p=r.getMinutes();function c(e){return("00"+e).slice((e+"").length)}return t>-1&&t<2?["今天","明天"][t]+"&nbsp;&nbsp;&nbsp;"+c(_)+":"+c(p):c(i+1)+"."+c(s)+" "+c(_)+":"+c(p)}__line=27,__append('\r\n<div class="hy-header-match-panel">\r\n\r\n    <div class="hy-header-match-sec">\r\n        <div class="hy-header-match-sec-hd">赛事热播</div>\r\n        <div class="hy-header-match-sec-bd">\r\n        '),__line=33,data.matchLives.length+data.matchReplays.length>0?(__append('\r\n            <div class="hy-header-match-list">            \r\n                <ul class="J_hyHdMatchSecLive">\r\n                '),__line=36,$.each(data.matchLives.slice(0,6),(function(e,n){__append('\r\n                    <li>\r\n                        <a class="match-item" target="_blank" href="'),__line=38,__append(escapeFn(TT.app.main+TT.createRoomHost(n.privateHost,n.profileRoom,n.yyid))),__append('" title="'),__append(escapeFn(HUYA_UTIL.unescape(n.name))),__append('">\r\n                            <i class="icon-living"></i><span class="match-name">'),__line=39,__append(escapeFn(HUYA_UTIL.unescape(n.name))),__append("</span>&nbsp;\r\n                            "),__line=40,n.schedule&&(__append("\r\n                                "),__line=41,2==n.schedule.teamNum?(__append("\r\n                                "),__line=42,__append(escapeFn(HUYA_UTIL.unescape(n.schedule.teamAName))),__append('<i class="team-score">'),__append(escapeFn(n.schedule.teamAResult)),__append('</i>:<i class="team-score">'),__append(escapeFn(n.schedule.teamBResult)),__append("</i>"),__append(escapeFn(HUYA_UTIL.unescape(n.schedule.teamBName))),__append("\r\n                                "),__line=43):(__append("\r\n                                "),__line=44,__append(escapeFn(n.schedule.title)),__append("\r\n                                "),__line=45),__append("\r\n                            "),__line=46),__append("\r\n                        </a>\r\n                    </li>\r\n                "),__line=49})),__append("\r\n                "),__line=50,data.matchLives.length<6&&$.each(data.matchReplays.slice(0,6-data.matchLives.length),(function(e,n){__line=52,__append('\r\n                    <li>\r\n                        <a class="match-item" target="_blank" href="'),__line=54,__append(escapeFn(TT.app.main+TT.createRoomHost(n.privateHost,n.profileRoom,n.yyid))),__append('" title="'),__append(escapeFn(HUYA_UTIL.unescape(n.name))),__append('">\r\n                            <i class="icon-replay"></i><span class="match-name">'),__line=55,__append(escapeFn(HUYA_UTIL.unescape(n.name))),__append("</span>\r\n                        </a>\r\n                    </li>\r\n                "),__line=58})),__append("\r\n                </ul>\r\n            </div>\r\n        "),__line=61):(__append('\r\n            <p class="hy-header-match-empty">暂无赛事热播</p>\r\n        '),__line=63),__append("\r\n        </div>\r\n    </div>\r\n\r\n    "),__line=67,data.matchNotices.length>0&&(__append('\r\n    <div class="hy-header-match-sec">\r\n        <div class="hy-header-match-sec-hd">赛事预告</div>\r\n        <div class="hy-header-match-sec-bd">\r\n            <div class="hy-header-match-preview">            \r\n                <ul>\r\n                '),__line=73,$.each(data.matchNotices,(function(e,n){__append('\r\n                    <li>\r\n                        <div>\r\n                        <i class="hy-header-match-preview-time">'),__line=76,__append(ttt(n.upTime)),__append('</i>\r\n                        <span class="hy-header-match-preview-name" title="'),__line=77,__append(escapeFn(HUYA_UTIL.unescape(n.title))),__append('">'),__append(escapeFn(HUYA_UTIL.unescape(n.title))),__append("</span>\r\n                        "),__line=78,1==n.liveState?(__append('\r\n                        <a class="hy-header-match-preview-btn" target="_blank" href="'),__line=79,__append(escapeFn(TT.app.main+TT.createRoomHost(n.privateHost,n.profileRoom,n.yyid))),__append('">观看</a>\r\n                        '),__line=80):(__append("\r\n                            "),__line=81,matchMap[n.eventId]&&matchMap[n.eventId].subState?(__append('\r\n                        <a class="hy-header-match-preview-btn hy-header-match-preview-btn-gray J_book" data-eid="'),__line=82,__append(escapeFn(n.eventId)),__append('" href="#">已预订</a>\r\n                            '),__line=83):(__append('\r\n                        <a class="hy-header-match-preview-btn J_book" data-eid="'),__line=84,__append(escapeFn(n.eventId)),__append('" href="#">预订</a>\r\n                            '),__line=85),__append("\r\n                        "),__line=86),__append("\r\n                        </div>\r\n                    </li>\r\n                "),__line=89})),__append("\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    "),__line=94),__append("\r\n\r\n</div>"),__line=96}return __output}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}}}]);